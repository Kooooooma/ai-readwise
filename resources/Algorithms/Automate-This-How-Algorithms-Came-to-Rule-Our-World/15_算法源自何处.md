# 算法源自何处

千百年来,人类一直在设计、修改并分享着算法,这一活动早在算法这个词出现之前就开始了。算法无需用到高等数学,甚至可以和数学领域无关。巴比伦人处理法律事务时会用到算法,古时候拉丁语老师检查语法时会用到算法,医生靠算法来预测病情,无数遍布全球的普通人曾试图用算法预测未来。©

算法的核心就是按照设定程序运行以期获得理想结果的一套指令。将信息输入特定算法,结果就出来了。很多工科学生在大学一年级学习编程时,会被要求设计一种可以在非字棋对弈中毫无破绽的简单算法®。在他们的程序里,所谓的对手,也就是人的下棋招数形成输入。有了输入信息,算法通过接招生成输出。学生要想在这道设计题上得A,他设计的算法必须永远立于不败之地(但是很多时候打成平局)。

高频交易员或语言识别软件所使用的算法也按此方式运行。有了输入(可能是不同股票指数的走势、货币汇率被动和石油价格),也就有了输出:比如,买人通用电气股票。算法交易不过是依赖算法给出的何时购买何种交易品种的指示。构建一种变量很多的算法要比构建一种并字棋对弈的算法难多了,但理念都是相同的。

算法一词来源于公元9世纪的波斯数学家阿布·阿卜杜拉·穆罕默德·伊

① Jean-Luc Chabert, ed., A History of Algorithms: From the Pebble to the Microchip, translated by Chris Weeks (Berlin: Springer-Verlag, 1999).

②作者还是工程学本科学生的时候,在一次C语言编程课上,老师也布置了井字棋算法难题。

本、穆萨、花剌子密、他写了第一本关于代数的系统著作《还原与对消的科学》 (Al-Kitab al-Mukhtasar fi Hisab al-Jabr wa l-Muqabala)。代数(Algebra)的名字就 直接来自于书名中的"还原"(al-Jabr)。中古世纪的学者们用拉丁语传播花刺子 密的学说时,他名字的拉丁语音译"算法"(algorism)便成了任何程序化运算或 自动运算方法的统称。 $^{\circ}$ 

人们在靠近现代巴格达的舒鲁帕克地区发现了算法最早的文字记录。统治了 幼发拉底河流域1500年的苏美尔人把公元前2500年的泥板文书留给了世界、文书 阐释了在人数变动的一群人中均分谷物的可重复使用的方法。该方法使用的是小 型测量工具,这在当时很有用,因为粮商没有一次性称量几千磅食物的巨型天平。 那块用符号描述测量算法的泥板现在保存在伊斯坦布尔博物馆。

几千年前构建的某些算法在现今电子化的世界依然起着非常大的作用,而这 些作用是它们的创造者无法想象的。很多网站、无线路由器和任何需加密用户名 和密码的地方,都使用了一个名叫欧几里得的希腊数学家在2000多年前构思出来 的算法。

欧几里得算法(很多数学学者经常这样提及)在现代社会各行各业的应用程 序编制中无处不在,还可以被用来提取大部分现代音乐的节奏样板。 如约公元前 300年,欧几里得写了《几何原本》,在其后的2300多年间,此书一宵是几何教科 书的典范。书中包含了寻找不同数值的最大公约数的算法。任何有五年级数学水 平的人都可以用它迅速算出17是1785和374的最大公约数。

① 其伯特, A History of Algorithms。简介部分很多内容得益于更伯特先生的作品。

②同上。

(3) Godfried Toussaint, The Euclidean Algorithm Generates Traditional Musical Rhythms (Montreal; School of Computer Science, McGill University, 2005), http://cgm.cs.mcgill.ca/~godfried/publications/banff.pdf.

(Princeton, NJ: Princeton University Press, 1999), p. 33.

## 黄金分割

12世纪,欧洲刚刚引进阿拉伯数字和十进制,研究生物学、植物学、天文学,甚至是农学的人对随之发展起来的一个概念应该都不陌生。Ф尤其是数学家开始玩味一个神奇的比率1.618——也称黄金分割率——大自然中无处不在的一个数字。蕨类植物的叶片形状,DNA的分子结构,还有银河系行星的运行轨道无不包含着黄金分割比。® 注重比例的建筑师也被这一比率所吸引。看起来"正确"的伟大建筑总是在空间与图案的设计上体现了1.618这个比率。旅居瑞士的法国建筑师协·柯布西耶是20世纪最著名的建筑大师,他在自己很多建筑作品中体现了这一比率,比如位于巴黎附近的嘎尔什,始建于1929年的加歇别墅。最近,平面设计师发现很多苹果的产品也应用了这一比率,包括它的商标。®

列昂纳多·斐波那契发明了黄金分割数列,并将阿拉伯数字系统引入欧洲。 他被许多历史学家公认为中世纪最重要的数学家。类似近代银行的机构在意大利 中部崛起以前,比萨的列昂纳多广泛游历了地中海沿岸诸国,甚至到了东方。他 的父亲是比萨的海关官员,驻守在如今的阿尔及利亚的贝贾亚港一带。©斐波那 契是他为大众熟知的名字,他发现阿拉伯数字比笨拙的罗马数字好用得多,尤其 是涉及数学运算的时候。

1202年, 斐波那契发表《珠算原理》。这位年轻的数学奇才在书中解释了小数

① Niall Ferguson, The Ascent of Money (New York: Penguin, 2008), p. 34.

② Henry Linger, ed., Constructing the Infrastructure for the Knowledge Economy, Proceedings of the 12th International Conference on Information Systems and Development, Melbourne, Australia, 2003 (New York: Kluwer Academic/Plenum Publishers, 2004).

③ "Apple and the Golden Ratio," Paul Martin's Blog, http://paulmmartinblog.wordpress.com/2011/07/18/apple-and-the-golden-ratio/.

(1) Ferguson, The Ascent of Money, p. 34.

怎样转化为分数,怎样运用小数、分数简化记账法以及解决实际问题。斐波那契 解决了当时常见的难题,他举例说明了如何分发胡椒、动物毛皮和乳酪之类的物 资。斐波那契引用花剌子密的观点,发明了一系列西方文明几百年来频繁使用的 算法,用于未来现金流流量现值计算和类似现代抵押贷款的利息结算。◎

虽然很多古代数学家的贡献被尘封于历史档案中,但斐波那契的名字不仅至 今响彻华尔街,也为普通大众所熟知。斐波那契在销售州将近1亿的小说《达芬奇 密码》中备受瞩目,作者丹·布朗将《珠算原理》提到的神奇的斐波那契数列作 为一大重要元素来挖掘。斐波那契数列从第三项开始,每一项都等于前两项之和: 1、1、2、3、5、8、13、21、34……数列后一项与前一项的比值无穷趋近黄金分 割1.618。

黄金分割率在华尔街也有很多忠实的信徒,一些古怪的交易员利用黄金分割 或所谓的斐波那契数作为交易,指导操作数以十亿计的美元。最近20年来,市面 上有超过100本书鼓吹在商品、股票和外汇等各类交易市场中无处不在的黄金分 割,以及它在交易中所起的神奇作用。这些论断尚缺乏依据,但华尔街不正是— 个无数严密逻辑与同样多的荒谬理论和谐共存的矛盾体吗?

#### 现代算法的教父

戈特弗里德・莱布尼茨和同时代的艾萨克・牛顿一样、也是一位博学的通才。 他涉猎的领域遍及欧洲大陆绝大部分有趣的学科。莱布尼茨曾说过,在哲学上只 有两条绝对真理:神和虚无。

Dirk Struik, A Concise History of Mathematics (Mincola, NY: Dover, 1948), p. 80.

2) David Berlinski, The Advent of the Algorithm; The 300-Year Journey from an Idea to the Computer (New York: Mariner, 2001), p. 14.

为什么会想出只有0和1两个数字定义的计算语言了。

莱布尼茨发明了一种用1和0两个数字来表示数和一切运算(加减乘除)的数制。在他1703年发表的论文"关于只用两个记号0和1的二进制算术的阐释"中,这位数学家给出了二进制语言的定义。

乘布尼茨1646年生于莱比锡城,他出生的那条街道现在以他的名字命名。莱布尼茨从小就是优等生,15岁上大学,20岁完成博士学位课程。他非常善于交流,70岁躺在病床即将离世时,还在跟他的医师聊天,讨论着炼金术。Φ莱布尼茨在这个故事中的影响力源自他坚信二进制的应用范围会非常广,他不满足仅将其局限于博大精深的数学定理,也无心卷人和牛顿的微积分理论创始人之争。

莱布尼茨说一切物理变化皆有因。在某种程度上,人甚至也有外力作用于自身形成的既定轨道。博弈论,这个晚于莱布尼茨时代很久以后发展起来的学科就基于这一事实。因此莱布尼茨相信通过分析因果关系,绝大多数事物的未来都可被预测。②很多华尔街巨头对这一点的理解比任何人都要到位,要是莱布尼茨晚几个世纪出生,他定能在华尔街撑起一片天。

在构思上,莱布尼茨是历史上第一个接近人工智能的人。这位数学家明确规定了认知思维和逻辑可以被简化为二进制表达式。越复杂的思想越需要简单朴素的概念来描述。复杂的算法同样也是由一系列简单算法组成的。莱布尼茨说,逻辑总是能被无情地简化到其骨干,就像纷繁复杂的国家铁路网追根溯源是由一系列简单的铁道双向岔口组成的。如果逻辑能够被分解为一连串的二元判定,即便这样的二元判定树无限延伸,那么不用人也可以执行。莱布尼茨梦想着将所有逻

David Berlinski, The Advent of the Algorithm: The 300-Year Journey from an Idea to the Computer (New York: Mariner, 2001), p. 2.

@ Bertrand Russell, A Critical Exposition of the Philosophy of Leibniz (New York: Cosimo Books, 2008), p. 192.

辑思维简化为机械运算,他开始在自己设计的一台机器上实践着这个梦想。◎

听闻布莱士·帕斯卡造了一台加法器后,莱布尼茨下决心超过他,开始着手制造自己的机器。他的机器可以更加流畅地进行加减运算,并能解决乘除运算,这是帕斯卡的机器做不了的事情。莱布尼茨画了设计图,聘请到一位巴黎的钟表匠制造机器,终于在1674年造出一台更完善的机械计算器。©

他横跨英吉利海峡,来到伦敦,准备向当时汇聚知识精英的权威机构英国皇家学会展示他的作品。可是机器在展示过程中失效了,他不得不手动操作余数进位。®从此以后莱布尼茨便对机器失了兴趣,但他的设计却在之后的200年间发挥了重大作用,一代一代的计算器在此基础上相继问世,他的设计图也被收进文献记录。至于莱布尼茨自己做的那台机器却消失了近两个多世纪,直到1879年,一名修理漏雨屋顶的维修工在一间阁楼的低矮角落里发现了它。很显然,莱布尼茨把他那台黄铜圆柱机器藏在了哥廷根大学的那间阁楼里。

莱布尼茨是机器计算的先驱,他相信通过将人类逻辑推理分解为数学运算,能够找到一种演算推论器,即一种可以解决争议的算法。他曾设想人们在有争议的时候不必朝对方大喊大叫,只需带着笔和纸坐到桌前,计算谁的逻辑正确。④如果美国政治辩论能给我们些许提示,我们就会知道莱布尼茨永远也发现不了他那神圣的演算推论器。

菜布尼茨晚年承受着巨大的争议。虽然现在普遍公认他和牛顿同时发现了微 积分,但在当时经常与牛顿书信往来的菜布尼茨却被人指责剽窃英国人的成果。

Chabert, A History of Algorithms, p. 44.

② Bruce Collier and James MacLachlan, Charles Babbage and the Engines of Perfection (New York: Oxford University Press, 1998), p. 46.

3 Berlinski, The Advent of the Algorithm, p.3.

William Ewald, From Kant to Hilbert: A Source Book in the Foundations of Mathematics (Oxford: University Press, 1996), p. 446.

虽然他很难与牛顿这位历史上最多产的数学家和物理学家并驾齐驱,但他在很多 领域都卓有建树,颇负盛名。至于微积分,是他而不是牛顿创造了所有学微积分 的学生至今都在使用的积分与导数的优美符号。

微积分实现了对变化的精准研究与建模,莱布尼茨对微积分符号系统和理论的发展完整为数学家提供了构建强大算法的武器,数学家们利用微积分构建的算法制造半导体,实现无线电通信,©还可以以激光的精准度将人造卫星发射进轨道。微积分和算法的历史、价值和力量交织在一起。数学家戴维·伯林斯基在他的著作Infinite Ascent中很好地总结了这一关系:

人类思想史上爆发了回声阵阵的超音爆!在微积分被发现以前,数学是一门趣味盎然的学科;而在微积分被发现以后,数学变成了一门力量无穷的学科。只有20世纪出现的数学理念(计算机)算法的影响力可与之媲美。微积分和算法是西方科学界的两大主导思想。◎

20世纪60年代以前,还没有电脑黑客或数据分析专家这些称号。但或许这样的称号用在这位生活在欧洲文艺复兴黄金期的德国人身上很合适。莱布尼茨用三种方式推进了算法科学的发展,他是微积分的发明者之一;同样重要的是,他引进了数学建模算法,可以用一系列简单的二元区表示复杂难题。

他对算法的第三个贡献,在于他发现了存在于最简单的语言片段及其表达的人类情感之间的联系。莱布尼茨认为语言及人类如何使用语言应该用一种严谨、科学的方式来研究。他推想既然复杂如人的存在这样的问题都可以被分解为两个绝对项(不管是神和虚无或是1和0),那语言为什么不能被解构呢?为什么不能精选段落、句子、从句和词语从而探索到更多的意义呢?这位哲学数学家猜测人的

D Paul Nahin, The Science of Radio (New York: Springer-Verlag, 2001), p. xxxvi.

2 David Berlinski, Infinite Ascent: A Short History of Mathematics (New York: Modern Library, 2005), p. 45.

措辞是依靠他们的情感和认知来选择的。Φ

听其言,知其人;知其人,便很容易精确地推测他未来会做什么事。华尔街 或其他地方上演的算法推动的革命核心在于一个永恒的目标:预测。说得更准确 些,就是预测其他人会做什么,这就是赚钱的方法。莱布尼茨的预感——人类个 体的活动可按照被预测的方式进行——比任何人知道的都准确,这已经成了驱动 华尔街算法发展的事实。本书后面的章节会讲到,由莱布尼茨率先提出的预测人 类的科学是如何发展到美国航空航天局,又是如何渗入到我们生活的方方面面。

莱布尼茨有生之年没有看到他发明的二进制发展到他预想的高度。但是从20世纪30年代开始,可以运行算法的二进制电子电路相继在美国、德国和法国问世。 莱布尼茨发明的二进制数等了250多年才等到将自己的简约之美运用到材料科 学上。

今天,所有的计算机语言都是因为二进制才得以发展,而计算机语言也仅仅 是方便编写算法的工具而已。同样得益于二进制的还有运行算法的芯片和电路。
