# 算法帝国 [美]克里斯托弗 · 斯坦帝纳 著 李彼莹 译

人 民 邮 电 出 版 社 北 京

#### 图书在版编目(CIP)数据

算法帝国 / (美) 斯坦纳 (Steiner, C.) 著; 李筱 莹译. 一 北京: 人民邮电出版社, 2014.6

书名原文: Automate this:how algorithms came to rule our world?

ISBN 978-7-115-34900-2

I. ①算… II. ①斯… ②李… Ⅲ. ①算法一基本知识 Ⅳ. ①024

中国版本图书馆CIP数据核字(2014)第043543号

#### 内容提要

今天,算法涉足的领域已经远远超出了其创造者的预期。特别是进入信息时代以后,算法的应用涵盖金融、医疗、法律、体育、娱乐、外交、文化、国家安全等诸多方面,显现出源于人类而又超乎人类的强大威力。本书是《纽约时报》畅销书作者斯坦纳的又一力作,通过一个又一个引人入胜的故事,向读者介绍了算法掌控世界的真实情况,揭示了"机器人革命"是如何悄然在我们身边发生的。

本书适合所有对科技史、信息革命、算法原理、数据分析感兴趣的读者阅读参考。

◆ 著 [美] 克里斯托弗・斯坦纳

译 李筱莹 责任编辑 李松峰 毛倩倩 执行编辑 程 芃

◆ 人民邮电出版社出版发行 北京市丰台区成界等路11号邮编 100164 电子邮件 315@ptpress.com.cn

网址 http://www.ptpress.com.en 北京铭成印刷有限公司印刷

◆ 开本: 720×960 1/16

印数: 1-4000册

印张: 14.5

字数: 230千字

2014年6月第1版

1.00

2014年6月北京第1次印刷

著作权合同登记号 图字: 01-2013-4679号

定价: 49.00元

读者服务热线: (010)51095186转600 印装质量热线: (010)81055316

反盗版热线: (010)81055315

广告经营许可证:京崇工商广字第 0021 号

# 前言

2011年4月初, 加利福尼亚大学伯克利分校的进化生物学家迈克尔· 艾森登录 到亚马逊网站, 想要为自己的实验室购买一本课外书。 他要找的书是彼得· 劳伦 斯所著的肋gM。H饵矿。五b,, 讲的是苍蝇怎样曲一个单细胞卵长成为一只嗡嗡响 的飞虫。 这本@993年出版的书虽已绝版, 但还是很受专业学者和研究生的喜爱。 文森习惯花35~4o美元买旧书来读。但在4月8日这一天, 亚马逊网站上有两个知名 商家提供这本书的新书, 要价却远远高于他思意出的饯, 一家卖@B0045美元, 另一家卖2 198 @77美元。

艾森猜想这个天价肯定是误报或开玩笑。 他认为没有人(包括作者木人)会 对这书估价如此之高。 第二天他再次登录亚马逊查看, 却发现这本书非但没有回 归到正常价格, 反而分别涨到2 194 443美元和2 788 233美元。 第三天, 这本书又 涨到2 783 493美元和3 536 675美元。 此后连续WJ周, 书价一直在涨, 4月I8日到达 最高价23 698 655.93美元, 买家还得艾付3.99美元的运输贺! 4月19 日, 价格下降 到i06美元。

一本研究苍蝇遗传学、 晦涩难惯的书, 亚马逊为什么耍将它的价格设定为近 z400万美元呢7 是它突然受到了亿万富翁级收藏家的追捧吗7 是书里有找到宝贼 的线索吗?还是它成了图书界"1869年的拉菲"©?事情真相是这样的:两家书商都在亚马逊经营上万种书籍,并且都用算法给图书定价,然而不受监管的算法打了一场价格战。第一家书商利用算法将自己的价格设定为另一家的0.998 3倍,而第二家的算法则始终让自己的价格保持为第一家的1.270 589倍。就这样的相互"攀比",反复交手,最终让这本书的价格赶上了曼哈顿顶层家华公寓的价格。若非人为干预,覆盖系统设置,价格战还会继续升级。如果说这是一个意外事件,那倒也是一个关于算法失控但却没有造成什么损害的奇事。但差不多在一年以前,还发生过一件比它奇怪得多的事。

2010年5月初,由于政府出台财政紧缩计划,希腊爆发全国性大罢工。2010年5月6日早上,全球股市受希腊动荡局势的拖累而走低。很多人担心希腊债务违约在所难免,并且会引发全球经济萧条。纽约时间上午10点左右,美国股市大跌2.5%,损失惨重。

但事情很快由糟糕透顶发展成令人费解。

美国东部时间下午2点42分,股市剧烈波动后进入自由落体状态。2点47分,仅仅300秒之后,道琼斯指数下跌达998.5点,为其有史以来最大单日跌幅。全球最受重视的股票指数道琼斯工业平均指数的走势看起来就像是被人恶搞了一样。近1万亿美元的财富就这样蒸发了。

在这五分钟的时间里,美国全国广播公司财经频道(CNBC)主持人一开始还和嘉宾谈笑风生地聊着希腊的暴乱。那个时候道琼斯指数已经下跌了200点,而且这一天大部分时间它都保持在这个点位。当主持人艾琳·伯内特请出股评界的明星人物吉姆·克拉默时,道琼斯指数再次探底下跌达350点。当下跌点数达

① 拉菲葡萄酒是拉菲庄园(Chateau Lafite Rothschild)出产的享誉世界的法国波尔多葡萄酒之一。

500点的时候,这个激情四射的评论员镇定地小声嘀咕道:"这事儿还真有点儿意思。"

不到三分钟,观众就听见伯内特打断了关于希腊暴乱的谈话,说道琼斯指数 已经下跌800点了。她带着难以置信的口气呼叫CNBC驻纽约证券交易所记者斯科 特·韦普纳:"斯科特,人们都在说什么?现在已经下跌800点了。"

"当我问他们这里到底发生了什么……我也不知道。" 韦普纳回应道,费力地想要让自己表达清楚,"人们害怕了,投降式抛售,典型的投降式抛售。"

CNBC从纽约证券交易所切回到克拉默,虽然道琼斯指数在短短三分钟内下 跌近1000点,但他平静得有些古怪。"我刚坐下,"克拉默说,指的是他刚到演播 室时,"已经下跌了500点。"

主持人伯内特这时提到了宝洁公司,宝洁蓝筹股股价大跳水,数分钟之内下 跌25%,从62美元跌至47美元。这时克拉默再也忍不住了。

"这不可能。这不是真实价格。"克拉默恼怒地强调。然后又怒吼着:"好吧,那就买人宝洁吧。"他转过身直视摄像机,恳求观众:"现在就买吧,快去买!"

赞成者听从了他的建议。不只是克拉默,其他人也察觉到股票瞬间便宜了不少。道琼斯指数在下跌了998.5点触底之后开始迅速反弹,反弹过程就跟下跌过程一样快。实际上,反弹还要快一些。一分钟之内,日波幅难超300点的道琼斯指数,暴涨了300点。对此,每个人都困惑不已。

伊利诺伊州埃文斯顿的大型对冲基金公司迈格尼塔掌管着70亿美元的资金, 迈格尼塔的高级主管们听到骚动都冲出办公室来到公司的交易厅, "下面每个人都喊了起来:'买,买,买!'"迈格尼塔的交易员说, "不管你交易什么,买入就是了。"

位于东海岸的第一纽约证券公司的交易厅中的场景跟迈格尼塔如出一辙。超过120个交易员争先恐后地想让自己下的单被执行,每个人都大声喊着一个简单的词: "买入。"

"我的第一反应是:'好吧,这是个错误,但我要怎么利用它呢?'"第一纽约证券的联席交易负责人汤姆·多尼诺说,"我做这行有25年了,从没有遇到过这样的事。"

某些股票的每股购入价狂跌至1美分,让好多资产数十亿美元的公司一名不文,但却在数秒之内又反弹回30美元或40美元的股价。还有些股票猛然飙升。某一刻苹果的每股成交价高达10万美元(从约250美元一股开始上涨)。美股陷入剧烈动荡,无人知晓原因。不管问题出在哪里,总之不能全部归结到某个有严重借误的交易单或是某个流氓交易员。这场动荡来得如此迅疾,有些交易员或市场观察者或许就在上个厕所或喝杯咖啡的时间里完全错过了千点大跌又急速反弹的一幕。

回到CNBC演播室,伯内特和克拉默又看着道琼斯指数在不到三分钟的时间 里上升500点。虽然市场从未发生过如此剧烈的波动,但奇怪的是,克拉默却不以为然。

"很明显是机器坏了,系统瘫痪了。"克拉默说道,声音里流露出厌恶之情。

而身为记者的伯内特却愈发兴奋,她惊讶地说:"但不管怎么说,刚刚那一切 真的发生了,这故事太震撼了。"

"我觉得这是一个非常好的故事,"克拉默说得直截了当,"这是史上最好的故事,倘若没有人跟你提起,你将永远不知道这里发生了什么。"

克拉默说得没错。撰写此文之际,关于闪电崩盘的确切成因仍然众说纷纭。

有人把矛头指向堪萨斯城的一位财富投资经理人,他的算法过快出售掉价值40亿美元的股指期货,导致其他算法跟风。有人指责一伙不明交易商合谋共同利用算法打压股价。有人认为这不过是老式的恐慌造成的,跟1929年的大崩盘不无相似之处。然而可以肯定的是,如果不是因为不受人类管束的算法占据了市场,不到一秒内独立下单并完成交易,股价波动幅度不可能如此之大,波动速度也不可能如此之快。但这样的算法确实统治了市场。

算法通常都是按设定好的方式运行,有的安静地交易,有的(如亚马逊的算法)根据供需关系给书定价。但算法一旦处于失控的状态,就有可能做出怪异的事。随着越来越多的算法被引入来控制我们的世界,我们便会弄不清谁或是什么在帮后操纵。这早已成为了现实,算法在不知不觉中悄悄侵入我们的世界,直到有一天闪电崩盘将我们惊醒。

闪电崩盘使算法上了晚间新闻,但它并未就此消失。它很快又出现在关于约会、购物、娱乐和就医等任何你可以想到的领域的故事中。闪电崩盘只是预示了一个更大的趋势:算法掌控一切。

如果互联网或机器自动运行了某个程序,通常都会有一个简单的解释:算法。 关于算法最经典的定义就是,通过所掌握的信息使算法使用者得到某一针对性问题的答案,或掌握输出信息的一系列指令的策略。

比如说,你也可以写一个算法来决定早上穿什么上衣去上班。输入:温度、下雨的几率、下雪的几率、风速、预计步行距离和步行速度、晴天还是阴天。如果输入分别是25度、小雪、风速20英里/小时、阴天以及两个街区的短途步行,那么输出可能就是,比如说,你那件高泰斯面料风衣。很可能你自己从衣柜里抽出的也是这件,但算法的人侵就是从这种简单的任务开始的。算法跟决策树的运行方式很像,决策树解答复杂问题时需要考虑大量变量因素,而决策树又能被分解

成一连串的二元选择。每一片所需信息数据会把整个流程推向另一选择项或是节点,使其离输出生成更进一步。

多亏了计算机,算法已经演变成巨大的网络,最初对它的定义也已经不太合适了。在本书中,我通常把旨在执行一个任务的多元联系算法称为计算机程序。 这些计算机程序包含成千上万个输入、因数及函数。其中最复杂的程序就像是你 大脑的神经元网络:根据需要上下传递处理信息,它们是动态的,而且能够自我 改善。

数学使算法进入并控制着我们的生活。几个世纪以来,我们依靠数学观察世界。而今,数学已成了我们用来塑造世界、生活甚至文化的强有力工具。

随着算法及其背后的数学成为华尔街的标准,其他受算法影响较小的领域也吸引了数学家、工程师和物理学家的注意,华尔街把这一类人称为宽客,这个名字来源于数量分析专家(quantitative analyst)。这些宽客和计算机程序员正在寻找存在弱点的新产业,他们可以利用算法推翻该产业的旧秩序,从中谋取巨额利润。

算法的界限每天都在被突破。在日益增多的产业中,算法已经取代了人类。这是算法能够胜任的事,算法比人力快,价格也更低廉,而且如果它照预期运行,错误率也远低于人力。但随着算法变得越来越强大,越来越独立,结果却出人意料。在线音乐服务软件Pandora(潘多拉)用算法来识别用户的音乐品味,也许Pandora这个名字很合适。在古希腊神话里,潘多拉是宙斯创造的第一个人类女人,宙斯给了她一个漂亮的盒子,并且嘱咐她千万不要打开。但她还是打开了,盒子里装的灾难、瘟疫和祸害开始遍布人间。只有一件东西留在了里面:希望。

即将到来的算法时代有很多让人忧心的地方,但正如潘多拉的故事表明的,它也有很多令人憧憬的地方。算法会给数不胜数的领域带来进步,比如带来更好

的在线音乐服务,更高质的客服电话,更美好的周五晚餐约会,更高效的中央情报局,还有在癌症致命之前就能发现它的更好方法。

有些算法源自人工智能领域。它们也许比不上电影《2001太空漫游》里的机器Hal 9000(启发式算法电脑)那样聪明,那样具有自我意识,但算法能够发展进化。它们会观察、实验以及学习,能够完全独立于其创造者(人类)从事这些活动。如果使用了某些先进的计算机科学技术,比如机器学习和神经网络,算法甚至能够基于观察结果创造出新的改良的算法。算法已经能够创作出如贝多芬的音乐一样感人的曲调,像律师事务所的资深合伙人那样熟练选择要使用的法律术语,比医生更加准确地诊断病人,像经验丰富的记者那样写出流畅的新闻稿件,比人更加平稳地在公路上开车。

那么人们的职业将会承受何种变化?算法在这一方面也有发言权。我们曾经指责其他国家"偷"走了我们的工作,而现在这些工作正被一堆堆不知名的计算机代码夺走。如今最有社会地位上升机会的就是能够利用代码构建算法的人,他们构建的算法能快速航行在数据的海洋,识别数百万张脸,还能执行几年以前想都不敢想的任务。

### 黑客:新王朝缔造者

在现代词汇中,黑客一词有两种定义。在某些人看来,黑客行为本就属于犯罪——程序员自由出入本属禁区的电子财产领地。20世纪80年代描绘的黑客形象就是飞快敲打着键盘,侵入政府绝密信息库、银行及其他各种不属于他们领地的不法之徒。

然而在现代科技世界,这个词却表现出来其好的一面。这也是我在本书中使

用的定义。用硅谷的话来说,黑客就是能熟练编写计算机代码,并把白板上的理论转化成算法的人。他们构造的算法能做出重大决策、交易股票、开车、为大学申请者分类,还能跟世界上最优秀的人类玩家打扑克。

黑客的代码使算法成了我们的故事主角,并赋予其生命和影响千千万万人的能力。算法背后的代码成千上万条,这些代码把是与否的决策,或实时数据挖掘等数学函数与用户的输入联系起来。编写标准网页或自动化电子邮件程序等难度适中的计算机程序已被世界上千百万人所掌握。为需要创造力的领域编程,构思并写出解决人类难题的优美算法需要特殊的才能。

我历经曲折才完成这个算法革命的故事。2002年是我当工程师的最后一年,当时我用C语言写了一些简单的算法,从那以后我就没怎么写过有用的代码了。2003年我有了写作的欲望,于是进入新闻界。《芝加哥论坛报》是我第一个东家,我作为新闻编辑部的新人,四处搜集从火灾到谋杀案到商业故事等各种素材。我运气不错,后来在《福布斯》杂志的芝加哥办事处谋得一职。科技自然是我关注的焦点,我花了大量时间搜寻这个国家值得报道的新公司和新典范。

长时间和年轻企业家、工程师们待在一起常常令人感到精力充沛。我遇见过很多放弃了稳定的工作和平坦的职业道路的人,他们创办自己的公司,研发自己的产品。某一刻,我深受触动。多年来,我也想过很多创业点子。2010年秋天,我和朋友赖利·斯科特有了一个看起来行得通的点子。我们的想法最终变成了Aisle50,它是为客户提供目用百货商品团购的网站,让客户先登录Aisle50再去商场。在创办Aisle50时,我们成功申请成为硅谷的创业孵化器Y Combinator的一份子。Y Combinator是一家为新创企业提供资金技术支持,帮助他们联系投资者的公司。

我在Y Combinator遇到的很多同道中人在14岁时就学会了编程,到他们进大学时(通常是精英大学)就已经能够写出上千行代码,编写性能稳定的应用程序,

并且几个小时就能设计出一个原创网站。2011年夏天在Y Combinator的三个月让我了解到马克·扎克伯格这类人是如何产生的:他们并非天赋异禀,而是长年累月在电脑屏幕前练就了对代码的敏锐感知力,正如经验丰富的文字编辑对习语、标点及字体的用法烂熟于心,他们对代码也是再熟悉不过了。

这些代码的设计师和算法的撰写人是这一代最杰出的企业家。新王朝的缔造者不再来自商学院,而是来自工程学和计算机科学研究室,他们在这里夜以继日地研究编码作业,终于练就了一身编程本领,可以构建出有革新意义的算法,并创办由算法驱动的公司。有时候,这些算法构造者早早离开大学,甚至根本不去上大学。他们早在15、16和17岁的时候就已经知道怎样把自己想象的东西构建成型。

现在年轻人学习编程有很多途径。无数网络社区和聊天室都是专门为人们学习编写代码、构建算法而设立的。Y Combinator孵化项目的一份子Codecademy公司想出了一个非常受欢迎的点子:一个在线学习编程的趣味网站。网站上线后仅两个星期就吸引到20万用户。六个月后Codecademy与白宫建立了合作关系,旨在给那些接触不到编程教育的孩子提供编程课程。这就是现实:21岁的年轻人会用工具构建复杂算法,也能和美国总统成为合作伙伴。

Y Combinator只是算法深入各行各业这一大趋势的小缩影,而这一趋势通常是年轻人推动的。过去二三十年,这类革新分子引领了算法的潮流。他们构建的算法能帮人解决难题,助人发财致富,也能大范围抢走人们的饭碗。这本书讲的就是我们是如何实现这一切的,以及今后的发展趋势。

如今有志于从事计算机程序开发的人可接触到的学习资源,即便是和五年前 比起来也多得让人惊异。构造创新的算法并不是一件容易的事。但其难度却与日 俱减。所以有能力开发计算机程序的人(最聪明的数学、科学以及计算机人才)

前途无量。关于比尔·盖茨有一段轶闻,说他曾在空闲时间想方设法溜进华盛顿 大学的一个实验室玩计算机。这样的故事不会也无需再发生。现在学习技术很容易。

2009年年底我刚开始写这本书时,我的全部重心和索材都围绕着华尔街的算法。有一次我和在西北大学凯洛格管理学院任教的朋友比尔·贝内特一起吃午饭,我告诉他我在写一本关于算法如何掌控股票市场的书。他觉得这主意不错。但接下来他的目光越过他那盘腰果鸡丁,望向街对面对冲基金公司Magnetar所在的那幢楼,他说了一句对我写这本书很有指导意义的话。"真正的故事,"他说,"是它们会如何掌控一切。"

比尔说得对。华尔街仅仅是这个故事的开始。从这里开始, 算法的足迹无所 不在。

# 目录

| 第1章 | 华尔街,第一张多米诺骨牌                           |
|-----|----------------------------------------|
|     | 编写了期权代码之后, 彼得菲开始组建编程部, 雇用了更多的程序        |
|     | 员,因为他们在市场中的作用越来越大。在精明的杰里克和精通算法构        |
|     | 造的彼得菲的带领下, 莫卡塔赚取了数百万美元, 成为世界上最有影响      |
|     | 力的商品交易商之一。莫卡塔在成长、彼得菲的黑客军团也是如此。到        |
|     | 1975年,他们雇用了50名程序员,成为华尔街编程宝库的中流砥柱之一。    |
|     |                                                    |
|     | 1.1 黑客成长的艰难道路                              |
|     | 1.2 改变华尔街的算法                             |
|     | 1.3 1980 年华尔街的黑客生涯: 天时地利                 |
|     | 1.4 算法交易之父                                 |
|     | 1.5 算法传到好莱坞                              |
|     | 1.6 平板电脑的先驱                              |
|     | 1.7 算法从东海岸传到西海岸                          |
|     | 1.8 一个登上华尔街巅峰的黑客                         |
|     | 1.9 金融领域的未知前沿                            |
| 第2章 | 人与算法的简史                                |
|-----|----------------------------------------|
|     | 精妙绝伦的算法背后的高等数学正在复兴。从来没有任何一个时代          |
|     | 有像现在这么多的人懂它,也从来没有任何一个时代有像现在这么多的        |
|     | 人通过讨论与研究传播自己对于它的理解。你只需要登入硅谷创业公司        |
|     | 孵化器 Y Combinator 的黑客新闻留言板,这个已经发展成为世界上最 |
|     | 有影响力的网站、就能了解一切。                        |
|     |                                                    |
|     | 2.1 算法源自何处                                          | 42   |
|     | 2.2 黄金分割·····                               | 44   |
|     | 2.3 现代算法的教父                                         | 45   |
|     | 2.4 高斯: 实现算法的逻辑                                     | . 49 |
|     | 2.5 帕斯卡、伯努利和改变世界的博弈游戏                               | 53   |
|     | 2.6 赋形于算法                                           | 56   |
|     | 2.7 布尔逻辑机器                                          | -58  |
| 第3章 | 机器评出的前四十榜单                                      | · 62 |
|-----|----------------------------------------|
|     | 有三部电影, 算法的预测与实际情况相差较大; 另外六部, 其预测                |      |
|     | 却准确得令人难以置信。有一部电影制片厂期望收入一亿以上, 但实际                |      |
|     | 票房却只有 4000万,令人非常失望。算法的预测是 4900万。还有一个            |      |
|     | 预测与电影的实际票房相差没超过120万。突然之间,Epagogix成了制            |      |
|     | 片厂开机前分析剧本 (尤其是大制作剧本)必不可少的工具。                    |      |
|     | 你有 41%的机会成为 Lady Gaga ·······                   |      |
|     | A&R 机器说没有听到一首单曲······                           |      |
|     | 巴赫机器                                            |      |
|     | 解开披头士乐队之谜                                       | 89   |
| 第4章 | 计算机的秘密高速公路                                      | . 98 |
|     | 算法的价值全部体现在它的速度上。如果算法不能在微秒或毫秒级                   |      |
|     | 内完成复杂任务,也就不会成为革新的力量了。速度在很大程度上由一件事决定: 计算机硬件。 |      |
|     | 交易大过天                                           | . 99 |
|     | 不论好坏,金钱、速度与科技总是携手并肩                             |      |
|     | 速度孵化器······                                     |      |
| 第5章 | 系统里的博弈论                                         | 111  |
|     | 1989 年,IBM 批准了一批科学家着手构建一台计算机,声称要打               |      |
|     | 败国际象棋世界冠军。众所周知,这台计算机最终取名为"深蓝"(Deep              |      |
|     | Blue)。1997年,深蓝在其鼎盛时期打败了国际象棋大师加里·卡斯帕             |      |

|     | 罗夫,那时它重达 1.4 吨,同时运行者 256 个处理器,平均每秒可以权衡两亿步,而国际象棋大师加里·卡斯帕罗夫每秒只可以想三步。《美国新闻周刊》称这场象棋对弈为"大脑的最后一战"。                                                                                                                                                                                                                                                                          |
|-----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     | 让算法变狡猾114                                                                                                                                                                                                                                                                                                                                                             |
|     | 体育博彩118                                                                                                                                                                                                                                                                                                                                                               |
|     | 算法:中情局的幽灵119                                                                                                                                                                                                                                                                                                                                                          |
|     | 对算法来说,爱情和棒球的世界万事皆有可能                                                                                                                                                                                                                                                                                                                                                  |
| 第6章 | 呼叫机器人医生130                                                                                                                                                                                                                                                                                                                                                            |
|     | 但即便是最爱啃书本的老学究也难以消化并记住书里所有的内容。公道地说,这本书只是一份参考资料,在医生对某种药物不甚了解时,供其查找。然而,有一种算法,不仅能够在几秒之内从中找到相关内容并记住,还能利用药品生产企业的最新数据,不断地进行细致入做的调整。虽然医学表面上看起来不能被电脑程序入侵,但这一事实已经被算法掳动了——真正的改变即将到来。                                                                                                                                                                         |
|     | 生命的仲裁人130                                                                                                                                                                                                                                                                                                                                                             |
|     | 你的机器人医生135                                                                                                                                                                                                                                                                                                                                                            |
|     | 但是我预约的那个医生呢140                                                                                                                                                                                                                                                                                                                                                        |
| 第7章 | 人的分类i47                                                                                                                                                                                                                                                                                                                                                               |
|     | 每个人都有自己的人格类型。在真正的专家眼中,每个人都可以像动物园的动物一样被分类、加标签并编成目录。你是善变的猩猩还是温顺的小鹿呢?为人行事诡计多端,还是如阿贝(指历史上诚实的榜样,第16任美国总统亚伯拉军·林肯)一样诚实呢?拥有杰出技能的精神病学家只需通过和我们交谈,就能迅速得出答案。他们知道我们为什么而工作,为什么而奋斗,也知道我们和什么样的人合得来。但是平常给我们做性格测试的人中很少有这样的诊断专家,他们是风毛麟角的人才。但如果这类稀有人才能被一台机器模仿、复制,甚至发展得更强大呢?如果存在一套算法能识别我们的性格、发现我们的弱点、看透我们的思想并预测我们的行为呢?如果我们创造了一台拥有读心术的机器呢?  选对人:不能运气靠科学———————————————————————————————————— |
|     | 从美国航空航天局走进日常生活159                                                                                                                                                                                                                                                                                                                                                     |

| 第8章      | 华尔街与硅谷的较量167                                                                                                                                                                                                                                                                                             |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          | 2000年, 通过计算机程序交易的比率不足美国股市交易量的 10%。                                                                                                                                                                                                                                                                       |
|          | 华尔街大亨知道算法的存在, 但那时候算法还不足以撼动市场, 难以想                                                                                                                                                                                                                                                                        |
|          | 象有一天它会整合整个金融系统,并触发闪电崩盘这样的事件。                                                                                                                                                                                                                                                                      |
| 第9章      | 华尔街的损失让我们大家获益180                                                                                                                                                                                                                                                                                         |
|          | 文艺复兴科技是金融界数量分析精英人才最为集中的地方,事实上能在这个公司工作几年,收入肯定有几百万,甚至几千万美元。只有公司员工才能购买文艺复兴的"大奖章基金"。大奖章自 20世纪 90 年代初期成立以来,投资回报率增长了 30%,用基金创始人吉姆·西蒙斯的话来说,它使用算法交易数百万股"任何有价格波动的事物"。依照它一直以来的发展速度,大奖章仅用 20 年就能将 10 万美元变成 2000万美元。当绝顶聪明、精于计算的人才开始拒绝文艺复兴的财富,转而投向成果未知的硅谷时,人们心中的天平已经偏离了华尔街。他们走向硅谷———————————————————————————————————— |
| 第 10 章   |                                                                                                                                                                                                                                                                                                          |
|          | 康奈尔大学的计算机科学系教授乔恩·克莱因伯格编写了一套算法,这套算法在我们的只言片语间寻找线索,分辨谁是真正的影响者,谁具有左右舆论、引领潮流、引人注目的本领。这些人能决定选举结果,也能推动新产品面市。算法监听人们的谈话,辨明谁是掌控局面的人,以及其他人分别处在哪一等级。                                                                                                                                                                 |
|          | 条条大道                                                                                                                                                                                                                                                                                                     |
|          | 两个海岸的故事198                                                                                                                                                                                                                                                                                               |
| 致谢······ | 203                                                                                                                                                                                                                                                                                                      |
| 人名索引     | [                                                                                                                                                                                                                                                                                                        |
| 地名索引     | 213                                                                                                                                                                                                                                                                                                      |

# 第 1 章 华尔街,第一张多米诺骨牌

# 华尔街,第一张多米诺骨牌

**1** 987年年初的一天,纳斯达克交易所的一位工作人员出现在世贸中心的电梯间,我们就叫他琼斯吧。他找到合适的电梯,按下按钮。他是来例行拜访一位快速增长的客户。琼斯知道接下来见到的人是什么样儿,华尔街从事股权交易的人都大同小异:拥有常春藤名校教育背景、追逐利润的白人男性,没什么特别的。

他穿过走廊,来到办公区门前,沉住气并打起精神,做好了准备迎接里面的躁动和兴奋。交易所和电视上播出的抓钱游戏节目是一样的,一个人被塞进玻璃箱里,大把的钱从天而降。不过有一点不同,交易所漫天飞舞的交易单中有一些是赔钱的。而敏捷熟练的交易员能够快速交易,并飞快地分辨出哪些是赔钱的交易,哪些是可以赚钱的。

公司前台接待了琼斯,然后走进房间去请主人。她带来一位矮个子、满头银发、衣着整洁的男人。他叫托马斯·彼得菲,有着一双蓝色的眼睛,说话带着口

音。他非常欢迎琼斯的到来。

琼斯不会想到,彼得菲后来会成为身价超过50亿的富翁,美国最有钱的人之一。他那时还只不过是华尔街的暴发户。但他的交易量却不断上升,利润也不断扩增。琼斯一直很好奇彼得菲这样的人为什么能从市场中持续稳定获利。他雇用了最聪明的人吗?他有强大的研究部门吗?他是在冒大险、行大运吗?

琼斯不知道的是,彼得菲根本就不是一名交易商,而是一名计算机程序员。 他做交易靠的不是观察交易厅里人们的表情,预测市场的动向或经济趋势怎样影响股票走势,他靠的是写代码。他用各种计算机语言(如Fortran、C、Lisp)写出了成千上万行代码,它们构建的算法成就了他的交易所,虽然规模不大,但已是华尔街上最优秀的。他本人已经是华尔街新生代的领袖。

彼得菲带琼斯走进交易厅,琼斯迷惑不已。他看见的越多(其实没多少可看的),就越困惑。他预想的是骚动的人群、吵闹的电话声、打印机的声音,还有交易员向纳斯达克交易终端输入交易指令时此起彼伏的叫买叫卖声。可这场景并未出现在他眼前。实际上,他只看见一台纳斯达克交易终端。他潸楚彼得菲的交易量有多大,可是这怎么可能呢?谁是做交易的人呢?

"其他交易场所在哪儿呢?"琼斯问,"你的交易员呢?"

"那就是,全都在这儿呢。"彼得菲指向房间里唯一的纳斯达克交易终端旁边的IBM电脑说,"我们的交易都是用它完成的。"交易终端和IBM电脑之间有一团连接线,电脑里装有指示交易品种、交易时间和交易数量的代码。这位纳斯达克职员没有想到,他刚刚见到的是世界上第一台全自动算法交易系统。彼得菲的设备可不只是像过去的交易系统那样提示交易品种,也不仅是简单地弹出需要人来执行的交易单。这台电脑悄悄潜入纳斯达克交易终端,全权决定并执行交易,不

需要人的参与。虽然它的对手是人,但他们却都被打得一败涂地。

从纳斯达克终端得到的交易数据不断涌来,彼得菲的代码可以利用这些数据分析市场,轻易通过买家出价和卖家售价的不同来开出买单和卖单。这种价格上的不同成为交易差价,那时候纳斯达克交易市场差价每股可达25美分,那么进行一对1000股的交易(比如在S19.75价位开出买单,在\$20.00价位开出卖单),就可以无风险获利250美元。

对彼得非来说,他利用机器执行交易,风险成本可以更低。那时候交易员频 繁开出挂单0,他们面临的最大风险就是在经历一波市场动荡后,仍然可以将原来的挂单高高挂起。大多数做市场交易的人对市场的反应速度只能和交易员一样, 交易员必须不断地从电脑屏幕读取新的报价,研究报价信息,重新制订交易计划, 撤销老订单,再用纳斯达克终端键盘输入新的报价。交易员要是多吃了几口金枪 鱼三明治,或是和同事开了句玩笑,就有可能被交易市场甩在身后了。彼得菲的 电脑是不需要吃午餐的,它能紧紧咬住交易市场的波动起伏,大大降低风险,这可是人做不到的事情。

彼得菲的交易机构开启了华尔街的新篇章。从此,电脑程序员、工程师和数学家开始了对金融市场长达20年的大举进攻,所使用的利器就是算法和自动化交易,算法有时无比复杂精密,几乎智能化到可以取代人成为金融市场的决定性力量。

琼斯惊得目瞪口呆。彼得菲把这一切看做是创新的交易方式, 琼斯却认为他 用临时配置的终端作弊, 违反了交易规则。

① 证券市场电子化交易中,挂单一词等同于委托,即投资者决定买卖股票时通过电话、电脑等形式向交易系统发出的买卖股票的指令。——编者注

"你不能这么做。"琼斯说。

纳斯达克没有交易场所,所有交易都是通过电话或是电脑完成的。电脑网络接收从独立的纳斯达克交易终端的键盘上传来的交易指令。彼得菲整合了本应该连接到交易终端的数据线,将它连接到他的程序员和物理学家团队自制的嵌入IBM个人电脑主板的一块电路板上。IBM电脑运行的是彼得菲自己编写的软件程序。电脑通过纳斯达克的数据线获取信息,利用算法分析市场,迅速做出交易决定,然后将交易单通过一团连接线再传回纳斯达克终端的内部。在此之前,无人知晓彼得菲已然人侵了纳斯达克。

纳斯达克是不会让这奇妙精巧的设计和疯子科学家的实验室被市场参与者知晓的。其他交易者要是知道他们是在和IBM电脑所运行的算法斗智,而不是和市场上那些凭直觉下注的赌博者博弈,心里会舒服吗?纳斯达克不想知道答案。

"交易终端和IBM电脑的连接必须切断,你得像其他交易者那样,通过键盘一条一条地输入交易指令。"琼斯说。

琼斯离开了。彼得菲站在办公室里,想到这样也许会终结自己的事业。纳斯 达克给了他一周的改正时间,其交易必须符合监督员的要求。一想到要拆掉自己 的交易机器,他就痛苦不已。要去招聘交易员整天坐在电脑前输入交易指令,他 对这想法可没有丝毫兴趣,哪怕能招来年轻又廉价的交易员。他花了好几年的时 间才让自己的交易机构摆脱了人力交易的缺陷,摆脱了人的反复无常、一时兴起。 人难免会出错误、懒惰、开小差,关键是输入交易指令有延迟,因此重新使用人 力很难达到等同于机器自动化交易的效果,交易机构的高效会在一夜之间丧失。 必须有一个更好的解决方案。

晚上他回到上东区的住所准备睡觉,脑海中忽然浮现出一个解决方案。这个

方案行之不易,但却有可能解决问题。彼得非想,即使不用交易终端,他也能从中捕获信息。不用拼接连接线,不用嵌入电路板,什么都不用。但怎样实现呢? 他询问了自己的工程师,是否能够造出某种设备从屏幕直接读取信息,就像照相 机那样,然后将这些信息转化成电子字符,传送到等候指令的IBM电脑里。答案 是能。

但是解决数据来源的问题仅仅是个开头,由于没有任何人坐在纳斯达克终端前,彼得菲要怎样完成交易呢? 他不能像之前那样把一根传输线连接在纳斯达克终端上。不行,纳斯达克明确规定了交易指令必须得通过键盘输入。彼得菲灵光一闪,有了一个疯狂的念头。

在接下来疯狂的一周里,彼得菲和他最好的工程师忙着焊接金属、编写代码、焊接数据线。他们在纳斯达克终端屏幕前安装了一个大型菲涅耳透镜,放大屏幕字体。又在离透镜一英尺远的地方安装了一部相机。从照相机牵出一根数据线连接到旁边的一台电脑上。彼得菲和他的程序员仅用了几天时间就编写出了一套软件,可以解码照相机传来的可视化数据。那些数据从特定程序软件流到彼得菲已经做好的算法里,就是那些曾经通过数据线和纳斯达克终端直接相连的算法。

现在IBM电脑有了一根新的连接线,它不是接入到纳斯达克终端机箱,而是连接到了悬在终端键盘上空的那一堆密密麻麻的金属棒、金属塞和手柄上。如果说照相机和读屏设备略显奇怪,那么彼得菲设计出的这部分悬空的系统就是怪异得超乎寻常了。它让人想起工业大革命之初复杂精细的机械设备。这个装置是一个从零组装的自动化打字机。手柄断断续续敲打着键盘,执行从电脑传来的交易指令,不到30秒就有几十个交易单输入终端。

纳斯达克说交易单必须得有输入终端,可也没有规定谁来完成输入。彼得非 的团队花了六天时间创造了一种输入交易和指令的半机器人。表面上看,他遵守 了法律,但实际上却违反了法律的本质。可彼得菲并不担心。华尔街不就是一个 法律擦边球、变通方案和秘密交易无处不在的地方吗?而且总是青睐那些最有创 造力的骗子。

纳斯达克监督员琼斯一周后如约而至。彼得菲在电梯间见到他,带他穿过走廊,来到交易厅。门哐当一响,一周以前鸦雀无声的交易厅,现在是一派喧闹繁忙,这才是交易厅该有的样子嘛。彼得菲带琼斯穿过大门,骄傲地指向自己的创作。这位纳斯达克职员仿佛置身于儒勒·凡尔纳笔下的科幻小说所描述的场景。

"这是什么?"琼斯问。

彼得菲解释他的交易机器如纳斯达克要求的那样运作——键盘输入,一次一单。就在这时候,交易市场活跃起来了,机器也跟着忙碌起来。彼得菲的程序交易速度如此之快,输入设备就像一把全自动机关枪不停开火。交易单不断涌入,手柄噼里啪啦打在键盘上,噪声如此之大,甚至淹没了谈话声。机器每次停下来,仿佛要安静一会儿,谁知转瞬之间再次启动,更加气势汹汹地弹出比上次还要多的单子。这整个交易是华尔街的聪明人对规则的又一次令人叹为观止的绕行。

"他可不太喜欢这个机器。"彼得菲回想道。

彼得菲觉得这没什么大不了的,他还提出在这奇异装置前弄个洋娃娃模型来 

琼斯摇摇头,彼得菲扮了个鬼脸。他造出了世界上运行速度最快的交易机器,他也预料到这个交易机器可能面临被拆卸的命运。这位纳斯达克职员沉思了几分钟,然后一言不发地走出了彼得菲的办公室。彼得菲做了最坏的打算,那就是纳斯达克禁止他的发明参与交易。但是琼斯没有再回来,而且彼得菲担心的那个电话也没有打来。他的交易所完好无损。彼得菲几年前不到10万美元起家,在1987

年赚到了5000万美元。

1987年,彼得菲在华尔街还只是个无足轻重的小人物,但他却是新生代交易商的领袖之一。这些人擅长编写复杂的代码、焊接半导体芯片,并运用数学知识探索迷宫般的市场结构。彼得菲所做的事情理论上简单易懂,操作起来却复杂烦琐:他吸取了最聪明的交易员的智慧,用一系列的算法表达他们的思想。彼得菲的程序包含了一个高明的交易员在决策时所要考虑到的全部因素。不同之处在于电脑运行算法、核实价格、执行交易所用的时间要远远少于人为操作。

使用软件、代码和高速运行的电脑来击败市场的人不止彼得非一个。但彼得菲的发明(不管是敲打键盘的金属塞还是窃取数据的传输线)引发了一场革命。 今天,60%的交易由电脑在无人实时监管或很少监管的情况下自动执行。彼得菲 在华尔街演绎的故事是独一无二的。他不是有先见之明雇用程序员来扩充自己统 治领域的金融大亨,也不是自学编程期待在金融市场获得优势的华尔街玩家。他 与众不同的地方在于他是个程序员,一个优秀的程序员。早在他理解股票期权的 原理,理解为何不同公司的股票会走势一致之前,他就是一个程序员。

就这样,彼得菲用自己的编程技能、数学知识和编写复杂代码的能力,创造出了分层算法,从而颠覆了一个对他而言很陌生的领域:华尔街交易所。这种颠覆性的黑客范式在20世纪末风行于世界各地,并开启了21世纪:先是一个技术熟练的电脑代码和算法工程师对某一新的领域产生了兴趣,培养自身在该领域的技能,然后应用计算机科学,让代码片段模仿前人的操作,并战胜了无数的公司,破坏了行业标准,击败了行业的老旧势力,从而颠覆了整个行业。构建算法模仿、超越并最终取代人类,是21世纪最重要的能力。由于具有这种能力的人剧增,工作会逐渐消失,生活会发生巨变,各行各业都会重建规则。这已经发生了,这种趋势还会延续。这一趋势也如历史上的其他趋势一样追逐利益。这也就是为什么

它始于华尔街,很大程度上要归功于这位匈牙利移民。

## 黑客成长的艰难道路

在这30年来算法逐步入侵人类生活的故事中,托马斯·彼得菲或许是最为重要的人物之一,但他并不是出生在一个科技发达的时代,而是在人类历史上最残酷的战争时代。彼得菲于1944年苏联红军攻占布达佩斯的战火中出生在当地一家医院的地下室。他的父亲在第二次世界大战后踏上逃亡之路,他是由母亲和祖父母养大的。他童年的记忆就是恐惧,亲人失散、深夜迁徙、流离失所、饥寒交迫,比这更糟的他都经历过。

彼得菲在上高中的时候就领会了资本的意义。他把走私来的一条条果汁口香糖以高于成本价500%的价格卖给学生。13岁的时候,他组织三五成群的伙伴在废弃楼和瓦砾堆里搜寻金属,和比自己年龄大三四倍的人讨价还价,以最优的价格卖出他的废铜烂铁,和伙伴们分摊收益。后来他又勤勤恳恳做起了邮票买卖交易。在黑市上,邮票在某些地方卖得贵,而在另一些地方则便宜些,这让彼得菲兴奋不已。他发现了利用同一种商品的价格差在资产市场套利的妙处。套利者低买高卖的策略是很多现代化高效率的交易所的支柱,当然交易所要以更快的形式执行这一策略。

被得非高中毕业后在一所培养测量员的技校学习高等几何,为上大学、取得 土木工程的学位做准备。但在他21岁的时候,他的教育轨迹发生了偏离。那是1965 年,他获得了去西德拜访远亲的短期签证。他利用这次机会在西德申请美国移民 许可,最终申请获批。登上飞往纽约的航班时,这个匈牙利年轻人还不知道华尔 街,更别提他用来征服华尔街的计算机和算法了。 他在上东区找到一间两室公寓,同住者是一个因贪图酒色被教会驱逐的修道士。修道士一度带彼得菲做起了他的行当——匈牙利移民的非官方公证人。彼得非在纽约认识了越来越多的匈牙利移民,最终通过他们的帮助找到了新的住所,并在一家土木工程公司找到了一份公路设计绘图员的工作。

20世纪60年代中期,小型企业刚刚开始用上计算机。大批盒子一样的机器涌入用心良苦的企业主办公室,他们想利用计算机为企业增加客户群、提高效率。但计算机的隆重到来却遭遇了窘境,因为没有人懂得用程序指令运行它。很多买家尴尬地发现,尽管大家都非常看好计算机,实际操作起来却相当困难。因此,在这个时代企业主们所购置的计算机大都因长年累月不用积了灰,被扔到了杂物间去。

彼得菲的公司在1966年购进了第一台电脑,当时这家土木公司的员工没一个人知道怎么使用它。后来彼得菲毛遂自荐,他仔细研究了英文说明书,开始学习编写代码。他运用勾股定理创建了简单的算法,有些利用正余弦函数来求角,有些帮助工程师规定弯道的半径和斜率。1966年年末,彼得菲已为公司建造了一个程序库,并获得周薪65美元。对他来说,学习编程比学说英语简单。他是那样出类拔萃。

20世纪60年代末期,优秀的程序员可不缺工作,现在也是如此。编程为彼得 菲指明了一条通往财富和更好工作的道路。1967年,他的第一次机会来了,他离 开了土木公司,在一家帮助华尔街客户建立计算机系统的咨询公司Aranyi Associates 谋得一职。这个工作也是靠老乡的关系,公司老板是匈牙利移民雅诺斯·奥劳尼。

当时的华尔街正处在算法交易的酝酿阶段。也就是说,那个时代,算法机器 在人们的日常生活中或是华尔街都没有用处,那还是一个由人自己来执行人为的 决定和策略的世界。在华尔街,交易员基于他对市场走势的判断、已经持有的股 票量做出决策,大多数情况仅仅是凭不确定的直觉。他发出交易信号给另一个人, 后者在笔记本上记录交易。这就是华尔街。

第一次从事金融业工作,彼得菲构建了一种方便投资者和交易者一次性同时 比较证券不同特性和价值的算法。作为一个无依无靠的移民,彼得菲攻破了自己 所专注的领域,并取得巨大成就。他自学成才,成为一名令人钦佩的程序员。那 个时代程序员还很少,在华尔街几乎没有。

在Aranyi工作三年后,彼得菲的电脑技术使他得到了一份工作机会,这个工作非常有趣,来自一个叫亨利·杰里克的人,他是纽约市场最有名的玩家之一。杰里克原来是精神病医师,后来对商品交易产生了浓厚的兴趣,于20世纪60年代创建了从事大型贵金属交易的莫卡塔集团,公司名字源于杰里克原来的合作伙伴,一家具有300年历史的伦敦金行Mocatta & Goldsmid。©杰里克给彼得菲开出的起薪是2万美元外加4千美元奖金,大约相当于2012年的14.5万美元。对于一个几年前还和一个被驱逐的修道士同住一间没有暖气的公寓的人来说,这可是一大笔钱啊。彼得菲对贵金属市场有很好的盘感,并且由于自己的编程技术对公司越发重要,所以他在莫卡塔晋升得很快。

# 改变华尔街的算法

1969年,受雇于杰里克的彼得菲引进了华尔街的第一台黑盒。黑盒是用于接收市场数据,进行精密的运算处理后,指示客户买卖操作。其实,任何交易决策的算法大部分由模型、函数、决策树构建来模仿人如何做决策。如果莫卡塔的交易员通常在周五抛售黄金是因为他们注意到其他交易员在周末前都是看好行情

O Carolyn Cui, "From Healing to Making a Killing," Wall Street Journal Asia, April 27, 2010, p. A9.

的,那么这种倾向会被直接写人程序。不过要是黄金在工作日的前四天一直处于 低位, 莫卡塔的交易员也有可能忽略周五抛售规律。那么这种情况,也会通过一 系列相关联的算法直接写人程序。

1969年,实际执行交易的是通过电话下单或在交易厅叫买叫卖的英卡塔交易员,但交易决策却直接来自彼得菲编写的代码。彼得菲已经做得非常好了,但还是有一种他无法理解的黑盒。杰里克让他创建一种可以准确预测期权价格的算法。和其他交易品种一样,由于交易员的反复无常,期权价格根本没有任何规律可循。彼得菲研究数月,一无所获。

期权指一种能在未来有效期限内以特定价格买人或卖出一定数量的某种特定商品的权利。如果IBM的现行交易价为100美元,某一交易员确信IBM股价下月会上涨,那他可能会买人看涨期权,即可在未来两个月内有以100美元的价格买人IBM的权利。买人看涨期权只需花10美元,远比买人IBM股份便宜;而其不利因素也有限:期权购买者的最大损失不过是期权费。IBM看涨期权卖方通常自己拥有IBM股份,通过卖出期权实现套期保值。期权卖方很有可能会在价格升至110美元的时候不得不按照合约规定以100美元的价格卖出股份。相反地,看跌期权赋予看跌期权买方在未来规定时限内卖出股份的权利。所以在IBM价格为100美元的时候买人看跌期权表示看跌行情,因为只有IBM股价下跌这一交易才有利可图。买人看涨期权表示看好行情。

20世纪70年代初期,期权交易很频繁。與卡塔也引领了这一趋势。杰里克和彼得非总结出期权定价的三大要素:执行价格、合约到期时间及股市或金属商品市场的价格波动量。对于价格波幅很大的股票,期权定价也应该更高,因为很有可能会在合约期内达到极高的执行价格。其他影响因素包括提振看涨期权价格、打压看跌期权价格的现行无风险汇率等。彼得非需要提出一种合理考量评估每一

个因素的简单算法。在他看来,这道复杂的数学题几乎无解。他总是时而垂头丧气,时而欢欣鼓舞。

苦心钻研一年后,彼得菲构建出一种巧妙地考虑了所有因素的微分方程式算法。他用历史数据来验证这种算法是否可以赢利,但那时候商品期货市场的数据

彼得菲在工作中运用算法大概一年之后,发生了一件震惊华尔街的大事。1973年,同为芝加哥大学教授的费雪·布莱克和迈伦·斯科尔斯发表了包含布莱克—斯科尔斯模型的论文,阐明怎样用该模式计算期权的确切价值。基于布莱克—斯科尔斯模型的算法会在数十年后彻底改变华尔街,并将一群志趣相投的人——数学家和工程师聚集到金融界的前沿。布莱克—斯科尔斯公式与彼得菲的算法相似,并为迈伦·斯科尔斯赢得1997年的诺贝尔奖。(布莱克于1995年去世。)

改变并非在一夜之间发生。布莱克—斯科尔斯公式是一种偏微分方程,奇妙无比。但大多数交易者不会细细研究学术期刊。即便是他们读了这篇文章,运用这个公式也并非易事,需要有很深厚的数学功底方能驾驭它。那时候几乎没多少人明白布莱克—斯科尔斯定价模型,更没有人知道一个匈牙利人已经编写出了相似的算法,几乎单单盈利。彼得菲和杰里克在这件事上守口如瓶,毫不张扬。

在2010年芝加哥举办的一次正式晚宴上,精神矍铄的杰里克看到斯科尔斯一 边调着鸡尾酒,一边与人轻声交谈着,他走到这位诺贝尔奖得主面前,说道:"知 道吗,你拿的是我们的诺贝尔奖。"斯科尔斯不自然地扮了个鬼脸。"他觉得不好 笑。"杰里克后来说。

懂得布莱克-斯科尔斯公式的交易者可以利用它推算期权交易的确切价格。这个公式为交易者提供了在金融市场作弊的小抄。任何人,只要能准确推算出布莱克-斯科尔斯公式的每个因素值,并将它运用于实时期权交易,就能够赚钱。交易者会卖出实际价格高于公式推导价格的期权,买进实际价格低于公式推导价格的期权。配合多种证券操作,假以时日,利润必然丰厚。

# 1980 年华尔街的黑客生涯:天时地利

20世纪70年代宋期,算法开始进入人们的工作,这一趋势席卷了世界各地的金融市场,标志着华尔街黑客时代已然来临。华尔街逐渐吸引了美国越来越多杰出的数学家和科学家投身于编写交易算法的工作。在布莱克—斯科尔斯统治市场之前,已经有少数工程师和科学家进入曼哈顿下城市场了,但他们大都是外来移民。

麻省理工、哈佛和此类高等学府的工程楼和科学楼成了招聘者竞相争夺人才、扩大影响力的地方。华尔街的猎头总会潜行于角落,向看中的人许诺华尔街高薪、光鲜体面、红利多多的工作。金融业最终不仅成功地吸引到研究学府和科技公司前途无量的年轻人才,也使许多功成名就的资深工程师和科学家放弃学界显赫又轻松的职位来到华尔街。

为什么华尔街想要这种人才呢?因为要先发制人。能够率先抓住交易机会的就是赢家,电脑运行的算法总是能抢得先机,击败寻找相同交易的人类。20世纪70年代末期,用代码构建算法的能力还很罕见。这就是为什么彼得非这样一个拥有15年编程经验,并在市场上摸爬滚打了10年的移民发现自己处于引领华尔街巨

变的天时地利的位置。

编写了期权代码之后,彼得菲开始组建编程部,雇用了更多的程序员,因为他们在市场中的作用越来越大。在精明的杰里克和精通算法构造的彼得菲的带领下,莫卡塔赚取了数百万美元,成为世界上最有影响力的商品交易商之一。莫卡塔在成长,彼得菲的黑客军团也是如此。到1975年,他们雇用了50名程序员,成为华尔街编程宝库的中流砥柱之一。

那么这些程序员具体在做什么呢?他们大多数人用可被电脑执行的代码去实现彼得菲和杰里克构建的交易算法。随着算法越来越复杂,需要更多的程序员写出更好的代码。

算法可以做很简单的事。比如洗衣服,输入十分简单:(1) 农物重量;(2) 农物面料。算法获得重量输入,如果农物不足0.45千克,就把洗衣机的水量设置为低量。然后处理面料,输入"棉质",把洗涤水温设置为热,漂洗水温设置为冷。不同重量和面料参数的输入会引发算法设置不同的洗衣程序。那么要是算法需要根据待洗衣物的颜色、污点、浸泡需求、干燥时间和清洁剂类型正确设定洗衣程序呢?任何计算机专业的大二学生都可以构建这样的算法,但这要比第一种只需处理重量和面料参数的算法要复杂得多,结构层次也要多得多。人们可以不动脑筋根据待洗衣物的不同洗涤需求来洗衣服,但是编写具有同样功能的计算机算法还是很考验技术的。突然之间,洗衣这样的事就有了基于输入参数的几百种解决方案。每一个输入都会被算法考量并正确分类,以维持程序的正常运行。

这样看来,算法可以看做是由一个又一个的二元决策组成的巨大的决策树。我们做的所有事情,从开车到股票交易再到选择配偶,几乎都可以分解成一连串

吗?有。是咖啡渍吗?不是。是蛋黄酱吗?不是。是奶酪酱吗?是。诸如此类。 二叉决策树可以为复杂的对象生出数百万甚至数十亿的节点。算法的决策树接收 输入,然后将输入值带入方程和公式中运行,再将得到的答案作为新的输入,层 层迭代演绎,创建出细节复杂的一串串长字符串。德国数学家戈特弗里德·莱布 尼茨300年前就为这一精密学科建立了理论:生命可以分解为一长串连续的二元决 策。这一理论要比使机器运行的半导体的问世还要早很多。

彼得菲的算法成为数百个输入、变量以及依赖性微分方程和积分的复杂矩阵,就好像一个密密麻麻的蜘蛛网。把这样的东西用计算机代码表达出来需要真正的高手和庞大的团队。在位于曼哈顿的莫卡塔总部,彼得菲的程序员们在电脑屏幕前工作,读取电传打字机传来的实时市场数据。程序员将数据手动输入到电脑,待算法运行并发出交易指令后,莫卡塔员工再在纽约商品交易所提出报价。程序员直接连线英卡塔在交易厅的员工,一旦算法得出交易价格,程序员马上大声喊出报价。莫卡塔的员工再用手势向场内交易员传达交易价格。这种交易模式虽然算不上高速,但市场交易从头到尾由算法指示还是破天荒头一次。对彼得菲来说,最妙的地方在于市场的其他参与者对于他的这些数字从何而来毫不知情。

彼得菲初入华尔街时或许是一个没什么市场意识的黑客,但他从分销口香糖、买卖破铜烂铁、典当邮票培养起来的交易直觉却越发地敏锐。杰里克也注意到了这一点。每次莫卡塔要做出重要的交易决策时,他都会征求彼得菲的意见。 莫卡塔的一位工作人员回忆:杰里克要是没有彼得菲的陪伴,根本不会出席重要会议。Φ

1976年,彼得菲的黑客军团已经发展到了80人,是当时世界上最大的金融交易编程团队。彼得菲证明了自己不仅是一个头脑敏捷的代码写手,更是一位管理

① Suzanne McGee, "A Breed Apart," Institutional Investor, November 10, 2005.

能手,他手下全都是些性格迥异,而又极有才智的科学人才,管理他们更需要罕见而又精妙的技巧。

虽然莫卡塔不断发展壮大,它的交易范围却只限于商品市场。彼得菲想将他的算法引入证券交易市场,但是杰里克却只想专注于贵金属交易。证券交易市场被证券交易所的交易员所统治,其中公司的价值由参与市场交易的人所决定,也理应如此。影响股价的很多因素不可量化,比如商业信誉、发展前景、诉讼隐患和行业竞争。因此不存在股票定价的神奇公式。然而期权价格却可以单纯用概率与数据反映。只有极少一部分包括彼得菲在内的精英人士知道这一点。对懂数学的人来说,机会就如滔滔江河般奔腾不息。

20世纪70年代末期,芝加哥期权交易所成立了,彼得菲认为这是期权市场大 爆发即将来临的信号。1976年,彼得菲飞到芝加哥去实地考察期权交易所。有些 期权的买卖价差高达2到3美元。"交易者就这样补上买卖差价,然后在市场上抛售 商品。"彼得菲说。

股票期权市场欣欣向荣,机遇良多。彼得菲不甘局限于商品市场。他知道黄金白银及其期权交易量还不足以为他带来华尔街的真正财富,而且他想分得莫卡

1977年,彼得菲花两千美元购置了他的第一台Olivetti牌家用电脑。他白天在 

# 算法交易之父

彼得菲成为莫卡塔合伙人的希望落空了,他认定自己在莫卡塔已经没有大的前途。于是在1977年,彼得菲带着20万美元存款辞掉了安稳的工作,在期货交易刚刚起步的美国证券交易所买了一个交易席位。购买交易席位花掉了他3.6万美元,还有剩下的16.4万美元用来进行交易。

为了能在美国证券交易所的第一个交易日有一个好的开始,彼得菲整天面对着电脑苦干18个小时,完善算法,绘制出指导他在交易厅买卖期货的表格。他苦心钻研那些他认为期货定价与实际价值相差较大、定价可能存在问题的公司。对每一个公司,他都要做出一系列关于该公司不同股价所对应的期货价值表。在一天中股价波动的时候,彼得菲迅速查询他做的那些表格,推算出股票期权的合理价格,根据这个价格进行买卖操作。这些表格就是他的纸质版算法。

彼得菲把这些纸张放进他的三孔档案夹,以便携带到交易场迅速查询。他发现准备美国证券交易所的交易很难,这并不是因为对自己的微积分没有信心,而是他害怕无依无靠、单枪匹马地战斗。他担心自己的口音会带来不便,而且一想到不得不在交易厅跟一大群满脸兴奋、浑身是汗的人推来攘去,大声吼叫,他就感到焦虑。他也担心排外的交易者会联合起来排挤他,不公地扼杀他尚未成熟的实验。比起这些来,他最担心的就是失败后不得不落魄地回到莫卡塔。

彼得菲手拿档案夹出现在美国证券交易所,他下定决心要成功,绝不让之前的那些担心变成现实。在拥挤不堪的交易厅里,他很快发现打开的档案夹使他占了两个人的位置,其他交易者可不乐意为彼得菲空出位置让他打开"奇书"。"这里究竟有什么鬼东西?"他们问。他们鼓吹的可是靠智慧和胆量来赢得交易,而

不是一叠滑稽的纸。

"他们觉得我想要从档案夹中的那叠纸里研究出点什么东西的想法非常荒谬可笑。"彼得菲说。

为了适应交易厅的环境,也为了让自己在交易厅的日子好过一点,彼得非把他最重要的几页笔记写在可以轻易折叠的双面纸上并且放在后兜里。当他认为价格合适的时候,他会伸手从口袋里拿出表格来查阅。他站在那儿看纸上的算法时,涌动的人潮把他挤来挤去。但他毫不分心,直到最后抬起头,举起手,望向另一个交易者或是做市商,用浓重的口音大声喊出交易单。他的口音确实是个问题,另外他查阅口袋里破旧的折叠纸的习惯也显得极为怪异。"其他交易者认为我疯了。"彼得菲说。

彼得菲有时会在交易厅呆上几个小时,却一言不发,一单不做。他严格遵循 表格上的价位,如果期权价位不符合他保守的赢利方针,他就不会买入。他说: "我做单非常谨慎。"

虽然彼得菲已经非常小心了,但还是难以避免一个新手在市场中必须遭受的打击。在早期的交易生涯中,他有一次花了一上午时间一直在交易杜邦的期权。中途,他发现一个价外看涨期权的报价为31美元。根据他的表格,此期权实际价值是22美元。他准备卖空。"那对一个匈牙利穷小子来说可是一大笔钱呢。"他说。

被得非实际上已经在18美元价位时买入了300手期权合约,他便把这300手合约在31美元的价位卖空了,然后再多开了200手的空单。彼得菲在没有保值期权头寸的情况下沽售Ф了200手看涨期权──他没有买人相同份额的股票,也没有反向操作看跌期权。走势一旦朝着他预期的反方向运行,他就完了。但是他怎么会拒

① 洁售是指低价出售。---编者注

#### 绝这样的一个交易机会呢?

就在彼得菲开出卖单后,杜邦停牌了。消息不断传来,杜邦公司公布了远远高于预期的实际收益,以及一拆二的分股计划,股价大涨。彼得菲200手的期权合约,每1手合约分别有100股的股票,每1股损失5美元,每1手合约就会损失500美元。10万美元就这样没了,损失超过了他全部交易金的一半。他把这次事件归咎于靠内部消息交易的人。不管什么原因,这10万美元的损失对彼得菲而言是一次灾难性的打击。"我不知道是该放弃还是该哭。"他说。那晚,彼得菲身心俱疲,垂头丧气地回到家,对自己的交易方法产生了怀疑。"我以前觉得自己很聪明啊。"他说。

彼得菲抽着烟,盯着自己上东区出租房里的小餐桌,他想他需要将更多的时间、金钱、注意力放到做交易上,虽然不管怎么看他都早已疯狂地沉迷于交易了。 唯一摆脱困境的方法就是成为一个机器专注于交易、存钱、赢利,其他任何事情都不重要了。他站起来把香烟扔进了厨房的垃圾桶里,下定决心不再抽烟。他盘算着把买烟的钱用在交易上才更有价值。"我马上就算出了我要是20年不抽烟能省下多少钱,"他解释道,"那时候我太需要钱了。"

彼得菲重新投入到交易市场。他仍然坚持查阅他的表格,但是杜邦的亏损一 直是个阴影,他再也不下他称为"牛仔赌注"的单了。

他账户里的钱又一点一点地回来了,每天都是一场难熬的战斗。他一直坚持算法系统交易,很少有大损失。虽然布莱克—斯科尔斯公式早在七年以前就发表了,但它对市场的撼动力还不够,不足以影响到彼得菲和其他交易者依靠他们自己的聪明才智赚钱的做法。

尽管彼得菲的算法和表格很有成效,但他始终都是单枪匹马一个人。他需要

更多人和他一起在交易厅奋斗。他逐渐聘请了一些交易员。为了避免损失并且能够难控交易员的操作,彼得菲训练他们根据表格开出买卖报价,他每晚都要根据算法更新表格上的数字。由于彼得菲在美国证券交易所的交易量越来越大,他把自己的交易机构重新命名为原木山(Timber Hill),这个名字来源于纽约某乡村的一个路名,是他曾经度假的一个地方。他买下了更多的交易席位,开始尝试诸如配对交易和套利的其他交易策略,而这两种策略他在英卡塔制定交易战术时就已经很熟悉了。

虽然彼得菲有很多的交易员活跃在交易所,但他仍然一连几个小时冥想苦思着怎样把所有的场内交易理论抛给电脑,因为电脑能比场内交易员更好地执行他的算法。但他暂时还没有办法。交易厅的构造让他苦恼不已。天花板的高度高于12米,交易厅由一排排围栏隔开,员工们居高临下用手势指导站在下面的交易员如何买卖。"每个人都能清楚地看到其他人的手势,"彼得菲说,在某些交易者举起手之前场内大部分人就知道他们会如何买卖报价了,很有可能他们要喊的单已经被别人抢先一步喊了,"这真可笑。"

所以彼得菲提出了一个想法,交易者可以通过连接到中央计算机的手持设备输入买单卖单,电脑再根据价格-时间优先的原则自动公平地匹配报价单。但这个想法很快就被控制这一行的人——专家经纪人(也称庄家)扼杀了。

既然不能用技术改变整个市场的运行方式,彼得菲决定加入一个更有权势的 群体,成为美国证券交易所的期权做市商。他想只要严格地根据算法在合理的价格波动区间进行交易,扩大交易量就会降低风险,提高利润。但他首先得想法子 让控制交易的专家经纪人能一致、迅速地确认他的买单卖单。他不像其他的交易 者会饶舌闲聊,互换消息,他更像是一个局外人。专家经纪人不喜欢和彼得菲做 交易,所以他们并不经常接受他的买卖申报。这个匈牙利人决定雇一些专家经纪

## 人会喜欢的人。

金融行业跟大多数高薪行业一样,是一个由男人主宰的世界。所以当彼得菲 聘请最高挑、最漂亮,又最丰满的女人为他工作时,他可绝不是心血来潮。这个 法子很快奏效,彼得菲交易集团下单更为流畅了。突然间,专家经纪人更愿意接 受彼得菲的报价了。他们把手臂搭在彼得菲的交易员身边谈天说地,在金发美女 开出买卖单的第一时间确认了她们的单子。"专家经纪人想的是'这些鑑女人知道 啥'。"彼得菲说。

的确, 彼得菲招来的女人不懂交易, 更不要说算法了。但那时候彼得菲的交易员并没有依靠自己做交易, 也没有用表格做指导。因为彼得菲已经设计出了让每个人都可以漂亮完成交易的新系统。

和很多发明一样,这个系统的产生也是一次偶然的机会。1982年中旬,彼得菲的膝盖韧带拉伤了。在康复期间,他的膝盖感染了,他不能长时间站在交易厅, 更别提和那些四肢发达、呆头呆脑的人在交易厅里推推攘攘了。彼得菲被安排到 了他在交易所楼上的办公室,他朝楼下喊单,自己独自养伤。他的注意力最终集 中到他的那台一次报给用户一支股票或期权价格的科特龙行情报价机上。科特龙 的数据来自一条电话专线。彼得菲问过科特龙(那个时期数据业的老大)是否愿 意把传送到机器的数据卖给他。每次得到的回答都是简单的"不行"。

彼得菲带了一把电线剪到办公室,锁上门一个人捣腾着,这一举动后来激发了他窃取纳斯达克数据的灵感。"的确,是这样,"他说,"我们偷了数据。"

彼得菲使用电工用的老式工具,剪开了连接到科特龙行情报价机的电线。他 用一个电子示波器来测量电线的电脉冲,然后将电脉冲与数据匹配,就这样解码 了电线信号。然后,彼得菲在实时接收并保存科特龙数据的电脑上编写了程序, 程序扫描这堆股票期货大杂烩,将它们带入算法运行。算法首要寻找的是那些价格严重偏离的期权。

彼得非尤其感兴趣的,也是他编写算法所寻找的称为delta(对冲比率)中性的交易。在这样的交易里,彼得菲卖出权利金过高的看涨期权,同时买入权利金过低的看跌期权,这样不管行情大涨还是大跌,他都处于一个安全位置。

比如IBM的股票以75美元的价格交易。对彼得菲来说,一个delta(对冲比率)中性交易大概就是这样:他卖出1万手美式看涨期权(买方在未来60天以75美元的执行价买入IBM股票的权利),每手收取1美元(权利金收益),总共获利1万美元。几乎同时,彼得菲的另一个交易员买入1万手看跌期权(买方在未来60天以75美元的执行价卖出IBM股票的权利),每手花费85美分(权利金付出),总共花费8500美元。交易结果:近乎无风险获利1500美元。

因为像IBM这种大公司的股票期权有十几种不同的执行价以及大量各不相同的合约到期日,对有心人来说,1980年的期货交易市场充满了这样的delta(对冲比率)中性交易机会。有些场内交易员领会了这个交易策略,他们寻遍股票行情收录器希望找到价格偏离的期权实现对冲无风险获利。但是这些在交易厅寻找机会的人,怎么能跟彼得菲不知疲倦的机器相提并论呢。

电脑一旦整合了delta(对冲比率)中性交易,就立刻打印出来。彼得菲腿上有伤,只能坐在椅子上,他打电话叫来他的场内员工,由场内员工将打印出来的交易单交给他的美女军团。就这样日复一日,窃取科特龙数据,交由电脑处理。4个月后,彼得菲赚的钱比以往任何时候都多,而秘诀就是在市场对手毫不知情的情况下从科特龙获取的数据流。当今世界的很多热门公司已经证明了数据是一个公司在某一行业成败的关键所在。彼得菲开创了对大型数据库进行自动化编译及使用的先河,自此华尔街便开始了对数据库的挖掘。

# 算法传到好莱坞

自从请到漂亮的女交易员成为交易所的新面孔,又安装了处理从科特龙窃取来的数据的交易系统,彼得菲觉得他已经构造了一个完美的赚钱工具。"任何人,"他告诉朋友们,"任何人跟我做交易都能赚钱。"

不愧是华尔街的人,很多人因为彼得菲的这番话去拜访他。他的吹嘘多么可笑,竟然大言不惭地说他的系统可以击败满交易厅那么多的行家里手——那些花了整个职业生涯来培养交易直觉,并且练就了一身交易本领的人,而且能够赚取他们的钱。彼得菲坚守立场,为了证明自己的话,他请来一位最不可能出现在交易厅的人——马文·范·皮布尔斯,彼得菲旧东家杰里克的朋友。1971年,范·皮布尔斯在19天内紧锣密鼓地编写、导演、制作并出演了《斯维特拜克之歌》。当初他向比尔·科斯比借了5万美元才能完成电影的制作。但是后来电影取得了巨大的成功,总共收入1千万美元,范·皮布尔斯也由此开始了他作为制片人、导演和演员的职业生涯。

尽管已经非常有名而且工作也相当繁忙(那时,范·皮布尔斯正忙着制作百老汇音乐剧),这个剧作家还是抵挡不住华尔街的诱惑,于1982年11月来到彼得菲的交易机构原木山,和其他女交易员一起为彼得菲工作。范·皮布尔斯在原木山整整工作一年,每个人都惊奇不已,当然除了彼得菲和他自己。"我现在就在做我一直都在做的事——做交易。" 范·皮布尔斯这样告诉《纽约杂志》。①

范·皮布尔斯也赚到了一大笔钱。他这样解释自己的成功:"你得要会计算——啪啦啪啦啪啦——下单!我可以做得到。"®他说自己学过数学,在荷兰当空军的

① Joe Klein, "Sweet Sweetback's Wall Street Song," New York, September 5, 1983, p.43.

② 同上。

时候还学过天文学。不过目前看来他做交易时需要做的数学题已经全权由算法代 劳了,彼得菲构建的算法不停地运算着从科特龙窃取来的数据。

和彼得菲的其他交易员一样, 范·皮布尔斯经常突然跑向交易厅的那一排电话, 和原木山总部通话。在电话里, 范·皮布尔斯杂乱无章地记下交易指令——大堆文字、数字和分数。然后折回人声鼎沸的交易厅, 举起手, 申报新的delta (对冲比率)中性交易。范·皮布尔斯的故事吸引我们注意到即使在今天看来也是令人难以置信的交易团队: 活跃在纽约交易所的三个金发美女和一个声名显赫自导自演的黑人作家。他们将运行于电脑中的算法掩饰得很好。

## 平板电脑的先驱

彼得菲迎合交易所臭名昭著的沙文主义的策略最终奏效了,专家经纪人们总 是在众多申报中优先接受美女们的买卖申报。但是彼得菲连续六个月轻松获利, 专家经纪人不由得注意到彼得菲的交易单好像拥有不可思议的市场洞察力。

其中一个专家经纪人找到彼得菲说:"我知道跟你交易就肯定没有好结果。几乎单单必输。你到底是在干什么?"

头脑敏锐的人料想彼得菲一定事先知道了什么,但又不确定到底是什么。但 他们确信自己是一点也不想接彼得菲那些美女交易员喊的单了——不管他们曾经 有多希望得到美女的注意。在这之前,彼得菲被专家经纪人指派为做市商,这样 他就有机会率先得到交易厅新开的单。从技术角度来说,不管市场走势如何,做 市商必须总是同时保持买卖单。彼得菲像大多数做市商那样违反了规定,只是按 照算法的指示挑选交易来做。他没有一刻连续稳定地报出买卖价。

专家经纪人厌恶了每次交易都输给彼得非的感觉,他们告诉这个匈牙利人至

少得对最少数量额度的期权保持公开稳定的买卖报价,否则就要取消他的做市商资格。彼得菲不失谨慎地对此进行了争辩,同时思索着既可以保持利润不受这些人的破坏,又能平息他们怒气的方法。

因为彼得菲被要求在某些股票品种上长时间保持买卖单,所以他不能让交易 员迅速到电话处听候每个指示。时刻保持公开报价意味着交易员不得不待在交易 厅,时刻警惕地盯着市场走势。彼得菲的交易员是按照个人电脑中运行的算法指 示进行交易,指望他们自己做买卖市场还能风平浪静吗?

解决方案就藏在他过去对于交易的一项提议中: 手持电脑。彼得菲曾经提出 在交易所配置某种设备以摆脱专家经纪人组织交易的过时交易方式, 但当时他并 不知道这种特定的设备是什么(这种设备还不存在), 也没有认真考虑过交易所独 断专行的处事方式以及谁握有生杀大权, 而这些人正是他想要用某种设备来取代 的人。

彼得菲的新计划不是要让整个交易厅都配备手持电脑,只是给他的交易员配备。但是交易所会批准这样的提议吗?彼得菲希望如此。如果他在美国证券交易所使用设备的提议被批准了,他就要把这个游戏(他的算法、电脑、场内机器)玩到美国最大的期权交易所——芝加哥期权交易所去。

交易所监管人员对彼得菲的这一招并不感兴趣,只是某些人的反应有点神经质。机器,放在交易厅的地上,还要做交易!大多数反对者声称机器会挡住不停走动的交易者的路,而且很有可能在市场走势对彼得菲不利的时候莽撞下单导致他没有能力平仓。

美国证券交易所不顾这些反对,还是同意彼得菲的交易员把小型平板电脑带到交易厅来。彼得菲被难住了:他根本没有平板电脑。在苹果公司iPad出现的30

年以前,没有任何人有平板电脑。这种设备需要从零开始设计制造。

彼得菲有了一个大概的想法,他请来纽约大学物理学准博士帮他用聚酯澌膜(一种黑色塑料)做了些小型长方形盒子。这些盒子长约12英寸,宽约8英寸,高约2英寸(约30厘米×20厘米×5厘米)。盒子里装满了连接到顶面板的晶体管和电路板,面板上有一根根金电线。电线在用户用手按压的时候有感应,设备顶端表面形成触感屏幕。彼得菲可以在盒子上安装不同的薄型塑料模板来当键盘。不同种类期权需要不同的键盘和程序。每一个盒子上的覆盖物就类似一个应用程序。通过这种方法,彼得菲就可以做出一种盒子,然后根据用户的交易品种为每一个盒子编程,构建交易算法。Φ

早上,市场交易铃声响起之前,彼得菲会打开设备,从里面拉出一簇连接线,接上从科特龙专线收集数据的个人电脑。手持设备从电脑上下载最新市价和数据,指示只能待在交易场内的交易员如何提出股票和期权报价。交易员输入现行市场价格,平板电脑通过指示灯告诉他们这笔交易是否值得做。所以现在专家经纪人让彼得菲的女交易员提出买卖报价时,她们能迅速开出符合彼得菲的算法的价格。

那时候,彼得菲每年的收益超过100万美元。新的问题来了:他的交易可以做到多大呢? 美国证券交易所已经被他征服了,彼得菲需要新的挑战。他有信心可以用代码统治任何市场。他把目光移到了交易量最大的芝加哥期权交易所。芝加哥期权交易所的监管人员反对他的提议,拒绝他把手持设备带到交易厅,声称交易厅本来就拥挤,机器太大太占地方。彼得菲接受了他们的说法,回到工作室,制造了面积仅为7平方英寸(约45平方厘米)的盒子,比原来的小得多,交易员可以很轻松地把它抱在胸前。彼得菲拿着他的新设计给监管人员看,这次他们直截了当说明问题的关键所在:交易所的成员绝对不能容忍在交易时使用任何电脑、

① 彼得菲在他办公室的一个木制展示柜里仍保存着这样一个平板电脑。

很明显是害怕这种设备会给用户带来交易上的优势。他们不考虑投资者会享受到更便捷高效的交易以及市场价差可能会缩小这些事。

"交易所当然反对我了,"彼得菲说,"他们总是反对所有事。"

彼得菲随即转战纽约证券交易所,该交易所在证券交易领域有统治地位,同时也想发展期权业务。平常发号施令的交易所为了扩大交易量,急切地满足了彼得菲的要求。为了更好地协助他的交易员们,彼得菲又在他们所站的位置上空安装了一组由不同颜色的灯泡组成的灯条。然后他编写了一个可以通过这些彩灯传递交易指令的系统。对于已经配备了场内电脑的交易员,这真是如虎添翼。

万事俱备,只欠东风,现在只剩下最重要的电脑编程了。彼得菲用C语言重新编写了程序,C语言比大部分系统使用的过时的Fortran语言更先进、更高效。一切如常,电脑不停地处理数据,寻找好交易。当它找到了合适的交易机会,会立即向纽约证券交易所天花板上的彩灯传送一系列电脉冲,原木山的交易员从开市到闭市一直盯着那组彩灯看。不久之后,彼得菲成了交易所最大的做市商之一。

彼得菲于1977年花了36 000美元在美国证券交易所买下了原始交易席位,所以他的办公总部就一直安在美国证券交易所。如果想要扩大交易领域和交易量, 美国证券交易所能够提供的空间已经不够了。所以,他于1986年将总部搬迁到世 實中心。在那里,他有足够的空间指挥分散在各地交易所的交易员。

世贸中心离交易厅有好几个街区那么远,平板电脑很难更新数据,因为提供数据的个人电脑也被搬到了新的总部。彼得菲的解决方案很简单,这是华尔街过去流行的一种做法:送信人在新动向传开之前跑步到市郊,告知市郊的人。彼得菲雇了好几个跑步快的员工,除了在办公室打打杂,主要任务就是携带数据更新好的手持设备从世贸中心全速奔跑到交易所。

"你要是在市中心看到一些拿着黑盒子发疯一样快跑的家伙,"彼得菲说,"那就是我的人了。"

跑步送情报的人最终还是被传输数据的电话专线取代了。20世纪80年代中期,一些精通技术的交易商开始使用电话专线。彼得菲也是引领这一潮流的人。他租赁了电话线在世贸中心办公室和他的交易厅战场之间传输数据,安置在交易厅的电脑处理总部传来的数据,然后将数据一股脑儿导入手持设备。但即使有了这一步升级,交易员一天也要在场内和电脑间跑几次才能让手持设备接收到数据。为了免去这样的麻烦,彼得菲和他的工程队在手持设备和原木山的电脑上安装了小型无线电发射机。完成了这一步,数据便可以轻轻松松传到交易厅的手持设备上了。

1986年,交易厅已经成了彼得菲交易集团的取款机了。算法源源不断算出好交易,钱源源不断流入。无线设备为彼得菲提供了一个能够毫无约束地引用算法从而自由获取更多好交易的通道。原木山1986年初有100万美元资金,年末银行存款有500万美元,收益为本金的400%。一次又一次的成功又让彼得菲开始考虑扩大规模了。

科学技术不断进步,彼得菲精明的对手复制了他的交易方法,也在不断优化交易。乔·里奇的芝加哥研究与交易事务所实力雄厚,在芝加哥很有势力。布莱尔·赫尔的赫尔交易公司于1985年创建后也开始崭露头角,声名鹊起。芝加哥的奥康纳公司(O'Connor & Associates)所使用的交易战术和彼得菲的如出一辙:为交易员配备了期权定值的速查表,楼上电脑不停处理数据,然后将新的数字传给楼下的场内交易员。奥康纳对自己的交易策略相当保密,80年代中期当它引进200台Symbolics电脑的时候,公司高管下令销毁了外包装,这样一来,那些试图寻找蛛丝马迹的商业对手就不会知道他们在用什么高科技了。①

Thomas Bass, The Predictors (New York: Henry Holt, 1999), p.126.

# 算法从东海岸传到西海岸

1987年,诸如标准普尔500指数之类的指数基金不仅在普通民众之间广为流行,专业交易员也对其背睐有加。指数基金按照其指数构成标准包含了证券市场中某些流行的证券组合。但是某些指数,比如标准普尔500指数,只能由一个市场的股票组成,其交易许可仅限于芝加哥商业交易所。其他交易所使用的指数不尽相同,但也大体一致。芝加哥期权交易所交易OEX指数,也就是标准普尔100指数;纽约证券交易所交易NYSE指数,由纽约证券交易所的所有股票组成;美国证券交易所交易主要市场指数,包含30种大股;太平洋交易所把他们的指数称为PSE,主要投资市场份额不断增长的科技公司的股票。

所有这些指数的组成都不相同,但它们的核心持股却是相似的。标准普尔500指数只含有500种股票,但其市值却占NYSE指数所包含股票市值的90%,NYSE指数包含了纽约证券交易所所有上市公司的股票。因为纽约证券交易所前500大股市值远远大于市场其他股票,NYSE指数基本上随标准普尔500指数的变化而变化,反之亦然。标准普尔100指数、主要市场指数和其他指数也是同样的情况。

彼得非推测,如果指数构成大同小异,那么它们的波幅及其期权期货走势也 应该相同。而事实上,这些金融衍生工具在不同的交易所价格迥异。11月份NYSE 指数看涨期权在纽约的交易价可能为2美元,与此同时标准普尔100指数看涨期权 在芝加哥的交易价可能为3美元,而与它们类似的另一个金融衍生工具在旧金山的 太平洋交易所的交易价可能为2.25美元。"该如何操作一目了然,至少对我们来说 是如此。"彼得菲说。如小孩的游戏那样轻而易举:卖出较贵的指数衍生产品,买 进便宜的。"这可真是太妙了。"彼得菲愉快地回忆着。 为了充分利用这些把握十足的交易机会,彼得菲需要在旧金山的交易所,芝加哥的两个交易所还有纽约的两个交易所安置人手。他和他的工程队制造了新的手持设备,他们雇用的一波波交易新兵将会利用这些设备为原木山占领这个国家的其他交易所。彼得菲购入了几十台计算机,还租赁了横越全国的电话线以保证数据传输畅通无阻,使得计算机网络可以保持实时通信,实现全国范围内交易价格的更新。新的交易所也安装了无线电发射机,这让彼得菲在芝加哥、旧金山和纽约的交易员可以看到相同的信息。现在在纽约下的卖单可以立即用芝加哥的买单实现对冲。

当金融衍生品的价值回归到期望区间,彼得菲的电脑会指示交易员平掉仓位, 锁定利润。指数在所有市场的交易量都很大,每天的套利机会没有几千次,也有 几百次。几乎没有人像彼得菲那样完全利用科技交易。有些交易商在纽约和芝加 哥之间安装有电话线路,方便员工互通价格,利用大的价格差获利。但彼得菲的 自动化交易系统大小通吃,不仅能够收获大价差盈利,也能抓住小价差获利机会, 而且总是比别人抢先一步。彼得菲创建了第一个统辖东海岸和西海岸的算法交易 机构。

手持设备完成的所有交易活动通过无线电传输到彼得菲安置在每一个交易所等候交易数据的终端。然后电脑将数据打包整理通过租赁电话线直接送达世贸中心原木山的总部。数据到达总部后,会由一个简称为相关器的大型主算法进行处理。相关器运行大批密集代码方阵分析市场,定位风险;然后发出指令,调度分散在各个市场的原木山交易员通过相关操作抵消风险。相关器分析十几个证券及金融衍生品市场的实时价格,发出一个个轻而易举稳赚的交易指令。已经完成的交易通过数据线传人,相关器接收了原木山交易员所有已建头寸信息,发出对已建头寸进行风险对冲的交易指令。相关器的某些交易是100%全自动的——交易指令直接发送到被彼得菲侵入的纳斯达克终端,这些纳斯达克的终端会自动键入交易指令。

相关器触发交易指令,纳斯达克终端自动执行交易,这是算法统治的第二阶段。这一阶段,算法处理数据,分析市场,发出不再是由人而是由一台机器执行的交易指令。彼得菲从根本上创建了一个在机器之间,而非在人之间传送重要信息的华尔街。第二阶段的算法交易尚需十年以上才能完全统治美国交易市场,但是彼得菲和纳斯达克开启了第二阶段算法交易的先河。在彼得菲将他的科技窍门发展到这一步后,只剩下第三阶段——算法摆脱人的控制实现自动调整,并在某些情况下实现算法自编——来彻底实现计算机程序自动化模式。

彼得菲经常坐在原木山位于世贸中心的总部办公室里看着交易员下的单不断 地流入相关器。屏幕上列出了已经完成的交易及相应的对冲风险的交易,总部电 脑会将交易指令传达给相关市场的原木山交易员。对冲风险的交易一旦完成,也 会在相关器的屏幕上显示出来。彼得菲从来不是一个赌徒,他的游戏策略是零风 险稳赚,不管盈利多小。当大笔交易从相关器的屏幕弹出,彼得菲会目不转睛地 盯着屏幕,看他的交易员对冲掉风险。但再强大的相关器也会有弱点——所有没 有人类监管,任其独自运行的算法都是如此。

1987年年初的一个早上,彼得菲看着不断涌入的交易单,发现了其中的一笔大交易。他的一个交易员卖出10万份NYSE指数看跌期权,给予买人期权方在未来以特定价格卖出10万份指数股票的权利。如果指数崩盘,这在1987年下半年确实发生了,这样的走势对原木山来说将是致命的打击。彼得菲眉头紧锁,想知道是谁做了这样一大笔莽撞交易。这又让他想起了灾难性的杜邦交易,他经常想起这笔交易。他没有反向操作对冲风险,所以杜邦交易才成了一场灾难。但是原木山做任何交易都会对冲风险。

彼得菲端坐在椅子上,等着接下来他早已知道要出现的对冲交易。电脑按照 既定的程序调研市场,分析出抵御风险的最低成本的方法,然后发出相应交易指 令。因为卖出看跌期权是一笔看涨行情的交易。相关器指示交易员在其他交易所 买人相似的、较便宜的看跌期权,同时卖空与NYSE相似的指数。他的系统严格 按照程序运行。彼得菲看到对冲交易确认后,又轻松地躺回椅子上。

但是两分钟后,这笔大交易又弹了出来:一个交易员卖出10万份NYSE指数看跌期权。杜邦交易的惨败又刺痛了彼得菲。他感到一阵头晕眼花,拿起电话, 拨通了他的交易员在纽约证券交易所的办公电话。

"你们把这些看跌期权卖给谁了?"彼得菲问。

"什么看跌期权?"接电话的交易员说。原木山在纽约证券交易所有六个交易员,接电话的那位不知道这笔交易也情有可原。彼得非向他解释了这件事,然后说"去给我查出这是谁做的",说完挂断了电话。

彼得菲恼怒地坐了回去。他看着相关器发出更多的对冲交易指令,交易员们 也都及时执行了。然后他感到胃部一阵痉挛。这是第三次了,相关器屏幕显示: "卖出: 10万份NYSE指数看跌期权。"

"这是什么狗屁玩意?!"彼得菲吼道。他疾步走到电话机前,拨通了纽约证券交易所的办公电话,一位交易员接听了。"这到底是怎么回事——谁在卖出看跌期权?"彼得菲问。

"我什么也不知道!"接电话的交易员答。

彼得菲吼道:"把线都给我扯掉,快扯掉!"

这名交易员立马回去扯掉了连接到交易所电脑的所有电源和数据线,叫停了原木山在纽约证券交易所的交易。原木山在纽约证券交易所的其他几名交易员因为手持设备收不到任何信息、都感到莫名其妙、折回了办公室。

彼得菲冲出世贸中心,来到具有新古典主义装饰风格的纽约证券交易所。纽 约证券交易所总部位于华尔街11号。彼得菲拾级而上,推开原木山小办公室的门。 他质问所有交易员:"怎么可能没一个人知道这几笔交易究竟是怎么冒出来的?"

彼得菲心乱如麻,决定清点大楼里所有的手持设备。每个交易员都迅速取出了自己的平板电脑,都是完好无损,没有问题的。然后彼得菲想起办公室里还有一个备用设备,遇到交易员的设备有损坏的情况就可以替换使用,这事儿也常发生。他马上认出立在门边桌上的那个小长方形盒子。正当他准备去取它时,他的一个交易员从厕所回来了,交易员砰的一声打开门时明显可以感觉到空气的嘶嘶声。彼得菲看向那个设备,风经过时它的塑料表层振动了一下。

门关上后,空气又静止了。但是在办公室外空气的推力下,门又打开了,气流再次冲击平板触屏,触屏表面沙沙作响。

"打开电脑。"彼得菲现在来了兴趣,对他的一个交易员说。

门又打开了,重新启动的电脑寄存了之前的任务项,显示卖出10万份NYSE 指数看跌期权。开门时产生的小气流对设备表面施力仿佛是有人在用手指按压屏幕,开出了卖单。相同的卖单连续开出是因为办公室的门不断被从交易厅吹向走廊的风撞开。要登记一个合法的交易单,交易员在输入交易信息后还要进行确认。当平板电脑的确认按钮闪烁时,气流轻轻碰触了一下按钮,相关器就接收到交易完成通知了。

这几笔大交易都没有真正做成。但是相关器照其设计的程序运行,对此毫不知情。所有抵御风险的对冲交易根本就不是在对冲风险。这纯粹就是在下赌注,这天闭市后,原木山账上有了价值300万美元的暴露于市场风险的单边赌注。彼得菲恰恰陷入了他努力想要规避的情况——他成了一个莽撞下大赌注的赌徒。他必

须得等到第二天早上才能平掉仓位;他所能做的只有希望开市前市场不要朝着对 他不利的方向走。

当晚,彼得菲难以人眠。他整夜盯着天花板,直到第二天回到办公室。

幸好市场没有太大波动,原木山几乎毫无亏损地了结了头寸。可这要是发生在1987年下半年的一天——10月19日的黑色星期一,这些错误就足以终结彼得菲的交易生涯。

# 一个登上华尔街巅峰的黑客

1986年到1987年两年间,彼得菲赚了5000万美元,这一令人髲惊的数字标志了他的巨大成功。他处于引领趋势的有利地位,没人知道他会走向哪里。他远远将大众甩在身后,利用始终领先人类的计算机程序持续统治证券和期权市场。然而在某些时刻,被科技超越的华尔街玩家又赶了上来——那是曼哈顿下城掀起一股宽客®热的时候,科学家和工程师开始被吸引到金融界。

1999年, 高盛集团开价9亿美元购买彼得菲的交易机构。彼得菲想要30亿美元。 高盛转而出资5亿美元购买了布莱尔·赫尔在芝加哥的自动化交易机构。赫尔的 交易机构虽然远远小于彼得菲的,但在彼得菲开启自动化交易先河的六年多以 后,就是在20世纪90年代初期,赫尔也开始在辛辛邓提证券交易所使用计算机程 序进行交易,并引起了轰动。

投资银行和华尔街的头号交易商最终会赶上彼得菲和其他胜过普通交易员的

① 宽客型现代金融市场的基础即金融衍生品的创造者。另一种定义: 指一群崭数学模型分析金融市场的物理学家和数学家。——编者注

程序员的脚步。金融界的交易怪兽们雇用了自己的黑客、工程师,全力以赴冲上云霄俯瞰众生。赫尔把交易机构出售给髙盛,而后又在伊利诺伊州的参议员初选败给巴拉克·奥巴马,之后便淡出了交易舞台。其他一些算法交易的先驱退出得更早。奥康纳公司,这家曾对自己的交易策略守口如瓶的公司,于1992年卖给了瑞士银行,乔·里奇的芝加哥研究与交易事务所卖给了国民银行,也就是现在的美国银行。而算法交易之父彼得事仍然坚守在战场和那些自称为宇宙主宰者的人进行较量。这位匈牙利人的交易机构最终在总部搬到了康涅狄格州的格林威治后更名为盈透证券集团(Interactive Brokers),在20世纪90年代持续领跑华尔街,至今依然如此。

彼得菲的交易机构能够领跑华尔街的原因在于:无论以前还是现在,它都是工程师和程序员的交易机构。高盛及华尔街中那些与之类似的机构去寻找工程应用型人才的目的是扩充他们的数量分析专家部门,但是在盈透证券集团,工程师就是整个公司,这让彼得非的机构类似于华尔街版的谷歌——一个工程师生产产品并作出重大决策的地方。实际上彼得菲的员工75%以上都是程序员和工程师。"大多数华尔街的公司专注于他们做得最好的领域,"彼得菲说,"那意味着它们是很受欢迎的。但我们就是写代码的,那就是我们做的事情。"

彼得菲指出盈透证券集团没有一个人有商学院学位,这让它在华尔街显得那样格格不入。彼得菲坚称他不会雇用MBA,永远不会。

从20世纪90年代一直到21世纪,盈透证券的业务不断扩张,在美国获取越来越多的市场份额后,彼得菲把算法用到了欧洲市场。2007年5月4日星期五,彼得菲为这一天做着准备。那是所有公司,不管是科技公司还是金融公司,都梦寐以求的一天。这一天,盈透证券首次公开发行股票。彼得菲身穿熨得整整齐齐的白色衬衣,一件淡色格子花纹的米色西装,搭配一条蓝得发紫的领带。他早早来到办公室,抿了几口绿茶,凝视着窗外,康涅狄格州的格林威治,人来人往,熙熙攘攘。

早上7点半的时候,盈透证券开始热闹起来了。彼得菲走出办公室,跟来客打招呼。9点29分的时候,几十个人聚集到了一个地方,彼得菲站在人群中央。当9点30分的时钟敲响,他举起手来,鼓掌,兴奋地叫喊着,然后在雷鸣般的欢呼喝彩声中迅速按下了一个大大的橘黄色按钮。在纳斯达克试图取缔这个靠拼接的电线、窃取数据的连接线和自定义编写的代码生存的自动化交易机构20年之后,彼得菲敲响了纳斯达克的开市钟。他的公司市场定价为120亿美元。

彼得菲保留了盈透证券85%的控股权,只公开出售10%的股份。即便这样,这次IPO©也使得彼得菲将11.8亿的美元尽收囊中。盈透证券的上市亦成为当年美国年度第二大规模IPO。这对于一个没有修完工程学学位,在20世纪60年代决定阅读英文电脑操作手册自学电脑编程的匈牙利移民来说,还算是一个不错的结局吧。

# 金融领域的未知前沿

随着新代码层出不穷,硬件不断换代,运行更快,华尔街的交易速度和交易 量都呈现不断上升的态势。20世纪宋到21世纪,在华尔街上演的军备大赛渐渐打 成平局,这场竞赛中的一些方法和人才开始流入其他领域。华尔街或许是在用某 些科学技术作弊,但是还没有其他任何一个行业像华尔街那样完善了不断复杂化 的算法和自动化机器。

当今证券世界,人们已经成为饶有兴致地观察机器交易的观察者。当今的市场已是算法的天下。道琼斯通讯社和彭博社设有专供交易机器阅读的新闻专栏。

① 首次公开募股(Initial Public Offering, 简称IPO) 是指一家企业或公司(股份有限公司或有限货任公司)第一次将它的股份向公众出售。——编者注

这些新闻报道在人类看来如同天书,机器读起来却是通顺流畅。新闻影响市场走势,正如以前华尔街交易员在从格林威治来的火车上读《巴伦周刊》一样,算法也要读报纸了。只不过它们读得比人要快多了。

当机器成为主导力量,我们永远也不能确定市场的走势。2010年5月6日,1 千亿美元的市值蒸发就明白无误地说明了这一点。股市暴跌余波不止。半年以后, 进步能源(北卡罗来纳州的一家公用事业公司)看着自己的股票市值在几分钟之 内无缘无故缩水90%。苹果股价在5月6日如坐过山车般起起伏伏,几个月以后莫 名其妙地下跌4%,在触底反弹之前,损失160亿美元市值。宾夕法尼亚大学教授 迈克尔·卡恩斯写过交易算法,并研究过这个由机器控制的新市场。他说,我们 无法估量由算法全权掌控市场会带来什么影响,而这也正是交易市场的现状。©

华尔街的算法之战已经如此虚幻离奇,以至于在某些交易日美国所有交易所(从纳斯达克到纽约证券交易所)日交易量的40%都是由两家中西部公司完成的,很多人甚至连金融界的人都没听说过这两家公司。一家叫Getco,位于芝加哥;另一家叫Tradebot,位于堪萨斯城。两家公司都雇用了世界顶级的电脑黑客和工程师,他们专注于每一个获利机会,其中很多交易每股净收益甚至不到1美分。Getco和Tradebot部署了成于上万的算法对市场展开大搜索,再小的获利机会都不会放过。这样的公司大大小小还有成于上万个,它们唯一的工作就是用自动运行的计算机程序在市场上赚钱。总的来说,算法就是交易市场,美国超过60%的交易都是由算法执行的;欧洲市场和亚洲市场也快赶上这个潮流了。曾经由咬牙切齿、成群结队、高声叫卖的交易大军主宰的市场现在已由互相竞争的算法所控制;它们在交易的战场上不断试探对手,谋求优势地位,声东击西,并在实践中学习。

算法在交易市场的统治地位给我们带来了很多好处, 比如普通人也可以在厨

① Felix Salmon and Jon Stokes, "Algorithms Take Control of Wall Street," Wired, December 27, 2010.

房用手提电脑炒股,轻松获利7美元。以前的市场,每一单交易都要在交易厅公开叫价竞价,现在已转变成由算法和交易厅的主机服务器驱动,交易成本大大降低。但是廉价交易员的效用让我们陷入一场怪异的类似星球大战的斗争中:这场斗争人力投入较少,而算法发挥着越来越大的自主权。一旦事态不妙,它恶化的速度将是骇人的。

我们的证券市场已经成了专业化的战场,以至于算法可以潜伏几个月,一旦让它看穿对手的设计缺陷、过时代码,或是识别出对手的交易模式,就会即刻攻击。很多从事证券市场交易的算法被构造来模拟随机性。但我们不能在随机事物上下注赌博、制订计划,或是榨取利益。比如说,华尔街某些重量级的算法买卖属于普通人的股票——401k计划或是个人退休金计划的共同基金股份。当一个共同基金公司,不管是富达基金、先锋集团,还是T. Rowe Price基金,开立或是了结头寸时,无可避免会涉及一笔非常大的交易。100万股股份的买卖,即便是在交易量大的苹果或是埃克森美孚这样的股票上,也会使市场朝着不利于大卖家或是大买家的方向走。如果其他交易者知道一笔100万股份的单子即将挂出,他们会尽其所能抢占先机,倾其所有买进股份。这样,他们就能够为新购进的股份挂出报价更高的实单,他们知道这些股份最终会由共同基金公司全数买人。

当一个共同基金公司买入股份需要花更多钱时,受损失的是共同基金的所有 投资者——那些存养老金的普通人。为了抵御滥用大额交易机会牟利的交易者, 共同基金公司和其他机构交易者雇用了黑客,构建可以将大单交易随意分割成小 单以作伪装的算法。这法子有些像隐身术。就像一架隐形飞机因其独特的设计和被 盖物在雷达上会显示成一些小型物体,可能是云层、鸟、碎屑;总之不会是天空中 飞行的一块巨型金属。派遣飞机拦截每一群穿越大陆的鸟是徒劳无功的,这也就是 为什么隐身术会起作用。但是俄国人最终还是找到了分辨鸟群和80吨重的美国钢铁 的办法。同样的事也在华尔街发生了。最开始被伪装算法打败的交易者很快构建了 他们自己更为复杂缜密、诡计多端的算法,可以侦破伪装成小单的大额交易。

进行大单交易的共同基金公司和机构通过构建更好的伪装算法作为回击——自动交易机器发出假交易信号,并在大额交易单可能被识别时灵活转变交易策略。 猎取大额交易机会的交易者再次接招,如今的证券市场成了古罗马竞技场,算法 是角斗士,普通人只是站在一旁观战的看客。这是一场令人着迷的游戏,虽然它 与证券市场最基本的使命毫无关系:为成长中的公司开辟一条集资的坦途,同时 给予公众一个有意义的投资获利机会。

彼得菲认为算法交易玩过了头。他已经收敛了公司的做市行为。他是算法背后最有力的推手之一,他推动的算法已经统治了华尔街,现在正朝着世界其他角落进发,而现在他却思前想后,犹豫不决。"我以前只看到了好的一面。"他说。

当然,彼得菲已经赚足了钱,成为美国最富裕的人之一,事后说这句话对他来说倒也容易。彼得菲认为在光速交易的时代,买卖报价都应至少稳定维持一段时间,即使少于一秒的时间也足以消除市场上无处不在的导致股价时而跌落悬崖时而冲上云霄的弄虚作假、阴谋诡计。

他最担心的还是流氓算法引发的一系列大亏损交易会导致它的用户无法潸偿 债务。因为某些高频交易算法使用杠杆交易,也就不难想象瞬间完成的一连串糟糕的交易会导致潸偿危机,使交易者的经纪商及其代理的客户破产。这样的事以前差一点就发生了。2009年下半年,坐落在芝加哥期货交易所的英非尼资本管理公司(美国一家深藏不露、势力庞大的交易公司)两次对全速卖空标准普尔500股指期货的算法失去控制,导致市场暴跌。2010年2月,英非尼又摊上这事儿了,一个新的算法试图在原油交易上获取小利,但却失去控制疯狂交易导致商品市场瘫痪,三秒之内损失100万美元。英非尼被芝加哥商业交易所以"未尽费监管其交易系统"的理由处罚美元85万。芝加哥商业交易所称放任这样一个有缺陷的算法

"在真实交易环境操作,英菲尼损害了交易所的利益"。©据报道,英菲尼并未按标准流程测试算法6到8周,而是在仅仅两个小时的测试后就将其投放市场交易。©

华尔街和我们的钱已经成了算法交战的虚拟战场。算法的脚步不会仅止于此。 华尔街上演的机器传奇让我们得以一窥未来世界的发展蓝图。

① Hal Weitzman and Gregory Meyer, "Infinium Fined \$850,000 for Computer Malfunctions," Financial Times. November 25, 2011.

② Lco King, "Rushed Software Testing Results in Unprecedented Fine for Futures Giant Infinium," ComputerWorldUK.com, http://www.computerworlduk.com/news/it-business/3322223/rushed-software-testing-results-in-unprecedented-fine-for-futures-giant-infinium/.

# 第2章》

# 人与算法的简史

**十言**妙绝伦的算法背后的高等数学正在复兴。从来没有任何一个时代有像现在这么多的人懂它,也从来没有任何一个时代有像现在这么多的人通过讨论与研究传播自己对于它的理解。你只需要登入硅谷创业公司孵化器Y Combinator的黑客新闻留言板©,这个已经发展成为世界上最有影响力的网站,就能了解一切。

电脑黑客、数学爱好者、企业家、华尔街程序员,还有那些喜欢这个网站的 人在这里畅所欲言,无话不谈。他们的话题主要围绕编程、创业和硅谷。但唯一 不变的是首页上总有一两个帖子在讨论高斯函数、布尔逻辑或其他数学分支,正 是这些数学理论成就了今天的算法世界。

无论是会计室还是客户服务台, 算法都无处不在。早在人类知道数学会让这一切成为可能的时候, 算法统治世界的趋势就悄然逼近了。我们称赞那些用算法

① 参见http://news.ycombinator.com。

和机器征服市场、重塑社会的人,但是他们之所以拥有这种能力,却应归功于250 年前就已经存在的理论。

# 算法源自何处

千百年来,人类一直在设计、修改并分享着算法,这一活动早在算法这个词出现之前就开始了。算法无需用到高等数学,甚至可以和数学领域无关。巴比伦人处理法律事务时会用到算法,古时候拉丁语老师检查语法时会用到算法,医生靠算法来预测病情,无数遍布全球的普通人曾试图用算法预测未来。©

算法的核心就是按照设定程序运行以期获得理想结果的一套指令。将信息输入特定算法,结果就出来了。很多工科学生在大学一年级学习编程时,会被要求设计一种可以在非字棋对弈中毫无破绽的简单算法®。在他们的程序里,所谓的对手,也就是人的下棋招数形成输入。有了输入信息,算法通过接招生成输出。学生要想在这道设计题上得A,他设计的算法必须永远立于不败之地(但是很多时候打成平局)。

高频交易员或语言识别软件所使用的算法也按此方式运行。有了输入(可能是不同股票指数的走势、货币汇率被动和石油价格),也就有了输出:比如,买人通用电气股票。算法交易不过是依赖算法给出的何时购买何种交易品种的指示。构建一种变量很多的算法要比构建一种并字棋对弈的算法难多了,但理念都是相同的。

算法一词来源于公元9世纪的波斯数学家阿布·阿卜杜拉·穆罕默德·伊

① Jean-Luc Chabert, ed., A History of Algorithms: From the Pebble to the Microchip, translated by Chris Weeks (Berlin: Springer-Verlag, 1999).

②作者还是工程学本科学生的时候,在一次C语言编程课上,老师也布置了井字棋算法难题。

本、穆萨、花剌子密、他写了第一本关于代数的系统著作《还原与对消的科学》 (Al-Kitab al-Mukhtasar fi Hisab al-Jabr wa l-Muqabala)。代数(Algebra)的名字就 直接来自于书名中的"还原"(al-Jabr)。中古世纪的学者们用拉丁语传播花刺子 密的学说时,他名字的拉丁语音译"算法"(algorism)便成了任何程序化运算或 自动运算方法的统称。 $^{\circ}$ 

人们在靠近现代巴格达的舒鲁帕克地区发现了算法最早的文字记录。统治了 幼发拉底河流域1500年的苏美尔人把公元前2500年的泥板文书留给了世界、文书 阐释了在人数变动的一群人中均分谷物的可重复使用的方法。该方法使用的是小 型测量工具,这在当时很有用,因为粮商没有一次性称量几千磅食物的巨型天平。 那块用符号描述测量算法的泥板现在保存在伊斯坦布尔博物馆。

几千年前构建的某些算法在现今电子化的世界依然起着非常大的作用,而这 些作用是它们的创造者无法想象的。很多网站、无线路由器和任何需加密用户名 和密码的地方,都使用了一个名叫欧几里得的希腊数学家在2000多年前构思出来 的算法。

欧几里得算法(很多数学学者经常这样提及)在现代社会各行各业的应用程 序编制中无处不在,还可以被用来提取大部分现代音乐的节奏样板。 如约公元前 300年,欧几里得写了《几何原本》,在其后的2300多年间,此书一宵是几何教科 书的典范。书中包含了寻找不同数值的最大公约数的算法。任何有五年级数学水 平的人都可以用它迅速算出17是1785和374的最大公约数。

① 其伯特, A History of Algorithms。简介部分很多内容得益于更伯特先生的作品。

②同上。

(3) Godfried Toussaint, The Euclidean Algorithm Generates Traditional Musical Rhythms (Montreal; School of Computer Science, McGill University, 2005), http://cgm.cs.mcgill.ca/~godfried/publications/banff.pdf.

(Princeton, NJ: Princeton University Press, 1999), p. 33.

## 黄金分割

12世纪,欧洲刚刚引进阿拉伯数字和十进制,研究生物学、植物学、天文学,甚至是农学的人对随之发展起来的一个概念应该都不陌生。Ф尤其是数学家开始玩味一个神奇的比率1.618——也称黄金分割率——大自然中无处不在的一个数字。蕨类植物的叶片形状,DNA的分子结构,还有银河系行星的运行轨道无不包含着黄金分割比。® 注重比例的建筑师也被这一比率所吸引。看起来"正确"的伟大建筑总是在空间与图案的设计上体现了1.618这个比率。旅居瑞士的法国建筑师协·柯布西耶是20世纪最著名的建筑大师,他在自己很多建筑作品中体现了这一比率,比如位于巴黎附近的嘎尔什,始建于1929年的加歇别墅。最近,平面设计师发现很多苹果的产品也应用了这一比率,包括它的商标。®

列昂纳多·斐波那契发明了黄金分割数列,并将阿拉伯数字系统引入欧洲。 他被许多历史学家公认为中世纪最重要的数学家。类似近代银行的机构在意大利 中部崛起以前,比萨的列昂纳多广泛游历了地中海沿岸诸国,甚至到了东方。他 的父亲是比萨的海关官员,驻守在如今的阿尔及利亚的贝贾亚港一带。©斐波那 契是他为大众熟知的名字,他发现阿拉伯数字比笨拙的罗马数字好用得多,尤其 是涉及数学运算的时候。

1202年, 斐波那契发表《珠算原理》。这位年轻的数学奇才在书中解释了小数

① Niall Ferguson, The Ascent of Money (New York: Penguin, 2008), p. 34.

② Henry Linger, ed., Constructing the Infrastructure for the Knowledge Economy, Proceedings of the 12th International Conference on Information Systems and Development, Melbourne, Australia, 2003 (New York: Kluwer Academic/Plenum Publishers, 2004).

③ "Apple and the Golden Ratio," Paul Martin's Blog, http://paulmmartinblog.wordpress.com/2011/07/18/apple-and-the-golden-ratio/.

(1) Ferguson, The Ascent of Money, p. 34.

怎样转化为分数,怎样运用小数、分数简化记账法以及解决实际问题。斐波那契 解决了当时常见的难题,他举例说明了如何分发胡椒、动物毛皮和乳酪之类的物 资。斐波那契引用花剌子密的观点,发明了一系列西方文明几百年来频繁使用的 算法,用于未来现金流流量现值计算和类似现代抵押贷款的利息结算。◎

虽然很多古代数学家的贡献被尘封于历史档案中,但斐波那契的名字不仅至 今响彻华尔街,也为普通大众所熟知。斐波那契在销售州将近1亿的小说《达芬奇 密码》中备受瞩目,作者丹·布朗将《珠算原理》提到的神奇的斐波那契数列作 为一大重要元素来挖掘。斐波那契数列从第三项开始,每一项都等于前两项之和: 1、1、2、3、5、8、13、21、34……数列后一项与前一项的比值无穷趋近黄金分 割1.618。

黄金分割率在华尔街也有很多忠实的信徒,一些古怪的交易员利用黄金分割 或所谓的斐波那契数作为交易,指导操作数以十亿计的美元。最近20年来,市面 上有超过100本书鼓吹在商品、股票和外汇等各类交易市场中无处不在的黄金分 割,以及它在交易中所起的神奇作用。这些论断尚缺乏依据,但华尔街不正是— 个无数严密逻辑与同样多的荒谬理论和谐共存的矛盾体吗?

#### 现代算法的教父

戈特弗里德・莱布尼茨和同时代的艾萨克・牛顿一样、也是一位博学的通才。 他涉猎的领域遍及欧洲大陆绝大部分有趣的学科。莱布尼茨曾说过,在哲学上只 有两条绝对真理:神和虚无。

Dirk Struik, A Concise History of Mathematics (Mincola, NY: Dover, 1948), p. 80.

2) David Berlinski, The Advent of the Algorithm; The 300-Year Journey from an Idea to the Computer (New York: Mariner, 2001), p. 14.

为什么会想出只有0和1两个数字定义的计算语言了。

莱布尼茨发明了一种用1和0两个数字来表示数和一切运算(加减乘除)的数制。在他1703年发表的论文"关于只用两个记号0和1的二进制算术的阐释"中,这位数学家给出了二进制语言的定义。

乘布尼茨1646年生于莱比锡城,他出生的那条街道现在以他的名字命名。莱布尼茨从小就是优等生,15岁上大学,20岁完成博士学位课程。他非常善于交流,70岁躺在病床即将离世时,还在跟他的医师聊天,讨论着炼金术。Φ莱布尼茨在这个故事中的影响力源自他坚信二进制的应用范围会非常广,他不满足仅将其局限于博大精深的数学定理,也无心卷人和牛顿的微积分理论创始人之争。

莱布尼茨说一切物理变化皆有因。在某种程度上,人甚至也有外力作用于自身形成的既定轨道。博弈论,这个晚于莱布尼茨时代很久以后发展起来的学科就基于这一事实。因此莱布尼茨相信通过分析因果关系,绝大多数事物的未来都可被预测。②很多华尔街巨头对这一点的理解比任何人都要到位,要是莱布尼茨晚几个世纪出生,他定能在华尔街撑起一片天。

在构思上,莱布尼茨是历史上第一个接近人工智能的人。这位数学家明确规定了认知思维和逻辑可以被简化为二进制表达式。越复杂的思想越需要简单朴素的概念来描述。复杂的算法同样也是由一系列简单算法组成的。莱布尼茨说,逻辑总是能被无情地简化到其骨干,就像纷繁复杂的国家铁路网追根溯源是由一系列简单的铁道双向岔口组成的。如果逻辑能够被分解为一连串的二元判定,即便这样的二元判定树无限延伸,那么不用人也可以执行。莱布尼茨梦想着将所有逻

David Berlinski, The Advent of the Algorithm: The 300-Year Journey from an Idea to the Computer (New York: Mariner, 2001), p. 2.

@ Bertrand Russell, A Critical Exposition of the Philosophy of Leibniz (New York: Cosimo Books, 2008), p. 192.

辑思维简化为机械运算,他开始在自己设计的一台机器上实践着这个梦想。◎

听闻布莱士·帕斯卡造了一台加法器后,莱布尼茨下决心超过他,开始着手制造自己的机器。他的机器可以更加流畅地进行加减运算,并能解决乘除运算,这是帕斯卡的机器做不了的事情。莱布尼茨画了设计图,聘请到一位巴黎的钟表匠制造机器,终于在1674年造出一台更完善的机械计算器。©

他横跨英吉利海峡,来到伦敦,准备向当时汇聚知识精英的权威机构英国皇家学会展示他的作品。可是机器在展示过程中失效了,他不得不手动操作余数进位。®从此以后莱布尼茨便对机器失了兴趣,但他的设计却在之后的200年间发挥了重大作用,一代一代的计算器在此基础上相继问世,他的设计图也被收进文献记录。至于莱布尼茨自己做的那台机器却消失了近两个多世纪,直到1879年,一名修理漏雨屋顶的维修工在一间阁楼的低矮角落里发现了它。很显然,莱布尼茨把他那台黄铜圆柱机器藏在了哥廷根大学的那间阁楼里。

莱布尼茨是机器计算的先驱,他相信通过将人类逻辑推理分解为数学运算,能够找到一种演算推论器,即一种可以解决争议的算法。他曾设想人们在有争议的时候不必朝对方大喊大叫,只需带着笔和纸坐到桌前,计算谁的逻辑正确。④如果美国政治辩论能给我们些许提示,我们就会知道莱布尼茨永远也发现不了他那神圣的演算推论器。

菜布尼茨晚年承受着巨大的争议。虽然现在普遍公认他和牛顿同时发现了微 积分,但在当时经常与牛顿书信往来的菜布尼茨却被人指责剽窃英国人的成果。

Chabert, A History of Algorithms, p. 44.

② Bruce Collier and James MacLachlan, Charles Babbage and the Engines of Perfection (New York: Oxford University Press, 1998), p. 46.

3 Berlinski, The Advent of the Algorithm, p.3.

William Ewald, From Kant to Hilbert: A Source Book in the Foundations of Mathematics (Oxford: University Press, 1996), p. 446.

虽然他很难与牛顿这位历史上最多产的数学家和物理学家并驾齐驱,但他在很多 领域都卓有建树,颇负盛名。至于微积分,是他而不是牛顿创造了所有学微积分 的学生至今都在使用的积分与导数的优美符号。

微积分实现了对变化的精准研究与建模,莱布尼茨对微积分符号系统和理论的发展完整为数学家提供了构建强大算法的武器,数学家们利用微积分构建的算法制造半导体,实现无线电通信,©还可以以激光的精准度将人造卫星发射进轨道。微积分和算法的历史、价值和力量交织在一起。数学家戴维·伯林斯基在他的著作Infinite Ascent中很好地总结了这一关系:

人类思想史上爆发了回声阵阵的超音爆!在微积分被发现以前,数学是一门趣味盎然的学科;而在微积分被发现以后,数学变成了一门力量无穷的学科。只有20世纪出现的数学理念(计算机)算法的影响力可与之媲美。微积分和算法是西方科学界的两大主导思想。◎

20世纪60年代以前,还没有电脑黑客或数据分析专家这些称号。但或许这样的称号用在这位生活在欧洲文艺复兴黄金期的德国人身上很合适。莱布尼茨用三种方式推进了算法科学的发展,他是微积分的发明者之一;同样重要的是,他引进了数学建模算法,可以用一系列简单的二元区表示复杂难题。

他对算法的第三个贡献,在于他发现了存在于最简单的语言片段及其表达的人类情感之间的联系。莱布尼茨认为语言及人类如何使用语言应该用一种严谨、科学的方式来研究。他推想既然复杂如人的存在这样的问题都可以被分解为两个绝对项(不管是神和虚无或是1和0),那语言为什么不能被解构呢?为什么不能精选段落、句子、从句和词语从而探索到更多的意义呢?这位哲学数学家猜测人的

D Paul Nahin, The Science of Radio (New York: Springer-Verlag, 2001), p. xxxvi.

2 David Berlinski, Infinite Ascent: A Short History of Mathematics (New York: Modern Library, 2005), p. 45.

措辞是依靠他们的情感和认知来选择的。Φ

听其言,知其人;知其人,便很容易精确地推测他未来会做什么事。华尔街 或其他地方上演的算法推动的革命核心在于一个永恒的目标:预测。说得更准确 些,就是预测其他人会做什么,这就是赚钱的方法。莱布尼茨的预感——人类个 体的活动可按照被预测的方式进行——比任何人知道的都准确,这已经成了驱动 华尔街算法发展的事实。本书后面的章节会讲到,由莱布尼茨率先提出的预测人 类的科学是如何发展到美国航空航天局,又是如何渗入到我们生活的方方面面。

莱布尼茨有生之年没有看到他发明的二进制发展到他预想的高度。但是从20世纪30年代开始,可以运行算法的二进制电子电路相继在美国、德国和法国问世。 莱布尼茨发明的二进制数等了250多年才等到将自己的简约之美运用到材料科 学上。

今天,所有的计算机语言都是因为二进制才得以发展,而计算机语言也仅仅 是方便编写算法的工具而已。同样得益于二进制的还有运行算法的芯片和电路。

# 高斯: 实现算法的逻辑

只有在待考量和操作的数据确定可知的情况下,算法才会起作用。如果不是 确知股票期权的价格完全取决于其历史波动率、利率及期权执行价,我们就无法 构建出可以推导其真实价值的算法。如果彼得菲或是布莱克和斯科尔斯不知道这 些是影响期权价格的关键因素,也就很难创造出一种能够有效交易、击败人类的 算法。构建一种能够听人言察其意的算法也是同样的道理,首先需要输入言语模 式和语句结构的逻辑。

① Nicholas Jolley, ed., The Cambridge Companion to Leibniz (Cambridge; Cambridge University Press, 1995), p. 251.

有时,发现算法对象关系中真正重要的变量,就跟构建一种自动运用这些发现的算法同样困难。一个算法模型,比如股票市场的模型,或是统计我们一天说多少个词的模型,有成于上万个可供分类和搜寻其潜在意义的因素。但绝大部分数据仅是噪声而已,是无意义的。预测性的算法要正常运行,需要得到跳过噪声数据,瞄准价值因素的指示。提取关键因素,不管是真正影响期权价格还是决定一首歌是否悦耳的因素,都是通过分析海量数据来实现的。筛选数据,让趣味盎然、无法凭直觉获取的关系重见天日,最常用的方法就是回归分析。回归分析法就是利用历史数据推测现在。物理学家、统计学家或工程师都可以基于历史数据对现在进行准确预测。在发展构建符合历史数据的预测模型的方法上,英国皇室做出了一定贡献。

英国皇室成员并没有聪明到自己找出方法,但乔治四世1817年委派卡尔·弗里德里希·高斯负责汉诺威公国的测量工作实在是明智之举。Φ高斯那时已经是很有成就的数学家了,他发现当时的测量工具测出的结果不准确,于是发明了一种新工具——日光反射仪,它可以利用镜子将光束反射至远距离。高斯知道,即使有了这种新工具,测量那么大面积的土地也难免不准。20年前,18岁的高斯就发现了处理类似问题的一种方法——最小平方法。

最小平方法对基于已观察到的结果构建预测模型提供了方法。为了利用已测定的数据建立最好的模型,高斯建立了求实际值(可以是历史股价的实际值)和预测模型的计算值的偏差最小平方和的方程式。模型不停被修改,不管是二次方程式还是多层次算法,直到找到最小平方和。最小平方法是现代统计学和算法建模的基础。比如要构建一个预测未来股价的算法,测试算法准确度的方法就是用确定的历史日期与价格运行算法。人们基于历史数据提炼出一个函数或一条曲线、

Richard Lindsey and Barry Schachter, How I Became a Quant: Insights from 25 of Wall Street's Elite (Hoboken, NJ: John Wiley & Sons, 2007), p. 126.

希望借此预测未来数据。数据分析专家、工程师或是物理学家讨论数据拟合或是 回归分析的时候,他们使用的方法很可能就是高斯的发明。Φ

高斯研究了测量误差分布,总结出背离(误差)符合正态(也称高斯)分布。这样的分布用曲线表示出来很像一口钟。高斯和同时代的数学家观察到绝大多数可被测量的事物,哪怕是自然界中人的身高与头部大小也符合正态分布。②大部分数据点集中在中间值附近,也就是钟形曲线的中间区域;随着钟形曲线向两边延伸,远离中间值,数据点会越来越少。正态分布在自然界随处可见,学生的考试成绩、人的体型和身高都符合正态分布。

钟形曲线边缘被称为尾部。高斯分布的尾部逐渐趋近于零。现实中的情境往往受人的不理智行为所影响,比如金融市场,所以曲线的尾部也就不那么纤细了。一旦涉及人的心理和行为,异常事件发生的可能性就会变大,便产生了所谓的胖尾分布,那也就不是高斯分布了。人们凭着高斯分布在华尔街赚了多少钱,就因信奉高斯分布却忽略胖尾分布赔了多少钱。

编写符合正态分布规律的算法更为简单。虽然历史不断证明人的行为从来不能以常态来判断,一些黑客还是选择只考虑正态分布。在正态分布的假定下,100 天内100%都能赚钱。但是现在是第101天,1987年的黑色星期一、1998年的俄罗斯债务违约、2010年的股市闪电崩盘,对于指望用高斯分布设计的算法赚钱的人,这些事件能让他们倾家荡产。何况高斯本人也在200多年前提出过警告,任何幅度的偏离在正态分布里都是有可能的。©

正态分布的应用改变了人类, 开辟了现代统计学领域。运用正态分布的知识,

① Stephen M. Stigler, "Gauss and the Invention of Least Squares," Annals of Statistics 9, no.3 (1981): 465-74.

② Jyotiprasad Medhi, Statistical Methods: An Introductory Text (New Delhi: New Age International Publishers, 1992), p. 199.

3 Jagdish K. Patel and Campbell B. Read, Handbook of the Normal Distribution (New York: CRC Press, 1996), p.4.

购置保险更简单,桥梁也可以建得更好,甚至篮球比赛彩票投注也更有胜算,当 然这一点没那么重要啦**。** 

虽然早年就取得了巨大成功,但高斯一直谦逊做人,低调行事,避免争议。对于研究成果,只有他认为毫无破绽、无可辩驳时才会发表。他认为欧拉和牛顿是最伟大的数学家。①但大部分专家认为高斯本人也在其中。很多学者说阿基米德、牛顿、高斯是数学界不朽的"三巨头"。民间流传很多关于高斯小时候就表现出极高数学天赋的故事,有些说他三岁的时候就有了令人惊叹的算术技巧。②有一个故事讲的是他七岁上小学那年,老师布置了一个任务,对自然数从1到100求和。高斯几秒钟之后就得出了答案,显然他在脑海中演绎了一个箅法,毕达哥拉斯学派将该算法用于其秘密社团的密码:③

$$\frac{1}{2} n (n+1) = S$$

变量n代表数列的最大值,这里指100,S代表总和。小高斯很可能发现 1+100=101,99+2和98+3同理,也就是说有50个101,50×101=5050。

1777年,高斯出生在一个穷人家庭,远非引领时代的知识分子镀金之家。他 14岁时因数学才能出类拔萃,得到布伦兹维克公爵的召见。公爵提出做他的资助 人,后来送他到哥廷根大学学习。© 高斯脑袋里经常冒出各种各样的想法,速度 之快以至于他有时都没办法把它们全都记下来。©

高斯21岁的时候获得博士学位,他的博士论文首次为代数基本定理提供了完

Michael Bradley, The Foundations of Mathematics (New York: Chelsea House, 2006), p.5.

② Ioan James, Remarkable Mathematicians: From Euler to von Neumann (Cambridge: Cambridge University Press, 2002), p.58.

3 Jane Muir, Of Men and Numbers: The Story of the Great Mathematicians (New York: Dodd, Mead & Company, 1961), p. 158.

④ 同上, p. 159。

(5) Elena Prestini, Applied Harmonic Analysis: Models of the Real World (New York; Spinger-Verlag, 2004), p. 99.

整的论证, 牛顿和欧拉也曾经尝试做这件事, 却都以失败告终。 域的很多方面都有重要发现,包括数论、二元方程式,以及质数分布定理。

一些人一提到高斯, 总想到"高斯相依"——2000年由李祥林引进华尔街的 一个被妖魔化的公式。在统计学中,相依用来表示两个或多个变量之间的行为关 系。李祥林曾试图弄清如果一个看似不相关的债务违约了,那么目标债务违约的 风险有多大。这被称为关联风险。因为李祥林手上没有次级抵押贷款的历史违约 数据(其实根本就不存在),那他只好把相依函数建立在确实存在的数据上:信用 违约互换的历史价格。一旦参照资产(这里指贷款)发生信用违约事件,信用保 隨买方可得到一笔违约损失金。但是我们现在都知道, 信用违约互换市场曾经存 在严重的人为定价偏离问题。尽管如此,华尔街还是把李祥林发表的数学公式奉 为圭臬。相依函数应该只是分析师和评级机构在审查核准抵押贷款证券时可用的 一个风向标而已,但它却成了唯一的风向标。

银行家滥用本应无害的算法带来了债务抵押债券的迅猛发展和房地产泡沫的 破灭。高斯相依函数是应用于多个领域的有效工具。但有一件事它做不了,即极 端事件的关联性建模,而人恰恰擅长走极端。 5

## 帕斯卡、伯努利和改变世界的博弈游戏

现代金融学的很多方面,从养老金到保险再到算法交易,都是基于概率论发 展起来的。无数其他行业也是如此,比如博彩、建筑和飞机制造。现代医学最有 潜力的发展动向便是基于概率论建立其检测和诊断的方法论。政治党派提名候选 人,建立其政治理念导向的依据并非实用主义或者事实,而是概率论。足球教练

Michael Bradley, The Foundations of Mathematics (New York: Chelsea House, 2006), p. 20.

@ Bernhard Fleischmann, Operations Research Proceedings 2008 (Berlin: Springer-Verlag, 2009), p. 235.

查阅小记录本,根据比赛剩余时间场内发生其他事件的概率做出决定。

所有概率论在现代的应用都可以追溯到1654年两个法国人布莱士·帕斯卡和 皮埃尔·费马之间的一封信。当年,帕斯卡给费马寄了张便条,上面写道:如果 一场赌博游戏还没结束,那该怎样分奖品呢?比如说一个玩家到目前为止赢了五 轮,另一个赢了两轮,那这时要回家的他们应该怎么分共有的奖品呢?帕斯卡在 一篇3000字的文章里论述了精确计算各种事件发生的可能性的方法。上面那道 赌博问题的答案就是推算出其余每一个玩家赢得大奖的概率,然后依据概率分发 奖品。Φ

这两位著名的数学家横跨法国就概率论这个问题互通书信长达五年之久,在这五年中,世界也随之改变。由于能够更好地预测未来可能发生的事,工业得到了迅速发展,人们也能更有把握地经营自己的生活和生意。帕斯卡写给费马的信使得农民的粮食可以免于遭受市场风险。也正是由于这封信,100年后欧洲财政部门才能发布准确的死亡率表。而伦敦之所以跃升为世界上最重要的城市,并持续了至少一个世纪之久,主要原因之一就藏在帕斯卡的信里面。这个航海国家善用保险,在跋励商人开辟新贸易市场的同时,又免于他们遭受投机活动可能带来的巨大风险。

在帕斯卡研究的基础上,雅各布·伯努利以及他之前的克里斯蒂安·惠更斯 将严密的概率论应用到纸牌和骰子等概率游戏中。②通过对概率游戏的研究,伯 努利提出了大数定理。⑤

① Keith Devlin, The Unfinished Game: Pascal, Fermat, and the Seventeenth-Century Letter That Made the World Modern (New York: Basics Books, 2008), p. 5.

② Michael Otte, Analysis and Synthesis in Mathematics: History and Philosophy (Dordrecht, Netherlands: Kluwer Academics Publishers, 1997), p. 79.

(3) Stephen M. Stigler, *The History of Statistics: The Measurement of Uncertainty before 1900* (Cambridge, MA: Harvard University Press, 1986), p. 5.

对于可计算概率的游戏,比如说掷一枚硬币(人头刺上和字面刺上的几率各占50%),伯努利的定理指出游戏重复次数越多,即掷硬币的次数越多,平均结果会越来越接近预计概率。如果投掷硬币10次,70%的概率头朝上,也不是不可能的。可要是投掷1000次,要想70%头朝上,几乎是不可能的。

这个原理影响了21点游戏赌徒和扑克牌玩家,同样也影响了华尔街很多高频交易者。高频交易者会保持很大的交易量,目的是使赢利概率趋近一个平均值水平。概率论也是现代棒球队总经理在挑选种子选手时会参照的一个理论,比如自责分和击球率等统计数据会因为一连串的不走运而偏低。一些更为复杂的统计测量可能会揭示此类坏运气,比如对投手来说,太多的地滚球被成功击中;对击球手来说,一些平飞球却没能击中。而在医疗诊断领域,出现了一类医生,他们依靠基于概率的算法去诊断病情而忽略任何先人之见。

对股票交易者来说,一旦市场行情有波动,以买卖点差为盈利目标的算法可能就行不通了,交易者和他的算法可能陷入单边(错误方向)的行情。如果算法在50美元的价位执行了买入微软,却没能在股市下跌之前在50.02美元的价位卖出,交易员在新的卖出执行价49.99美元卖出,就会遭受损失。

交易算法是用来预测市场走势的。成功的算法只需有51%的正确率就够了。但如果高频交易者一天只交易10次,51%的概率也很可能让他陷入亏损。可能有好些日子他10次交易里有7次都输了。但是高频交易者之所以被称为"高频"是有原因的。他们一天做一万多次交易,几百万股的交易量。正如伯努利指出的,随着交易次数增加,有盈利的交易会趋近于51%的概率。这也就是为什么很多实力雄厚的算法交易大机构可以做到一年甚至更长的时间里没有一天出现亏损。

除了对华尔街的贡献, 喜爱数学的人们应该感谢伯努利定义了计算复利的公式, 这是接触金融领域时首先要学到并记住的理念之一。伯努利研究计算连续复

利的算法时发现了数学常数e。在与莱布尼茨的通信中,他把这个数字称作b,或许取自他自己的姓。后来这个数字以莱昂哈德·欧拉的命名e著称于世。

# 赋形于算法

1791年,著名奥地利作曲家约瑟夫·海顿出席了乔治·弗里德里希·亨德尔在伦敦威斯敏斯特大教堂的盛大清唱剧《弥赛亚》的演出。演出快要结束时,海顿被上千名合唱队和管弦乐队成员感动得热泪盈眶,他在泪光中盛赞和他同时代的亨德尔 "是我们所有人的大师"。Φ

与此同时,促进统计学发展的思想巨人之一、法国数学家皮埃尔-西蒙·拉普拉斯也惊叹地说了同样的话,但他指的不是亨德尔,而是莱昂哈德·欧拉。②

欧拉毕业于巴赛尔大学,这所大学曾经培养了很多改变世界的知识精英。巴赛尔大学是瑞士最古老的大学,由教皇庇护二世创办于1460年,几百年来吸引了很多优秀人才,如鹿特丹的伊拉斯谟、伯努利家族、欧拉家族、雅各·布克哈特、弗里德里希·尼采以及卡尔·荣格。欧拉生于1707年,曾经是雅各布·伯努利的弟弟约翰·伯努利的学生,他是那个时代最出众的数学家。⑤

欧拉上大学时,经常在星期六下午和约翰讨论数学和哲学。"所有我不懂的东西,他都好心地跟我解释。"欧拉回忆道。® 所以等到欧拉完成学业时,他已经学有所成,知之甚广了。而后他发表了不计其数的数学作品,成为有史以来最多产的数学家之一。

① Romain Rolland, Handel (New York: Henry Holt, 1916), p. 108.

(2) Robert Bradley, Leonhard Euler: Life, Work, and Legacy (Amsterdam; Elsevier, 2007), p. 448,

(3) William Dunham, Euler: The Master of Us All (Albuquerque, NM; Integre Technical Publishing, 1999), p. xx.

(4) Charles Gillespie, Dictionary of Scientific Biography (New York: Charles Scribner's Sons, 1976), p. 468.

欧拉当时是俄罗斯圣彼得堡科学院的新任教授,他着手解决困扰当地人的著名的哥尼斯堡七桥问题。哥尼斯堡现称加里宁格勒,位于夹在波兰和立陶宛之间的俄罗斯外飞地,在欧拉的时代属于普鲁士的领土。这座城被普雷格尔河分为几块陆地,包括两座岛,有七座桥将陆地与岛连接起来。当地散步的人希望找到一条路可以穿过这个城市:每座桥都能走到,但只走一次。Φ

为了说明这个问题,欧拉在纸上画了一些点(也称叉点),用线(也称连线)连接起来,分别代表陆地和桥。他注意到线的长度和形状可以任意改变,叉点也可以移动,前提是所有的线(桥)都是完好无缺的。欧拉当时所画的在现代数学中被称为图形,这个图形最终证实了不存在一次走遍七座桥,而每座桥只许通过一次的走法。欧拉解决这个问题的同时也创造了图论。

欧拉创造的图论和我们经常看的图(如股票走势图或销售报告图)不是一个概念。欧拉的图是树形图,可以用来表示自然界的网络、微芯片的电路或同城不同人之间的关系。专门为图论编写的算法为现代计算机科学的发展翻开了令人振奋的崭新一页:生物学家可以通过它建立DNA链和生理特征之间的联系,教授们可以解码披头士的音乐,中央情报局可以掌控恐怖分子网络,华尔街观察员可以找出看似不相关的事物之间的关系。图论尤其对分析Facebook的人脉关系网很有用,通过分析图形中哪些叉点(人)的连线(关系)最多,以及哪些连线在吸引眼球和评论方面最活跃,就可以知道哪些人最有影响力了。工程师要应聘Facebook的工作,经常会被考到图论的题。

欧拉活到76岁,但他的著作在他死后将近一个世纪仍然在不停地出版。他的专著、论文、教科书和技术手册多达886种,产出量是他有生之年欧洲所有数学出版物的1/3。他在数学领域开辟了很多新的发展方向,为了避免太多发现用同一个

D Robert Bradley, Leonhard Euler, p. 412.

人的名字命名,很多数学定理和公式都是以在欧拉之后第一个发现或使用它的人的名字命名的。 $^{0}$ 

很多人可能还记得上学的时候学过著名的欧拉公式: V-E+F=2。数不胜数的算法基于这个公式编写。它描述的是三维立体形状,V代表顶点(线相交的角)的个数,E代表线的条数,F代表立体对象面的个数。比如说,一个立方体有6个面,12条线,8个角:8-12+6=2。

这个公式并不仅仅局限于如立方体、角锥体、圆锥体和球体之类的基本的刚性图形。欧拉的这个公式后来在分析碳分子的几何图形、看似随机的天气系统、光学、磁学和流体力学时都被用到。通过他同名公式背后的理论,欧拉开始思考非刚性图形,也就是现在大家熟知的拓扑图形。拓扑学属于混沌理论的一个方面,在过去的20年里,很多数学家在华尔街用混沌理论算法可是赚了不少钱。

# 布尔逻辑机器

本章提到的所有数学天才都曾对人类思维及其起源、局限和方法有过深入的思考。莱布尼茨率先建立了人类思维可被分解为最基本的用二元判定来表示的单位结构。莱布尼茨说,这些二元选择可以被一个接一个地堆叠成任意长度,形成越来越复杂的思想或算法。

如果说莱布尼茨在构建统治人类生活的机器上迈出了第一步,那么与莱布尼 茨相差了将近两个世纪的乔治·布尔就是那个继往开来、乘势而上的人。正是由 于布尔发明的计算系统和创新的代数形式,网页才得以工作,我们才能上传照片

① David Richeson, Euler's Gem: The Polyhedron Formula and the Birth of Topology (Princeton, NJ: Princeton University Press, 2008), p. 86.

到Facebook, 在博客里码字。统治我们生活的复杂算法要是不能遵循人类的逻辑, 那就一无是处了。比如,要跳转到谷歌邮箱得满足两个条件: if (如果)用户正 确输入了密码 and (且) if (如果) 在提示的情况下, 正确破解了那不规则、难以 读取的密码。标记为垃圾邮件的信件谷歌邮箱将 not ( 不会 ) 显示给你,因为这些 邮件是群发到上千万个用户邮箱的, and (且) not (不是) 来自Groupon之类的团 购网站or(或)与收件人已经互发过邮件的受信邮箱。正是由于这些修饰符if(如 果)、and(与)、or(或)、not(非), 计算机科学和算法才得以发展。

17岁的布尔在草坪上散步时,突然灵光一现,想到某些代数符号可以用来定 义一门逻辑语言、一门思维语言、即解构人类理智内在工作机制的一种方法。这 个革命性的理念对布尔以及世界来说都十分重要,他开始思索这个突发奇想的强 大力量。科学已经证实潜意识或许是人类最有力的工具,但在布尔之前还没人就 此建立理论,布尔称其为"无意识"。 $^{\circ}$ 

1815年, 布尔生于英格兰的林肯。他的父亲约翰是一名鞋匠, 但是爱好广博, 喜欢数学、天文学和光学仪器制作。因为他没钱送儿子去读书、布尔就开始自学。 布尔的自学能力很强,才十几岁就已经能用四种语言读写了,还在当地的学校 教书。②

布尔20多岁时开始攻克高等数学难题,并从1841年起在期刊杂志上发表文意。 四年后,他被任命为爱尔兰科克城的皇后学院(现称科克大学)的首届数学系教 授。1854年,17岁的布尔在草坪散步时突发奇想有了收获,他发表了An Investigation of the Laws of Thought, on Which Are Founded the Mathematical Theories of Logic and

① Howard Rheingold, Tools for Thought: The History and Future of Mind-Expanding Technology (New York: Simon & Schuster, 1986), p. 39.

2 Ivor Grattan-Guinness and Gérard Bornet, eds., George Boole: Selected Manuscripts on Logic and Its Philosophy (Basel: Birkhäuser Verlag, 1997), p. xiv.

Probabilities—书。这是莱布尼茨很早以前就有的想法,但是布尔(而非莱布尼茨)却成功地将这个想法转变为可利用的方法。

布尔在书中开篇这样写道:

本书以探索人类理性思维运动的基本规律为目的。

这个英国人试图定义一种将人类推理活动分解成可书写的一系列数学表达式的思维语言,创造代表人类思维闸门、可用来进行加减乘除普通运算的符号: if (如果)、and (与)、or (或)、not (非)。哪怕仅写过一小段最基础的计算机代码的人对这些修饰符都应该很熟悉。布尔代数赋予了计算机电路内涵与思想。没有它,执行那些无穷复杂的算法——这些算法现在每天都在改变着世界——就无法完成了。

布尔的理论发表后并未一鸣惊人。那个时候,英国几乎没有人熟悉逻辑论,数学家也是如此。而且没有可以读取算法的机器或计算机,也就没什么明显的方法验证我们现在称为布尔代数的理论了。

但并不是说没有人做过这方面的尝试,阿达·洛芙莱斯就是其中最重要的一位。在当时那个不允许女性上学的年代,她是一位数学学者,还被认为是世界上第一位计算机迷。1842年,洛芙莱斯在为查尔斯·巴贝奇的分析机(分析机指一部巴贝奇未能完成的计算器)写说明时,设计了几组不同的输入。理论上讲,这些输入会启动机器执行特定的计算和任务。这样洛芙莱斯就成了首次为机器编写算法(程序)的人。她的算法没有用到布尔符号,所以她也没有找到表示人类思维流程的方法。她写道,她希望设备能"感知"发现正确的决定和方法。© 1979

Margaret A. Boden, Mind as Machine: A History of Cognitive Science (New York: Oxford University Press, 2006), vol. 2, p. 151.

年, 洛芙莱斯谢世100多年以后, 美国国防部用她的名字Ada命名了新的计算机。 语言。①

尽管巴贝奇、洛芙莱斯等人都曾试图实现机械计算机, 布尔代数却没能在着 手打造电子时代的工程师和物理学家中流行起来,虽然它在20世纪初就被尊为数 学定理。 6 随着技术的发展,科学家试着构建越来越多的先进电路,工程师这才 发现他们缺了什么东西——可以控制并充分利用他们正在构建的电子电路的数学 工具。

20世纪30年代后期, 一个叫克劳德·香农的麻省理工学院研究生把莱布尼兹 的二进制计算数制和包括and(与)、or(或)、not(非)、not-or(或非)和if(如 果)在内的布尔运算符结合了起来。香农发现所有的表达式都可以写进电子电路, 而且能够解决几乎所有的数学难题、存储数据、编辑包括图像和文字在内的任何 信息。香农一生成就很高、被誉为信息论之父。③

这就是计算机电路和语言诞生的真正过程,而随之出现的便是现代算法及机 器对人类智能的模仿。

Anne B. Keating and Joseph Hargitai, The Wired Professor: A Guide to Incorporating the World Wide Web in College Instruction (New York: NYU Press, 1999), p. 30.

②同上, p.38。

③ 同上。

#### 3 第 3 章 心

# 机器评出的前四十榜单

2004年,一个大型电影制片厂允许一家名叫Epagogix的新公司用算法浏览了九部未上映影片的剧本。Epagogix并没有对外宣布算法分析的结果。 九部影片最终搬上荧屏,当它们都下线后,制片厂找到Epagogix,想知道算法对每部电影票房收入的预测。有三部电影,算法的预测与实际情况相差较大;另外六部,其预测却准确得令人难以置信。有一部电影制片厂期望收入一亿以上,但实际票房却只有4000万,令人非常失望。Φ算法的预测是4900万。还有一个预测与电影的实际票房相差没超过120万。突然之间,Epagogix成了制片厂开机前分析剧本(尤其是大制作剧本)必不可少的工具。Epagogix的创意来自两名电影爱好者:一个是律师,一个从事华尔街最吃香的风险管理行业。后来他们成立了Epagogix,目的是为了降低制片厂拍电影的风险,以避免像2012年迪士尼制作《异星战场》损失近两亿美元的情况发生。

Malcolm Gladwell, "Annals of Entertainment: What If You Built a Machine to Predict Hit Movies?" New Yorker, October 16, 2006.

其实算法浏览的是读过剧本的人用几百个不同的因案考量影片而写成的一份 评分报告、报告里涉及的因素有影片场景设定、引领情节发展的主人公类型、故 事人物的道德纠葛、配角、结局、爱情元素等。无需为是否买下新剧本的版权专 门组织分析小组讨论、安排董事会商讨或是产生意见冲突,只需评个分交给算法 即可。但这种算法不管有多聪明,还是需要人来评估台词、故事、情节、角色等 所有的电影因素。那么如果有一种算法不需要人的输入呢?如果有一种算法能够 自己创作剧本呢?

那些搞艺术创作、发明创新、写书著作、为公司出谋划策、生产改变世界的 产品的人的工作,向来被认为是算法无法企及的。这些高薪而又自由的职位被人 们羡慕。有人称这些人为创意阶层,也有人叫他们"在生活中学习的人",或者聪 期人。

这些聪明人认为这场骇人的机器革命不会影响到他们。因为他们的想法是算 法所不能创新、机器所不能创造的。但现在我们意识到这些都是危险的臆断。

第法可以学会评估人的作品的质量和独创性,它们也能自己创作。 音乐领域 看起来不太可能受到算法的影响。对很多人来说, 跳动的音符是人类灵魂的创造。 我们很难描述音乐是如何影响我们、如何改变了我们的情绪和意识的。创作音乐 的人也解释不了灵感是怎么出现的。我们把创造的过程看做是难以名状的人类潜 意识里迸发出的火花——一定的聪明才智和对某件事有意或无意的长期专注所点 燃的火花。创造力被认为是属于灵魂的,很难被教会,更不要说让机器来执行了。

但现在确实存在能够进行音乐创作的算法、其中一个还有名字叫Annie。它们 创作的作品能如大师勃拉姆斯、巴赫、莫扎特的作品那样裹迈激昂, 富有创造力, 也能像超市放的音乐那样朗朗上口、耳熟能详。

# 你有 41%的机会成为Lady Gaga

本·诺瓦克是搞音乐创作的,2004年他还只开得起1993年产的尼桑蓝鸟。这 车在他新西兰奥克兰老家转转还过得去。但诺瓦克最不满意的地方就是它的收音 机,奥克兰那么多的广播电台,它却只能搜到两个。诺瓦克是那种一有空闲时间 就要听听音乐哼哼曲儿的人,这个问题对他来说可不是小问题啊。但他又没钱买 新车,唯一的选择就只能听听BBC了。

但专注于BBC也是有好处的,他能在鸡尾酒舞会上谈论时事,也能在冷场时插上一两句智言妙语。更重要的是,他听到了BBC的一篇短篇报导,说的是西班牙发展起来的一项技术,被采访的人声称他能够预测哪些歌会成为流行热门歌曲。

"我在车上听到这个就觉得真有意思,"诺瓦卡回忆道,"说实话,我本可以继续开我的车,不去细想,可是我到了下一个出口就返回了。"

他找到出口,开车回家,坐到了电脑前。诺瓦卡搜索到当时叫Polyphonic HMI公司的网站。只要花50美元,就可以用这家公司开发的算法分析他上传的任何音乐文件。有潜力成为热门金曲的歌会得髙分,不吸引人的歌就得低分。

"想想吧,只要50美元,但这50美元却会在未来创造无法估量的财富,"诺瓦卡说,"所以我就这么做了。"

诺瓦卡几年前写了一首歌叫Turn Your Car Around, 他觉得这首歌很有潜力。 他上传到网站, 坐在屏幕前等候结果。

诺瓦卡12岁时开始写歌,十八九岁时开始弹吉他。他20多岁的时候痴迷于写歌,为了音乐放弃了大部分社交生活,晚上和周末都呆在家里。他花了3000美元

买电脑和中档录音设备,把卧室打造成了自己的音乐室。他把储藏室四周蒙上旧 被子,把最好的麦克风安置在中间,这就是他录制Turn Your Car Around的隔音室。

终于、网站跳出了一个分析结果给诺瓦卡。它使用算法打出分数,高于6.5分 的歌有相当大的潜力成为热门,高于7分的歌有机会进入流行歌曲排行榜。诺瓦卡 的歌得了7.57分——这个得分和有史以来很多最热门的摇滚金曲得分一样高、比 如舞狼乐队的Born to be Wild和老鹰乐队的Peaceful Easy Feeling。

"我当时高兴极了."诺瓦卡说,"但是我也不知道接下来会发生什么。"

Polyphonic HMI公司总部在西班牙、维护算法的电脑工程师会记下哪些歌得 了高分。他们把这些高分歌曲从服务器上下载下来,拿到办公室去放。

"这首歌明显有它的可取之处,"经营着这家公司的麦克·麦卡克雷迪说,"我 们的人一遍又一遍地放着。" 麦卡克雷迪自己就是个音乐人, 他给欧洲唱片公司 的联系人打了电话,想让这首歌流传出去。

诺瓦卡把他的歌上传到麦卡克雷迪的网站两个星期以后,他的电话响了。打 给他的是英国音乐制作人阿什·霍维斯的代理人、霍维斯已经监制了几十首流行 歌曲、他手下有个年轻的流行歌手黎・莱恩、黎・莱恩的专辑正缺曲目、霜维斯 觉得诺瓦卡的歌正好可以放到这张专辑里。事实上,他觉得这首歌可以成为主打。 单曲。

诺瓦卡很快同意了这个利润丰厚的交易:这首歌在广播、电视或广告中插播 时他可以得到50%的版权费。他的歌不仅进了黎·莱恩的专辑,还被指定为首支 单曲。并在首次播出时排行英国流行歌曲榜第12位、连续两个月成为在英国播放 次数最多的单曲。它在整个欧洲大陆也一样流行、广播电台经常放这首歌、还在 广告中插播。在意大利、它跃升到排行榜第二位。

这首歌的成功改变了诺瓦卡的生活。他用版税收入付清了投资的几处租赁房产,买了更好的录音设备,更换了乐器装备。然而有一件事即便到现在我写这段话时他也一直没有做:换掉那辆旧的尼桑蓝鸟。"它还过得去,而且我现在再也不会关掉BBC了。"他说。

诺瓦卡大方地将成功归功于算法。在音乐的世界里,一丁点儿运气就可能成就一个艺术家,可要是没了那点儿运气,艺术家们也就此被埋没了。慧眼识珠的算法能够改变这一切。"整个音乐行业就像是任何人都可以冒险投机的大赌场,"他说,"这个软件,这个网站——创造了我的运气。"

改变诺瓦卡生活的算法是由麦卡克雷迪领导的一群西班牙工程师设计的。身 为美国人的麦卡克雷迪选择了一条与众不同的道路,成为改变未来音乐界的技术 权威。

麦卡克雷迪在美国内布拉斯加州乡下长大。他说,那个地方你要么待上一辈子,要么一辈子不会回去。1986年,他高中即将毕业,第一次有机会可以离开老家,虽然只是短暂地离开。他参加了学校组织的一个交流项目,可以离开内布拉斯加,在西班牙巴塞罗那城外一个小村庄的一户人家寄宿了九个月。他回到内布拉斯加后进了奥马哈城的克瑞顿大学,主修心理学。到了要毕业的那年,他觉得自己有两个选择。"我可以回乡下老家或者回巴塞罗那。"他说。

麦卡克雷迪回到了西班牙,然而在西班牙找工作就跟在内布拉斯加农村小镇 找工作一样难。西班牙政府不给麦卡克雷迪签发工作许可证,他就没办法找到一 份受法律保护的工作和薪水了。为了赚钱,他只能自己做点生意。开始的时候, 他一份接一份地打零工,直到后来他有了一个想法。

麦卡克雷迪还是学生的时候在西班牙加泰罗尼亚语区待过。那儿也有法国和

意大利管辖的区域,还有一个国家——安道尔、加泰罗尼亚语是其官方语言。这 1100万说加泰罗尼亚语的人表达时间的方式真可谓别具一格。1:15,他们从不说 one-fifteen, 而是说one-quarter of two o'clock; 1:20, 他们也不说one-twenty, 而 是说one-quarter and five minutes of two o'clock。"一天下来,时间会越来越奇怪。" 麦卡克雷油说。

麦卡克雷迪和朋友设计了一种表盘,表达时间的方式和加泰罗尼亚语一模一 样。他凑了几千美元,找到法国一家钟表厂来制作这种表。五个月后,这个小型 钟表公司就开始赚钱了。不久,麦卡克雷迪经营的表成了轰动西班牙的时尚,名 流贵族也戴。新设计的限量版一经推出,几天内就销售一空。

麦卡克雷迪爱好音乐, 他经营钟表事业的同时也从未荒废音乐, 他一生都是 个音乐人。他加入了一个布鲁斯乐队,他们在巴塞罗那吸引到一大群粉丝、并最 终与西班牙一家大型唱片公司签了合约。但正当乐队筹备发行专辑时却突然解散 了,成员们的私人问题在同一时问都爆发了。乐队唱歌用的是英语,但是宏卡克 雷迪一个人却用加泰罗尼亚语录歌。当麦卡克雷迪看清乐队必将解散的命运后. 他找到唱片公司、提出要单飞。他们觉得可行、就把麦卡克雷迪签下了。

麦卡克雷迪有两首歌位列加泰罗尼亚语流行曲排行榜榜首。也许加泰罗尼亚 区只是个小市场、但是麦卡克雷迪的成功还是使他跻身正牌音乐创作人之列、而 他卖表的故事亦成了西班牙人津津乐道的营销神话。1992年巴塞罗那举行了第二 十五届夏季奥运会、承包奥运场馆修建及使用的公司聘请了大名鼎鼎的麦卡克雷 迪。他们想聘请一位营销总监用新的方式来让场馆赢利。奥运场馆成了烧钱目华 而不实的东西, 奥运会过后没有什么活动来证明它存在的价值。

麦卡克雷迪成功安排了在奥运场馆举办大型巡回演出和音乐会。不过即便城 里有大型演出,通常也只有一天,一次性收入也算丰厚,但是场馆要的是稳定收 人。麦卡克雷迪说服乐队把巴塞罗那作为其巡回演出的首站,那么场馆通常就要举办—两个星期的预演外加几场开场秀。这个法子奏效了,巴塞罗那成了欧洲最潮的乐队巡演首站。不过正当麦卡克雷迪把场馆生意做得风生水起的时候,硅谷的科技热潮传到了西班牙。

"我有好多朋友开互联网公司都赚了钱,或者认为自己马上就可以赚钱了," 麦卡克雷迪说,"看来那是值得一试的事情。"

这的确是2000年值得一试的事,麦卡克雷迪到一家叫Deo的专营网上音乐的创业公司出任市场主管。这家瑞典公司把自己包装成首家开放性音乐市场。音乐人和乐队可以把自己创作的作品上传到Deo的网站,直接出售给消费者。

和那个时代诞生的很多公司一样,Deo在刚开始时充满乐观精神,且资金充足。但也和其他成百上千的创业公司一样,Deo误判了市场。那时候几乎没有人知道什么是数字文件,而知道的人很可能从Napster这样的网站非法下载。

一年以后,Deo资金短缺,关门大吉了。在Deo的经历对麦卡克雷迪来说弥足珍贵,此后他在音乐和技术的十字路口徘徊了一年。

在这一年里,麦卡克雷迪遇到了巴塞罗那的一家小型技术公司,这家公司开发算法来分析流行音乐的基本结构、模式和风格。麦卡克雷迪和这家公司的工程师见面详谈后,坚信搞技术是可以有一番作为的。他提议组建一个针对音乐人和唱片公司开发技术的新公司,他们把它叫做Polyphonic。

Polyphonic公司开发的算法对输入其中的音乐有着令人称奇的解析。算法基于新兴光谱反卷积技术,用不同序列的傅里叶变换和数学函数解构歌曲,分辨出歌曲的调子、节拍、节奏、音高、和弦进程、声音饱满度、声音质量和抑扬顿挫。软件将算法得到的数据构建成三维模型,算法通过观察(而非聆听)歌曲的三维

结构的方式,绝对客观地将其与过去的热门歌曲进行对比。把刚分析过的歌曲与 过去的冠军单曲在屏幕上用点表示出来、形成云结构。基本结构相似的热门歌曲 汇聚成带。靠近热门歌曲带中心的歌即便不一定能红,也一定是首不错的歌。

麦卡克雷迪一边完善算法,一边用他的机器分析了尽量多的即将发行的专辑, 以此测试算法的能力。算法将大多数还未上市的专辑评价为无聊沉闷,但是有一 张专辑,据算法分析,14首歌里有9首都可能成为热门歌曲,这可是披头士乐队的 水平啊。麦卡克雷迪简直不敢相信。专辑的艺人没什么名气、麦卡克雷迪担心预 测机器是不是错得离谱了。但这张专辑Come Away with Me问世后,销量高达两千 万张,并为歌手诺拉·琼斯斩获八项格莱美大奖。©琼斯的歌在算法的热门歌曲 带里找对了自己的位置。

"有人形容一首热门歌会让大脑发痒,"麦卡克雷迪说,"一遍又一遍地听那首 歌就像是在挠痒。"

热门歌曲带是最能让人发痒的,麦卡克雷迪觉得他的公司已经找到能够鉴别 音乐黄金的公式了。那时候音乐界也在尝试预测哪些歌会红,但是只有20%的正 确率。麦卡克雷迪的工具要是运用得当,会成为音乐界的圣杯。

#### A&R机器说没有听到一首单曲

有公司想要成为下一个Polyphonic。有一个叫Savage Beast的创业公司试图跟 Polyphonic做同样的事,但用的是不同的方法。Savage Beast不用算法来评估新歌, 而是聘请了几百名音乐人来听歌,并根据400种特性进行分类。Savage Beast本打

(1) Malcolm Gladwell, "Annals of Entertainment: What If You Built a Machine to Predict Hit Movies?" New Yorker, October 16, 2006.

算把产品卖给实体音乐商店,比如山姆·古迪、淘儿音乐城、百思买集团。但是MP3共享文件开始泛滥,这个计划便搁浅了。互联网泡沫破灭后,Savage Beast 好几年人不敷出,甚至发不起工资。Φ2005年它改变了策略,更多地依赖算法而非人力来决定人们应该听什么音乐,有了一小笔进账,并换了一个新的名字:Pandora。2011年7月Pandora在纽约证券交易所上市,市值30亿美元。

Pandora跟麦卡克雷迪一样另辟蹊径。麦卡克雷迪的第一个举措是提供一个平台给本·诺瓦克这样的艺人花50美元上传自己的作品,上传者就可以获取Polyphonic的算法对其作品流行潜力的即时评估。唱片公司和星探可以登陆网站查看得分最高的自由艺人。麦卡克雷迪一直在试着解决,或者至少说是改善音乐产业困扰艺人和唱片公司几十年的一些问题。

汤姆·佩蒂1991年出的歌Into the Great Wide Open里有一句著名的歌词,提到了唱片界职能类似于棒球星探的人: A&R人员。唱片公司的A&R(艺人与曲目)员工好比唱片界的把门人,他们能让默默无闻的音乐人发家成名。在流行音乐界,A&R员工的工作靠的是发掘单曲。正如汤姆·佩蒂在歌词里讽刺性地引用的那句陈词滥调所形容的,一个没有主打单曲的艺人是没有多大价值的。

问题是A&R天生就是一个主观的行业。它与棒球不同,对棒球星探而言,球员能打出时速160公里的快球就是最好的标准,考量天才球员无疑可以很方便地用数据说话。然而音乐界,人才随处可见,但不是所有音乐人才都有潜力吸引到大众。有些全世界最有才气的艺人只在自己很小的粉丝圈内有些名气;有些艺人的音乐造诣可能比一个马马虎虎能弹点儿钢琴的8岁孩子都好不到哪儿去,但却能凭着一首朗朗上口的流行歌曲风靡全世界。

① Claire Cain Miller, "How Pandora Slipped Past the Junkyard," New York Times, March 7, 2010.

因此音乐产业很像图书出版业。唱片公司靠的就是50张唱片中的一张来赚钱, 进而赚回所有艺人的签约金。只有靠广撒网的方式,他们才有机会找到公司需要 的热门曲目。A&R挖掘的钻石单曲越多,得到的报酬也越多。那些能源源不断 地挖掘出明星的A&R成为了传奇,那些呼风唤雨的A&R常常一跃成为唱片公司 高管。

A&R一直都在寻找有潜力的艺人,但他们签下的艺人大多来自人际关系网即熟人推荐。音乐产业远没有做到选贤举能,即使其价值标准是能否吸引到少男少女。但如果将A&R的工作发展成一门科学呢?仅30%的正确率都是这个产业历史数据的极大进步。擅长取悦听众的艺人也不必非得等候那封可能永不会来的推荐信或是和A&R人员的某种偶然联系了。麦卡克雷迪认为Polyphonic的算法能够证明这一切。

诺瓦克的成功似乎是Polyphonic事业的巅峰。麦卡克雷迪的工具也曾在魔力红 乐队默默无名的时候预言其很有可能成名。软件肯定不是什么都说得准,它也给 大量从没吸引到大众的歌评过高分。但不可否认的是麦卡克雷迪的创造是有作用 的,它能够塑造音乐产业的未来。

A&R从业人员对这项很有发展前景的科技没什么好感,如果这个工具真像说的那么神,那就会威胁到他们的工作了。很多A&R员工和唱片公司高管对一个机器还能在人的世界有如此地位感到好笑。维京唱片的全球市场营销总监洛林·巴瑞对Polyphonic的工作理念嗤之以鼻。"现代A&R员工————————————————————————————————————

麦卡克雷迪的软件能否让A&R的游戏变成科学尚存争议。但是毫无疑问,音

① Sunday magazine documentary show, TV New Zealand, August 2008, http://tvnz.co.nz/sunday-news/sunday-2338888. Also see YouTube: http://www.youtube.com/watch?v=ilFE2wpYck.

乐产业并不欢迎麦卡克雷迪这些人,这并不是一个乐于革新的行业。"我觉得从创新方面来讲这个产业的现代化仅仅是走在了阿米什人前面。"麦卡克雷迪说。

Polyphonic的商业模式作为一个新的A&R手段为业界使用。这个尝试看来是冒失无礼的,不管Polyphonic有多么神奇的魔力都赚不到钱。A&R人员深深厌恶这种终结他们事业的方法,没有他们的配合,Polyphonic陷入了困境。麦卡克雷迪解雇了员工,思索着下一步该怎么走。他从内布拉斯加的乡下小伙成了钟表大享,后来又成了流行明星,现在作为科技创始人的他该怎么做呢?

在损失很小的情况下,麦卡克雷迪改变了他的模式。2008年他搬去了纽约,改善了和业界的关系,与新的投资人进行了资产重组,把公司更名为Music X-Ray。以前他邀请艺人上传作品到他的网站和数据库,现在A&R员工和制作人也可以在他的网站上发布求贤帖,寻找新的歌曲或艺人。

唱片公司、广告公司、营销人员和音乐监制经常都需要寻找某一类特定的声音,比如一家唱片公司肩负着寻找下一个电台司令(一支来自英国牛津的乐队)的任务,或是一家营销公司觉得滚石乐队的Brown Sugar 当他们的广告背景曲是再合适不过了,但又付不起滚石乐队要求的版权费。如果一家正规大型唱片公司的星探在寻找新艺人,或是一个电影制片人发起了寻找原创作曲或电影主题曲的请求,毋庸置疑会引来无数回应。正如业界人士说的那样,他们非常忙。在漫天飞来的成于上万份申请中——很多是些资质平平或者水平很差的音乐人发来的——费力寻找他们需要的声音,通常不在他们的日程安排之内。这就是为什么绝大部分活儿都交给了已经成名的艺人,寻找新的音乐人实在是太费时了。

这时候麦卡克雷迪的算法就能大显身手了。它能够迅速地判断声音的优劣, 为业内人士找到最符合他们要求的声音。就拿*Brown Sugar*来说吧,算法会仔细搜 查上传作品的数据库,寻找与滚石乐队这首歌表现的唱法、节拍、节奏、风格和 音响效果最像的声音。

A&R人员可以直接登陆Music X-Ray查看不同类型的高分曲目。麦卡克雷迪的 音乐数据库日益壮大、很快就成为全世界音乐人才的百科全书。对于无数像本·诺 瓦克这样的歌手来说,这真是一大鼓舞人心的进步。以前,他们不管多么勤奋, 多么有才华,也会担心自己的作品永远走不出录音室。Music X-Ray的算法将会挖 掘出更多未来的音乐明星, 其实这已经发生了。2010年起, 麦卡克雷迪已经让5000 多名艺人收获了和唱片公司签约、或是与广告商合作的机会。

汤米·博兹就是其中一位,他是一个正在接受治疗的酒鬼,已经63岁了。博 滋在康复中心住了七年,期间写了200首歌,某天他偶然浏览到Music X-Ray的网 站,决定上传些作品。算法发现博兹的歌颇有约翰尼·卡什的风格,又不失原创 特色,为他联系上了一家密歇根州的唱片公司,公司艺人录制了几首博兹的歌。

博滋并不是一个例外,已经有六个孙子的琳恩·弗格森也凭借上传到Music X-Ray的原创作品Tears to Gold吸引到Atrium Music Group的注意。这家唱片公司挑 选了九首弗格森的歌,录制成一张专辑,专辑封面正是弗格森的笑脸。独立乐团 也通过麦卡克雷迪的算法一举成名。唱片公司World Live Music & Distribution在 Music X-Ray网站上发现了多米尼克·戈麦斯, 立刻签下他, 并提供了几十万美元 的录歌经费。电影工作室也参与进来、由斯派克·李担任制片,2011年上映的电影 You're Nobody 'Til Somebody Kills You'n 配乐有三首来自在Music X-Ray发现的艺人。

作为唱片公司和艺人的中间人, Music X-Ray收取一小笔交易费。 麦卡克雷迪 收入渐增,在推出受业界欢迎的算法的同时也摆脱了赤字。到2011年年底,已经 有1500家唱片公司和其他专业音乐买家使用了他的算法。Music X-Ray几乎跟所有 大型唱片公司都建立了合作关系,包括哥伦比亚唱片、时代华纳、格芬唱片和百 代唱片。

"我终于得到唱片公司的青睐了。"麦卡克雷迪说。当然在某一层面上总是人在做决定,但是他认为自己的算法凭借其对流行潜力的灵敏度最终会带来革新,从而决定大众最后会听到谁的歌。

麦卡克雷迪效率奇高的模型为业界吸纳了非常广泛的艺人类型,最终所有唱片公司都会依靠算法来决定签下谁,推广谁的歌,这只是个时间问题。这就跟文字处理器软件刚刚上市时一样,刚开始大多数人坚持用打字机。文字处理器屏幕小,打印输出效果略显古怪,而且把一个人的工作成果全部保存在5英寸的软盘里,而不是看得见摸得着的纸上,这种想法很可怕。只有最先使用的那批人才能无视这些缺点。但后来随着屏幕越来越大,软件越来越好,文字处理器成了唯一明智的选择。音乐的世界也会迎来这一天。

这对音乐来讲会是好事吗? 当然对普通的A&R员工肯定不是什么好事。但对那些默默无闻、没有人脉的艺术家呢? 算法会评出更好的前四十榜单吗? 可能不会。算法可以引进新面孔,但它判断一首歌是基于过去流行的歌曲,我们得到的很可能与这些过时的流行歌曲类型一样,这么多年来,这样的歌曲都会成为算法分析判断的对象,很明显这是该技术的瑕疵。

麦卡克雷迪并不这么想。和任何企业家一样,他希望自己的算法会在未来几十年里成为音乐界的焦点,但他认为算法带给我们的流行歌曲榜类型将会更多样化,而不是越来越单一。有些艺人虽然声音很另类,但因为所唱歌曲内在的节拍、旋律和节奏使其靠近热门歌曲带,所以这样的艺人会被挖掘出来而不是被埋没。麦卡克雷迪还可以帮助音乐监制和艺人通过微调歌曲的节奏和节拍使其更靠近热门歌曲带。可能会有这样一天,车库乐队随便写了首歌,然后赶紧坐到电脑前,看他们的歌在热门歌曲的3D世界里得分如何。在一个创艺领域这么快得到认可可是不常有的事。但这会带来这么一个问题:算法是否会带来一个被迫同化的音乐

世界, 而不是引领多样化的音乐爆炸性地发展呢?

这已经变成现实了, 前四十流行榜单的大部分歌都是由同一队人马操刀的。 马丁・桑德伯格、一位瑞典歌曲作家、业界称他马克思・马丁、他从20世纪90年 代开始为邦乔维、后街男孩和小甜甜布兰妮写过一系列排行榜冠军单曲。2008年 以来,他写了10多首冠军单曲,20多首排行前十的单曲,包括亚瑟小子的DJ Got Us Fallin'in Love和凯蒂·佩里的I Kissed a Girl。© 现在我们知道某些人对写出吸引大 众的歌很拿手,又知道麦卡克雷迪的算法熟悉流行歌曲的一般性特征——那也就 不难推断出流行音乐的世界很快会被机器统治。不管当下大众喜好什么、唱片公 司必定会迎合大众的口味, 但要想持续推出热门歌曲, 算法再适合不过了。

## 巴赫机器

热门歌曲带不仅适用于流行音乐,对于昔日的音乐大师贝多芬、莫扎特、巴 赫和亨德尔的作品,热门歌曲带同样适用。麦卡克雷迪的软件显示某些举世闻名 的交响曲自成一带。莫扎特和贝多芬虽然对麦卡克雷迪的高科技玩意儿或者说算 法一无所知,但也肯定懂得某些特定的音乐形态和旋律对听众更有吸引力。这就 是为什么有些古典名曲听起来如此相似。成功的音乐家会引来其他音乐家的意相 模仿、他们都在追寻同一类声音,以求获得赞誉。既然算法可以决定什么元素能 让音乐流行起来(不管是通俗音乐还是古典音乐),那么有没有可能更进一步,用 · 第法直接创造出悦耳的音乐呢? 有些人信心满满地相信算法谱曲能够和人创作得 一样好,这一理念最忠实的信徒就是加利福尼亚大学圣克鲁斯分校音乐系荣誉教 授大卫・考普。

① Jeff Chu, "Top of the Pops," Time, March 19, 2001.

考普利用算法创作交响曲、歌剧和清唱剧。他创作的音乐,或者说,他的算法创作的音乐好得让一些音乐家感到害怕,也让另一些人不禁思索:人类和机器的创作分界线究竟在哪里?算法在何种情况下会成为艺术家呢?

这个问题自20世纪80年代就一直困扰着考普。他越来越相信算法创作和人类 创作之间不存在一条明显的分水岭,显然有很多人不会接受这个结论。这种混乱 的局面并没有因为考普为其创作音乐的算法取了一个人类名字而有所缓解。他把 他的第一台作曲机器命名为Emmy。

Emmy创作的管弦乐曲令人称奇,连音乐学者也听不出来这是机器的作品。与此同时,考普也招来了一大批反对者,他们不愿公正评价他的作品,有时候还会阻止Emmy的乐曲在演奏会上演出。有一次他参加德国举行的学术会议,一个同行冲过来狠狠一拳打在他的鼻梁上。当他的作品被最高级别的古典音乐家讨论时,经常爆发出一阵又一阵的大吵大闹。他在圣克鲁斯分校的同事称他为"铁皮人",取自《绿野仙踪》里的一个没有感情的角色。Φ

考普的机器把美妙的音符编织成一首首婉转悠扬的曲子,既不乏贝多芬的力量,又有莫扎特的细腻。机器能够创作出如此美妙的乐曲,音乐界的很多人感觉受到了威胁。"如果你一直深爱着那些已经逝世的作曲家,突然有一天冒出个讨厌鬼,宣称他有一款软件也能像那些作曲家一样打动你,你不禁会问自己:'到底发生了什么事'"考普说,"我在破坏着某些根深蒂固的关系。"

Emmy是考普多年潜心研究,不断构建再重建的结品。考普隐居在圣克鲁斯,这是一个悠闲的海滨城市,看起来与起源于科技界的算法革命遥不可及。但事实上圣克鲁斯与世界上算法精英最密集的地方只隔了一条海岸山脉,从硅谷到海岸

① Ryan Blitstein, "Triumph of the Cyborg Composer," *Miller - McCune*, February 22, 2010, http://www.miller-mccune.com/culture/triumph-of-the-cyborg-composer-8507.

沿线的17号公路只有不到50公里的路程。

考普在音乐界受到不少蔑视讽刺,却在计算机科学界得到了接纳和认同。音乐家们看轻考普,讽刺他是个没有感情的科学家,但这位加州教授首先是—位音乐家,他最初的记忆就是躺在巨大的钢琴下凝视着母亲摆弄琴键。Φ

考普还在上小学的时候就迷上了柴可夫斯基、拉赫玛尼诺夫、斯特拉文斯基 等作曲家,12岁的时候沉迷于自己谱曲的念头。他最终来到洛杉矶,进了南加州 大学的研究生院学习作曲。

从南加州大学毕业后,1973年考普在俄亥俄州牛津市的迈阿密大学找到一份临时老师的工作。这份工作让他有时间做自己命中注定要做的事:作曲。他逐渐找到了自己的风格,其作品受到了世界的喜爱。他的原创作品曾在古典音乐最高殿堂演奏,卡内基音乐厅和肯尼迪表演艺术中心都曾举办过他的演奏会。他谱写的乐曲在国际上广为流传,从秘鲁到波兰,很多国家的管弦乐队都演奏过他的曲目。

考普与作曲机器的缘分始于为写一本关于当代音乐的书所做的调研。他本来想用一个章节论述计算机创作的音乐,但发觉自己对计算机作曲知之甚少。所以他选择了一条最艰难的道路,决定亲自用电脑作曲而不是随便采访这方面有经验的人。

考普当然不是利用算法作曲的第一人。公元1025年,阿雷佐的奇诺发明了将文本自动转化成和弦的方法,他设计了一套规则可以将看似毫无意义的输入,比如一团杂乱无章的文字,转化成还听得过去的声音。②17世纪,约瑟夫·海顿,那个为亨德尔的才华而落泪的人,设计了一种游戏叫做Musikalisches Würfelspiel

① Ryan Blitstein, "Triumph of the Cyborg Composer," *Miller - McCune*, February 22, 2010, http://www.miller-mccune.com/culture/triumph-of-the-cyborg-composer-8507.

② Gerhard Nierhaus, Algorithmic Composition: Paradigms of Automated Music Generation (New York: SprinerWienNewYork, 2009), p. 1.

(德语,意为音乐骰子游戏),游戏规则是根据掷出骰子的点数选出乐曲小节组合成曲谱。包括莫扎特在内的很多音乐大师都玩过这个游戏。Φ20世纪50年代,伊利诺伊大学的两名研究员希勒与莱纳德·艾萨克森用当时世界上运行速度最快的巨型计算机ILLIAC创作了《伊利亚克组曲》。

但当考普按照他设想的方式用现代化机器作曲的时候,却发现找不到任何用户手册来指导。所以他忙着学习当时的计算机编程语言Fortran、Pascal和Algo。他用一台有一个房间那么大的IBM主机争分夺秒地编译代码、检查工作。主机会依次吐出布满小孔的穿孔卡,表示考普的工作成果。考普把指示数值的小孔翻译成音高和音符,再用钢琴把曲谱弹出来,听听自己的创作如何。

"我最后弄出来的合唱乐简直糟糕透顶,我都不想说了。"他说。

不管难听好听,这曲子是通过计算机程序作出来的,考普当之无愧成了算法作曲这一年轻学科的权威。他写完了这一章节并完成了他的书。在音乐学术领域,创造一些富有创意又引人人胜的新鲜事物不是一件容易的事,他的书引起了全世界同行的关注。考普接到了各地学府邀请他担任教授的电话,他都一一婉拒了。加州大学圣克鲁斯分校音乐系一直锲而不舍地向他抛出橄榄枝,终于说动他来到加州接受采访,并在1977年成功说服他搬迁到此担任教授。

这位作曲家兼程序员在新的大学安顿下来后,很快全身心地投入了工作,教书、作曲,不断赢得美誉。然而1981年,考普的创作之路遇到阻碍。有一次他受托写一部歌剧,却发现自己作曲的才思枯竭,一连好几个月盯着琴键和一堆白纸发呆。他很想把钱还给歌剧院,但是钱早被他花光了。他有四个儿子要养,薪水又不多。

David Cope, Vitual Music (Cambridge, MA: MIT Press, 2001).

迷茫的考普想到也许计算机能助他一臂之力。所以他开始旁听斯坦福大学和加州大学圣克鲁斯分校的计算机科学课程,长时间呆在图书馆钻研那些他起码要读两遍才能读懂的编程书。在学习达到一定程度的时候,他确信应该用计算机科学最高级的语言之一的Lisp来编程。

"没人告诉我那很难,所以当时我也不知道会有那么难。"考普说。

他抱着复制自己作曲风格的目标着手编程,这样他就能按照客户期望的方式完成歌剧。但他发现这个任务根本就没有明确的目标。他的作曲风格是什么?很难为其编程。所以他决定构建一个程序来模仿一种更为固定的风格:顶级大师约翰·塞巴斯蒂安·巴赫的风格。开展这样的黑客项目一年以后,他编写的程序创作的合唱曲完全胜过他在20世纪70年代用计算机创作的那些音乐,但他回忆说:"还不是很好。"

这位音乐教授从未放弃完善自己的工作。他构建的系统以几百首巴赫创作的合唱曲为样本,"学习"巴赫创作最动人的曲子时使用的音乐模式。这项工作单调烦琐。算法取样的每一小节音乐都需要转化成计算机看得懂的数据单位。在20世纪80年代初期,音乐取样技术还不为大多数人所知。为了将音乐用代码表示出来,考普需要把乐曲里的每一个音符与和弦手工翻译成原始数据。每一个音符都需要五个代码数,分别表示节拍、音高、时长、声道(乐器)和音量或振幅。翻译一首乐曲就需要几周的时间。考普为了得到一组结果,常常得花半年的时间采译数据。

巴赫的才华被解构成计算机上的一行行数字、一页页代码,这真让考普感慨万千。天赋才能真能被简化到如此地步吗?他不禁疑惑。真的能有巴赫算法吗?随着他的作曲算法创作出越来越多的音乐,这个问题的答案也许会让人泄气,又或者能获得极好的肯定,这就要见仁见智了。考普的算法创作的音乐开始呈现出

巴赫作品的特征——模式、旋律、一致的拍子。

但是有些事情不太对。算法创作的音乐听起来还行,和弦转换也是听众所期望的,但这些音乐缺乏活力。尽管它们听起来毫无瑕疵,但却没有巴赫作品常有的生机与活力。考普往算法数据库里添了更多音乐,希望样本曲目的多样化能够让算法带来突破性的创作。他也在代码上狠下工夫,屡次修改,但这一切都无济于事,算法创作的音乐仍然毫无生命力。

看来无法构建一个能达到人类创作水平的程序。考普有几次都到了精神崩溃的边缘。他深信自己陷入了无法克服的绝境,有时一连几个星期都不碰算法,咒骂自己玩完了。但每次都会回到电脑前,一头钻进他曾经辛苦编写的成于上万条 代码中。

有一天他在外面跑差事,突然想到也许问题不在于样本曲目的多少,也不是 出在他为算法设定的作曲规则上——也许问题在于算法太墨守成规了。伟大的作 曲家当然要吸取过去的音乐模式,但他们也正是因为打破常规才变得非凡超群。 巴赫第法从未打破成规,所以从未创作出让人耳目一新或是有吸引力的音乐。考 普再次拾起Lisp,不断编译原来算法中使作品保持了一定模式和结构的循环程序与 随机函数,直到算法能够出人意料地打破原来的节奏,平添一种人类作品才有的 感觉。

这一任务的完成代表算法作曲机器的最后一条DNA链成功搭建。此刻的算法 知道怎样创造节奏、小节、开场曲和片尾曲,能将舒缓轻柔的音符与疾风骤雨般 的巴洛克式终曲糅合在一起。考普设计出了能够真正获取人类(如约翰·塞巴斯 蒂安·巴赫)才华的算法机器。

考普意识到自己七年前开始的工作即将走到某个终点,他把自己的创造命名

为Emmy——"音乐智能实验"(Experiments in Musical Intelligence)的缩略词。 1987年的一天,考普像往常一样启动算法工作,然后离开办公室去吃午饭。等他 回到电脑前,Emmy已经创作了5000首秉承巴赫风格的合唱曲。©

这些巴赫合唱曲的首次演奏是在伊利诺伊大学位于厄巴纳的主校区。演出接近尾声时,听众惊得目瞪口呆。这肯定不会是一台机器的作品!大众对此惊叹不已。在考普圣克鲁斯老家举办的一次音乐节上,许多被他的音乐深深吸引的人慕名而来。和伊利诺伊的人不一样,他们不知道那些曲目是Emmy写的。知道真相后,他们有的大叫,有的抱怨,有的还是再一次地目瞪口呆。

考普仍然没有完成那部最初引领他走上这条路的歌剧。他把自己20世纪70年代的作品引入Emmy,然后算法开始以考普的风格打造一部歌剧。有了算法的帮助,这部歌剧一个星期就写成了——在搁置了六年以后。他上交了作品,两年后这部歌剧在弗吉尼亚州的首府里土满市筹备、彩排并正式演出。那个时候没人知道Emmy在这部歌剧的创作中所起的作用。这部歌剧为考普赢得了他职业生涯里最为激动人心的盛誉。"最富戏剧性的一刻,在扣人心弦的或点声中愈发紧张刺激。"《里土满时讯报》这样评价。②

这些事件的转变开启了一系列新的问题: 谁在真正创作音乐——考普还是Emmy? 这位音乐教授曾经反复纠结于这个问题, 但最终他这样解释, 你不会把挖洞看成是铁铲的功劳, 你会归功于挖掘者。然后他也承认这一争论双方论点都是有道理的。"原创作者是谁很难回答——这个问题从一开始就困扰着我。"他说。

考普在人工智能界举世闻名,受此鼓舞,他想为Emmy求得一份音乐录制合

① David Cope, Vitual Music (Cambridge, MA: MIT Press, 2001).

2) Chris Wilson, "I'll Be Bach," Slate, May 19, 2010.

同。原本应该轻而易举的一件事却万分艰难。古典音乐唱片公司告诉他,他们不录现代音乐。当代音乐唱片公司告诉他,他们不录古典乐。当他终于得到一份录制合同,却发现没有任何一个高水平的艺术家愿意演奏Emmy的曲目,他没有办法只能用Disklavier(一台接受电子指令由计算机控制的数码钢琴)来录制。©

专辑Classical Music Composed by Computer卖得非常好,并为考普赢得了很多工作机会。这张专辑包含了巴赫曲风,仿效了贝多芬、肖邦、拉赫玛尼诺夫、莫扎特和斯特拉文斯基的作品,甚至还仿效了斯科特·乔普林的一首钢琴曲。

这张专辑为考普赢得了当初那些不愿演奏Emmy曲目的音乐家的尊重。很快,有名的古典乐演奏家找到考普,希望能演奏在考普看来Emmy写得最好的曲子。但是这样的要求也带来了问题:考普不知道推荐哪首协奏曲才好,Emmy已经创作了几千首质量差不多的曲子。这着实把音乐家们吓坏了,他们为什么要演奏无数平常曲目中的一支呢?音乐家们要保证他们演奏的是Emmy的最佳作品,但Emmy也许明天能创作出更好的曲目。音乐家们不想演奏这么容易商品化的东西。

这个话题曾经一度使考普面临被音乐界驱逐的危险。他辩称从巴赫到莫扎特 再到贝多芬,所有多产的作曲家都在从事大批量商品经营。考普说,他们的音乐 模式是基于他们一生中听到的音乐发展起来的,巴赫从来都没有创作出全新的音 乐,他只是在前人的基础上不断发展,他的任何创作都是在用相似方式仿效与构 建,并不断重复。考普坚持认为,这种创造力也可以用来准确形容Emmy。古典 音乐大师和批量模式创作音乐的算法旗鼓相当,这样的论断引起了音乐界对考普、 Emmy及其作品的一致反对。

但是考普重新占领了优势地位。1997年, Emmy要在俄勒冈大学与两大劲敌 抗争到底, 此事受到古典音乐界的广泛关注。该校音乐作曲理论教授史蒂夫·拉

D Blitstein, "Triumph of the Cyborg Composer."

尔森发起了这项活动,他是Emmy的反对者之一。几百名听众听了三首钢琴曲、 一首由Emmy作曲,一首由拉尔森作曲,还有一首是巴赫本人的作品。Emmy与拉 尔森都有意使自己的作品听起来像巴赫所作、然后观众就三支曲目分别是谁的作 品进行投票。拉尔森的山目被认为是电脑所作,他的自尊心受到极大打击。而当 大众投票认定Emmy的曲目是已故音乐家真正的作品时,拉尔森气得咬牙切齿。 $^{o}$ 

印第安纳大学认知科学系教授道格拉斯·郝夫斯台特(中文名为侯世达)见 证了拉尔森、Emmy与巴赫之间的较量。他1979年出版的著作《哥德尔、艾舍尔、 巴赫:集异璧之大成》深度剖析了人工智能与音乐创作,荣获普利策奖。

"Emmy使我们不得不审视伟大的艺术作品,思考它们源自哪里,到底有多深 刻。"当时候世达这样说。

在限定条件的学术环境中赢得了一场胜利,Emmy名声大噪、考普也声名鹊 起。随着激请函与美誉漫天涌来,冷嘲热讽也不绝于耳。批评者不断叫嚣一台机 器无法像人那样给音乐注人灵魂。其中一位批评者乔纳森·博格是斯坦福计算机 音乐和声学研究中心的作曲家兼研究员,他说Emmy知道怎样排列音符,但它不 能像人类作曲家那样赋予音乐本质与内涵。"考普所说的特征和我所说的风格之间 有很大的差距。"博格说。◎

丹尼尔·丹尼特是塔夫斯大学的哲学家与认知科学家,他虽然欣赏Emmy这 一杰作,但却认为一台机器没有任何竞争力。他说:"虽然考普的创造非常奇妙, 但还是流于浅薄。" 因而也就不知如何用音乐表达真实情感。

① George Johnson, "Undiscovered Bach? No, a Computer Wrote It," New York Times, November 11, 1997.

②同上。

③ 同上。

④ 同止。

很多人对Emmy的蔑视让考普感到很郁闷,他觉得人们听到的是他们想听的东西。考普发现如果人们知道自己听的音乐是一套计算机算法所作的,就不会被音乐感染。听者会说这曲子写得还不错,就是缺少了某种难以捉摸的灵气。但如果考普演奏同样的曲目,却不告诉听众它来自于一台个人电脑的处理器芯片,听众通常会沉醉在这样的乐曲中,事后谈论自己如何被这音乐深深打动。

潜意识偏见的力量在很多著作中都有记载,与这样的人之常情抗争着实让考普很恼火。他觉得更糟的是人们开始视Emmy为某种展览品,就像车展上的概念车,每个参展的人都清楚那只是摆设而已。但是考普的概念不是一个遥不可及的梦想,它改变了考普对于音乐与创造力的看法。考普说,像Emmy这样的算法是音乐界的未来。他解释说,人类作曲家会一如既往地存在,但是会进步到学着使用每一种可用的工具——包括算法。

考普虽然成了人工智能界的超级巨星——他走遍全世界,在很多计算机科学国际会议上发言——但他还是痛惜Emmy得不到音乐界的接纳。尽管他在过去20年里自学编程,成了出类拔萃的计算机科学家,但他首先还是一名音乐家。

这位音乐系教授并非想要推陈出新。他厌倦了人们问他Emmy能否完成舒伯特未完成的第八交响乐或马勒的第十交响曲——或是能否演奏出肖邦的歌剧(肖邦生前从未写过歌剧)。"我逐渐觉察出人们只是把我当做一名程序员——一个下载文件、搭建数据库的人,而不是参与创作的人。"考普说。

他同样也担心现实中Emmy的永生会影响人们的看法。"人类作曲家终有一死。"他说。他们作品的趣味与意义存在于其稀有性。但是Emmy的作品永远也不会变得稀有,它能够不停地作曲,创作出海量曲目,以至于"我们都能够淹没在这些曲目里了"。

2004年,考普自愿销毁了Emmy。他清空了算法的数据库,里面的数据都是他辛辛苦苦于工输入的。Emmy再也不能创作一系列模仿巴赫的钢琴曲或是贝多芬的交响曲了。考普保留了原始代码用作教学,因为这确实被证明是算法创造力的一大进步。但是摧毁了输入Emmy中的数据,这些数据能让它成功地模仿人类作曲,他终结了这项实验,也让批评他的人无话可说。曾经非常接近人类音乐世界的算法音乐被噤声了。

后来证实这只是一段短暂的沉寂。

考普的真实目的是要避开聚光灯和他的批评者。他销毁Emmy时已经悄悄开始了第二个算法项目,他称这个新的创造为Emily Howell。这套算法简直就是Emmy的产物,它比Emmy更加先进。Howell依靠同样的逻辑、窍门和方式运行。如果把Emmy比作Apple IIe,那么Howell就是MacBook Pro。一次在圣克鲁斯举行的Howell的音乐演奏会上,听众听得如痴如醉,没有意识到这些音乐是一台计算机创作的。和考普很熟的一位教授说这些乐曲是他一生中听到的最感人的曲子。几个月后,考普的这位同事出席了考普关于Emily Howell的一次讲座,立马贬损其音乐毫无灵魂。

不论有没有灵魂,Emily Howell创作了八部歌剧,还有少量的钢琴协奏曲。 Howell的第一张专辑From Darkness, Light,有人尊为绝妙佳作,也有人斥其歌不成调、流于浅薄。考普不想Howell落得跟Emmy一样的结局——创作的乐曲太多,得到的尊敬太少。2011年,他在Howell创作了第二张专辑后,结束了它短暂的作曲生涯。

考普这30年来不断刷新算法的极限,他还不打算停下来,他正在筹备发明一种更有活力的作曲机器人。这是他最后一部也是最先进的一部作曲机器了,他正 着手写一本名为The Transcendent Machine(《卓越的机器》)的书来记录这部机器。

考普为他的新女神取名为Annie, Annie不像Emmy和Howell那样作曲时必须遵循考普设定的一套规则,它可以利用所谓的机器学习能力来编写自己的规则。机器学习算法有很多种,考普的Annie站在了这项科技的前沿。简单一点的机器学习程序会被告知期望结果,然后学习达到预期的最佳方法。科学家们用这类程序从海量数据里提炼出非直观的关系。算法吸收数据越多,就变得越聪明。新西兰的智能研发团队开发的用来推荐菜肴搭配的Winestein就是这样的例子,Winestein通过扫描成于上万份全球顶级酒店和侍酒师的饮食搭配菜单来提高自己的技能,它吸收的数据越多,推荐的菜单也就越精妙细致。

然而Annie所做的事比Winestein更进一步, Annie学习如何学习。她识别偏差, 辨明标准, 最终用自己的方式来写和声, 从而创作出疯狂的音乐。

"真正有趣的地方是有时我完全想不到它要做什么,"考普解释道,"她带给我的惊喜不亚于任何人。"考普把Annie的算法扩展到了音乐以外的领域。任何领域,只要有大量可归类取样的历史数据,都可成为算法的工作对象。2011年考普出版了一本书Comes the Fiery Night。此书包含2000首俳句,其中有一部分是Annie写的,其余的是日本大师的经典之作。俳句传统上以三句十七音为一首,首句五音,次句七音,宋句五音。短长短的节奏用英语念来悦耳动听,但用日语念更是彰显力量。日语的俳句一定要写得言简意深,因为通常英语的十七音所表达的东西远超过日语。

这本书并未标明哪些诗是谁作的,考普也未提到有多大比例的诗出自他的算法。他说:"我已经明白凡事向人们说得太清楚没什么好处。"

这里有三首俳句,至少一首是诗人写的,一首是Annie写的(考普不肯告诉我这三首诗分别是谁写的)。

Cannot the fervor 那炽热感情

Over the river's ending 萦绕在江河尽头

Be postponed to now? 此生可寻吗?

Water snakes writhe, 水蛇翻腾着

Water splashes in their wake, 甩尾飞溅起浪花

A frog heads for home 青蛙归家去

The fire crackles loud 火光噼啪响

In the morning air as I 我迎着晨风徐徐

Wander on the path© 漫步在路上

哪首俳句是人写的,哪首又是源自于算法呢?从几个世纪的俳句诗中取样、设计规则、识别模式、加强原创性,Annie创作日本短诗的方式和考普的所有算法创作古典乐的方式一模一样。"到最后,不过是一遍一遍地进行二进位算术。"考普说。

据考普称,Annie对于品味和原创性的强烈偏好能使它比绝大多数人类作曲家 更出色,人类不过是依据前人作品来创作,而前人作品也是建立在历史更久远的 作品上。考普说这话时面无表情,但他始终对音乐精英对待Emmy的态度耿耿于 怀。他是不会承认的,但看得出来,他已经准备好战斗了。

争论双方都有自己切实的理由。某些搞音乐的人无法忍受史上最伟大的音乐 可以通过模式识别、制定规则并在可控的范围内打破常规的方式来解构。艺术家 们倾向于认为工作性质决定人的类别,他们认为是创造力让自己区别于格子间的

① D.H.Cope, Comes the Fiery Night: 2,000 Haiku by Man and Machine (Santa Cruz, CA: CreateSpace, 2011).

员工、沿街的推销员、处理电子表格的MBA等所有平庸大众。考普认为这种给人优越感的技艺可以被简化为长而高效的公式,而不是什么先天获得、后天精心培养的天赋异禀。这个用自己的创造力改变了我们对人工智能的看法的人,也在不经意间破坏了数以万计甚至百万计的人在创造力游戏中的利益。如果一个作曲家的社会职能可以被算法取代,那人类还能留下什么呢?

随着计算机程序进入音乐创作产业,业界的大门也将为破坏者打开。科技通常是破坏之源,由算法创作的歌曲撵起来的流行歌曲排行榜很可能饱受那些创作出真正与众不同的作品的独立艺术家的诟病。根植于过去的算法能像涅槃乐队那样带给我们开启了新的音乐流派和乐队的第二张专辑Nevermind吗?或是Andre 3000创作的流浪者合唱团的Hey Ya? 2003年发行的这首歌和绝大多数人听过的歌曲大不相同;很难想象利用过去的流行歌曲来作曲的算法能够创作出这样的作品,那几乎是不可能的。人们现在对Hey Ya习以为常是因为已经听过上千遍了,虽然这首歌与市面上的其他歌曲比起来非常另类——这一特点通常使音乐丧失广为流传的资格——但仍然能够在长达半年时间里被美国广播电台反复播放。不管是独立艺术家还是嚼口香糖吹泡泡的青少年,几乎所有人都喜欢这首歌。这种曲调需要由人来创作。考普或许正朝这个方向努力改进他的算法,但离目标还很遥远。这也就是为什么即便算法统治了电视广播,人类艺术家仍然还有奋斗的空间,尽管空间变小了。

"机器在二进制数学上运行,人类却不是,"考普说,"试图用二进制数学复制的人脑与用细胞和DNA构建的人脑全然不同。有些算法非常奇妙,但人脑也许永远也做不到。"

不管怎样,创作短歌、热门流行曲、背景音乐和缺乏创意的电影配乐的艺术 家们可得小心了。

# 解开披头士乐队之谜

正如算法决定着我们将来会听到什么音乐,它也会告诉我们过去听的是什么样的音乐。有些算法探索巴赫和他同时代的人的相似点,寻找谁激发了谁的灵感。 巴洛克时期佚名曲子的原作者说不定就是某位伟大的艺术家,有些算法正在寻找这样的线索。一位加拿大教授开发的一套算法引起了世界上最多的死忠粉丝群——被头十狂的躁动。

几乎所有人都或多或少喜欢披头士乐队(又称甲壳虫乐队)。如果I Want to Hold Your Hand不能让你沉醉其中,披头士还有其他各类强劲曲目。从触动灵魂的 While My Guitar Gently Weeps到充满诗意的Let It Be,披头士以其原创作品闻名于世。他们创作范围之广引人注目,仅用七年就完成的丰富的曲目单也展现了他们神奇的创造力。

披头士乐队成员和他们生活的方方面面都被人研究,从他们唱的每句歌词的意义,到他们使用的乐器,再到他们约会的女人。他们的音乐发展得如此之快,唯一合理的解释就是他们是天才。披头士忠实的信徒毫不吝啬溢美之词。但杰森·布朗可不是一般的披头士粉丝。他是数学博士,能用吉他弹出还听得人耳的乔治·哈里森(披头士乐队成员)的乐曲片段。更重要的是,布朗能将音乐的方方面面与背后的数学原理联系起来,他的专业论述在全世界范围内被广泛引用。他也相信披头士乐队成员(特别是约翰和保罗)都是数学天才。

"他们要是走上了数学这条路,肯定是50年难得一遇的天才,"布朗说,"他们属于那种能够解决所有无人能解的数学证明的人。他们生在世界上同一个地方,然后又如此巧合地相遇了——这种几率简直太神奇了。"

布朗凭借着自己的数学和编程背景,开始思考几十年来围绕披头士的文化遗产所产生的一系列著名疑问,这些疑问以一种独特的声音开始: A Hard Day's Night 的开场和弦。

A Hard Day's Night的起始和弦或许是摇滚史上录制的认知度最高的和弦弹奏。虽然它仅持续了一秒多,但即便是漫不经心的广播听众也知道接下来会发生什么。它是披头士创作的最难以磨灭的声音之一。长期担任披头士音乐制作人的乔治·马丁承认了此和弦的效果和重要性。"这会是这部电影和电影原声大碟的开场和弦,所以我们想要一种特别强有力的、令人印象深刻的开场,"他说,"尖锐刺耳的吉他和弦打响了完美的一炮。"  $^{\circ}$ 

但是任何出色的吉他手都会告诉你,不可能还原开场和弦。乐谱上印出来的 也全都错了,因为没有人知道乔治的主音和弦是怎样弹奏出来的,不同的乐曲书 为这首歌的开场一枪列举了不同的和弦和音符,但它们全都错了。40年后,终于 有一位数学家用电脑和算法解开了这个谜团,告诉我们这段声音是如何发出的。

诚然,有很多理论谈到了这个特殊和弦是如何创造的,其中有不少把它归功于哈里森在1964年披头士首次在美国巡演时得到的一把12弦吉他Rickenbacker。© 但这把吉他并不能说明问题的全部。很多摇滚迷说他们听出和弦声里有钢琴声,还有人说听到了约翰的6弦吉他声,甚至还有保罗的贝斯低音。

哈里森2001年去世前接受雅虎聊天室的访谈时提供了一半的答案。

a\_t\_m98:哈里森先生……请问在A Hard Day's Night中,你用的是什么开场和弦呢?

① Walter Everett, *The Beatles as Musicians: The Quarry Men through* Rubber Soul (Oxford: Oxford University Press, 2001), p. 77.

2) Steven D. Stark, Meet the Beatles (New York: HarperCollins, 2006).

乔治·哈里森: 那是F调还有最上面的G调(12弦吉他上的)。

乔治·哈里森: 但是你得问保罗他弹奏的贝斯音符才能全盘通晓。◎

大多数歌迷都没法接触到保罗·麦卡特尼,所以这个谜团仍然未解。

布朗从小生长在多伦多附近,在11岁那年得到了披头士的Red、Blue专辑,这 两张专辑发布于乐队解散之后,收录了乐队原来发行的很多热门单曲、布朗从此 成了一位披头士狂。他受到披头士歌曲的影响,很快就缠着父母给自己买了一把 吉他。他不停地练习,1972年的夏天每天都要弹8~10个小时。布朗本想主修音乐, 却因职业发展的考虑最终选择了数学、但他整个大学期间都在酒吧驻唱。多年以 后,身为达尔豪斯大学(位于加拿大新斯科舍省哈利法克斯市)数学教授的布朗 利用傅里叶变换构建的算法解决了披头士和弦之谜。

1807年、约瑟夫・傅里叶发表了他的热传导方程、它描述的是已经被加热的 金属板的温度如何随时间变化。周期函数的傅里叶变换是基于欧拉和丹尼尔·伯 努利的一些研究成果发展而来的一系列三角级数,现称为傅里叶级数。这一方法 已被证明可以应用于众多领域。

费舍尔·布莱克和迈伦·斯科尔斯也是受益于傅里叶方法的人,他们用热传 导方程的变体构建的算法重建了华尔街的规则,并为斯科尔斯赢得了诺贝尔奖。 更早些时候的诺贝尔奖于1985年颁发给了凭借傅里叶方法利用X射线直接测定晶 体结构的赫伯特・亚伦・豪普特曼和杰尔姆・卡尔。

傅里叶方法被证实也可用于解码音乐。20世纪90年代中期,布朗无意间在一

Teorge Harrison Webchat, "http://www.georgeharrison.com/#/features/george-harrison-webchat."

② Geoffrey Poitras, Risk Management, Speculation and Derivative Securities (New York; Academic Press. 2002), p. 454.

③ Rajendra Bhatia, Fourier Series (New York; Mathematical Association of America, 2005), p. 11.

本数学学刊上看到这一实例,他对此非常感兴趣,下意识地记住了这个小点子。

2004年,全世界共庆披头士音乐40周年。沉浸于亢奋盛典的布朗不禁开始思考A Hard Day's Night的开场谜团。他一直没有忘记10年前在那篇期刊论文上看到的学术珍闻。

与其几个小时抱着吉他沉浸在还原和弦声的幻想中,布朗想,为什么不用科学解决这个难题呢?

要理解布朗试图做的事,就得初步掌握音乐和声音背后的科学原理。所有声音,比如我们听的乐队创作的歌曲,都是以音调为构成要素。音乐的音调都有一个频率和振幅。音调的频率与音高有关,振幅与音量有关。音调组合起来就构成了和弦。要想得到一个和弦的数学函数,只需对其内在音调的函数求和。© 音调的频率与音量可用正余弦函数实现数学建模,这正是傅里叶变换所使用的方法。©

录制乐器的演奏时,录进的音不仅包括乐器的纯音调,还有所有乐器都会在发声后发出的小音量余音,更别提当时反射到录音简的任何噪声了。布朗利用傅里叶变换的算法分析和弦,他想这样就能分别辨识出构成和弦的每一种乐器发出的音调。这就能为这个40年的谜团提供一个无可辩驳的答案。

布朗首先把他能找到的杂音最少的歌曲样本传入电脑,然后从大概维持了1 秒的开场和弦中间剪切了一段声音。这短暂急促的谐音包含了他所要知道的所有信息。他将这段谐音输入专门为解码音乐构建的傅里叶变换算法中运行,和弦被分解为不同的声音频率。唯一的问题是,经过分析和弦录音有29 375个不同的音频。这些频率涵盖了乐器演奏的真实音符、背景噪声,还有这些英国音乐家们无

D Jason Brown, "Mathematics, Physics and A Hard Day's Night," Canadian Mathematical Society Notes, October 2004.

2 J.S. Rigden, Physics and the Sound of Music (New York: John Wiley & Sons, 1977), p. 71.

意间发出的音频。

为了瞄准正确目标,布朗在这成千上万的音频中筛洗出音量大干.02的音频。 这样一来就把挑选出来的音频数减少到48个。这当中会有披头十击打乐器时发出 的音频。布朗又构建了第二个算法,把音频转化为披头士乐队弹奏的音符。 在做数学转换的时候假定披头上的乐器音调精准。但结果却表明,乐队对乐器调 音并没有严格的要求——这对他们的音乐或歌曲并没有太大影响(毕竟听众在听 歌时也不会在意那么多)。

布朗开始分析手上的48个音符。他得到的第一个论断便是这段和弦最为有名 的3种和弦谱都是馈的。每一种解读版本都有G2低音符(2是八度音阶), 但是在 布朗得到的数据里并没有G2音符。披头上根本没弹奏这种音符。所以甚至在解决 整个问题之前,他就否定了三大最流行的答案。

有一个音符D3弹出的声音几乎比其他任何音符都高出一倍。布朗曾一度认为 哈里森用到他的12弦吉他,因为在这首歌后面确切无误可以听到12弦吉他声。但 是吉他琴弦大小一致,发出的音符音量也大致相同,也就是说不可能弹出超音量 的D3音符。同样的原因,这音符也不会是列侬的吉他弹出的,只能是麦卡特尼的 冰你贝斯发出的声音。

但是布朗得到的数据里一共有四个D3音符, 所以还有三个(音量稍小一点的) 没找到发声源。即便有一个来自哈里森的12弦吉他、另外一个来自列侬的6弦吉 他,也仍然还有一个多余的D3音符。恼人的是D3音符上还飘荡着三个F3音符。如 果哈里森用12弦音他弹出了其中一个,那他的吉他也会产生F4音符——但是根本 没有任何F4音符的痕迹。

① 布朗推测一个音符的频率为220 Hz。他的数学转换公式看上去像这样: f(x) = 12 log2(x/220)。

布朗看着他的统计数据,突然想到这3组音符都是钢琴发出的,而非吉他。任何看了大钢琴内部构造的人都知道,钢琴靠的是琴键拉动弦槌敲击琴弦来发声。实际上,3根琴弦发出的是高音符(2根发出中音符,1根发出低音符)。这是一个高音符,所以钢琴琴弦可以解释为什么同一音符会以三种音量一组的方式出现,以及为什么没有F4音符。布朗现在知道了弹奏开场和弦的人还有乔治·马丁,乐队使用主乐器的同时马丁用钢琴伴奏,他以此种方式参与了披头士在那个时代的很多歌曲。

布朗的算法分析出哈里森用Rickenbacker弹出来的真正音符: A2、A3、D3、D4、G3、G4、C4、C4。这一音符组合与世界上任何乐谱书上给出的和弦谱大相径庭,我们现在知道书上对于如何弹奏出这最经典的和弦的指导都是错误的。列依在他的6弦音他上弹奏了高音量的C5音符,马丁则在钢琴上弹奏了D3、F3、D5、G5、E6。

有了这一背景知识,哈里森在2001年网上聊天时的评论也就更容易理解了: "那是F调还有最上面的G调(12弦吉他上的)……但是你得问保罗他弹奏的贝斯音符才能全盘通晓。"

那的确是F调音符上面还有G调音符。正如哈里森在屏幕上打出的答案,12弦 吉他弹奏了G调音符。正如哈里森希望的,大多数人想当然地以为吉他也弹奏了F调音符。但是F调音符实际上是马丁的斯坦威钢琴弹出的,而保罗弹的则是另一个全然不同的音符。布朗说,马丁在混音时,把钢琴声的音量调到和吉他声的音量一致,这样就把钢琴声隐藏在更尖锐的吉他声里了。

1979年,马丁回想起和披头士在一起的年月,提及电影制片人对影片进行过 特效处理。"不能指望镜头中的人真的在做他在录像里看起来在做的事。"他这样写道。 $^{0}$ 

① George Martin, All You Need Is Ears (New York: St. Martin's Press, 1979), p. 77.

对布朗教授来说,解析"一夜狂欢"的开场和弦还并不算完。乔治·哈里森 在这首歌里用吉他弹出了堪称完美绝妙的跳音独奏,对布朗来说有点完美得不可 思议了。哈里森怎么能弹得如此之快呢? 布朗一直觉得吉他独奏有可能是以半速 录制的, 然后在最终混音时加快了速度。这只是他的直觉, 没有证据证明他的假 设是正确的。

一些披头十专家向布朗保证,如果磁带用了变速技术,马丁和乐队是会在曲 目单上标注的。然而歌单上并没有这样的标注。其他人坚持认为,如果独奏以半 速录制,会有据可查,是众人皆知的。但是在破解了开场和弦之谜的鼓舞下,布 朗坚持着自己的研究。

众所周知, 那段吉他独奏实际上是哈里森用12弦吉他和马丁用钢琴模仿哈里 森同时弹奏的。如果原本真是以半速录制的、那么他们弹奏的时候应该要降一个 八度,因为把磁带音速提髙一倍会使音乐升髙一个八度。

因为有钢琴的参与。布朗有个方法可以一试。他取样一小段独奏、输入算法 运行。他选取的这一小段独奏包含一个哈里森的吉他和马丁的钢琴都弹奏的G3音 符。布朗检查录音里表现出来的频率时,发现G3音符的确有三个音频。其中一个 是哈里森的12弦音他弹奏出来的,另外两个来自钢琴。这就有意外收获了。如果 这段独奏是以全速弹奏的,那么钢琴应该弹出来三种音频的G3音符。

前面提到过,钢琴的高音符有三根琴弦、弹中音符时弦槌只需击两根琴弦。 如果这段曲子是以合适的八度全速弹奏的,那么马丁应该击打三根弦弹奏G调才 对。然而如果在钢琴上降一个八度,则只会产生两根弦发声的G音符。这就是答 案了——布朗无可辩驳地证明了录音带的速度的确是提高了一倍。

后来布朗回放了英国广播公司1964年播出的一档叫做Top Gear的节目,那是

披头士"一夜狂欢"录音室录制完成三个月后的现场表演。布朗很早以前就注意 到节目里有一处不太一致的地方,现在看来也好理解了。就在乔治独奏之前,视 频在明显的胶接处有短暂的停顿。布朗说,原因就是哈里森那个时候还不能以常 速表演独奏,所以这档节目在那一部分用了配音。

布朗迅速地指出,处理过的作品丝毫没有贬低哈里森的能力。实际上哈里森在BBC这档节目播出后几个星期就已经掌握了全速独奏。布朗在一篇数学期刊上写道:"哈里森知道很快他将登台演出,在全世界的注视下全速表演吉他独奏,他还是有胆量以半速录制如此高难度快节奏的独奏,这是他的荣耀(也令披头士迷很高兴)。"◆

布朗现在着手解决另外一个披头士之谜,这涉及比较敏感的领域。开场和弦之谜是披头士成员和马丁津津乐道的,在某种程度上也是公开承认的。很多狂热的披头士迷都知道麦卡特尼和列侬都曾经宣称In My Life大部分是自己写的。这首歌是公认的披头士最好的作品之一,包括英国著名音乐杂志Mojo在内的某些杂志也评价这是史上最伟大的歌曲之一。这首曲子一直是列侬和麦卡特尼为数不多的存在争议的一首曲子,考虑到这两人曾合作创作了那么多作品,这件事的确不同寻常。

为了查明谁更有可能创作了这首歌曲,布朗用算法工具分析了麦卡特尼和列 依单独创作的歌曲。基于输入的歌曲,算法分别构建了两位作曲家风格特征的基 本结构。

布朗做这项工作时用到了图论,正如欧拉在七桥难题里提到的,图论的图由 线和点构成。布朗输入指令到算法,把重复副歌定义为点,之间的主歌定义为线。

① Jason Brown, "Unraveling a Well Woven Solo," http://www.jasonibrown.com/pdfs/AHDNSoloJIB.pdf.

笔者写作本书时,据布朗称他还没有把In My Life输入进算法,等哪天他把这 首歌输入算法后,再将它的结构与两位创作者的风格进行比对,就能得出结论了。 但是从这个项目耗费的时间来判断,也许布朗只是不愿意侵入两位披头士成员的 争议领域,况且其中一位尚还健在。

# 第4章》

# 计算机的秘密高速公路

**全** 法的价值全部体现在它的速度上。如果算法不能在微秒或毫秒级内完成复杂任务,也就不会成为革新的力量了。速度在很大程度上由一件事决定:计算机硬件。

华尔街的算法之战愈演愈烈,算法的影响越来越多地深入到未来世界的各个领域,如果不是过去几十年计算机硬件飞速发展,这些都不可能发生。我们日常生活中接触到的算法是由组成网站的神奇代码和电信基础设施实现的。能够预测你可能喜欢看什么电影的算法(就像Netflix用的算法)之所以目的明确,是因为它正确、快速地衡量了成千上万个输入因素,并反馈给你分析结果。如果算法不能即时完成这一过程,也就不能成为一个有效工具了。

算法能够让我们每天完成更多的任务。在算法化的计算机世界里, 用最少的时间完成最多的任务称为消除延迟。华尔街就是消除延迟的尖端领域, 在此上演的算法之战就是在比谁能最快完成同样的任务。

20世纪90年代,华尔街到处都是黑客人才,越来越多的机构运用了相似的策 略和相似的算法。既然在战术和代码上不能做到与众不同,交易机构就在硬件设 备、交易电脑和通信线路上精益求精,追求卓越。如果不能在智慧上胜对手一簿。 那不妨在装备上压制住对手。这就是为什么2010年有两个人建造了横跨大半个美 国的地下秘密线路。

## 交易大过天

这个不可思议的故事始于2008年,美国一家对冲基金公司请丹尼尔·斯皮维 开发一种算法交易策略, 搜索芝加哥股指期货与其纽约标的股票证券的微小价格 差。如果芝加哥交易市场的期货价格高于纽约交易市场其所有标的股票,交易策 略就是卖出芝加哥交易市场的期货,买进纽约交易市场的股票。如果两个市场价 格有所调整(价格总是在不断调整变化), 斯皮维设计的程序就会平掉头寸, 锁定 利润。

斯皮维的策略和托马斯·彼得菲的跨市场同类股指期货套利策略没什么不 同——只是斯皮维的交易速度要快得多。算法交易不断发展,人们对任何低风险 套利交易机会都趋之若鹜,这就是此交易策略对谏度有要求的原因。如果交易员 或对冲基金公司能够抢得交易先机,就很容易赚钱。那些即便是落后了1毫秒的人 都分不到一杯羹。

斯皮维为对冲基金公司构建的算法要能正常执行、需要利用芝加哥与纽约之 间最快的光纤传输网络。这两大交易市场之间瞬间就会传送上百万个交易信息, 斯皮维的交易信号需要快人一步抢先送达。但不论是斯皮维还是对冲基金公司都 无法获取光纤网的带宽,它已经满载了,而且很少有空闲。

斯皮维可用的传输方式是亮光纤。亮光纤就是使用诸如通信公司等其他机构 所拥有并经营的光纤电缆。亮光纤以光速传播信息,但由于通信公司必须全方位 满足各类客户的需求,信息传输所占带宽小,经常出现传输堵塞或延迟。但斯皮 维需要的是暗光纤,暗光纤是指买方或租赁方全权占有光缆带宽。暗光纤之所以 称为暗,是因为它本质上就是原始态,不管谁控制光缆,从头到尾都要自己发射 激光(费用超过500万美元)点亮线路,传输数据。使用暗光纤传输数据不用与任 何人抢占带宽;不管光缆铺设到哪里,数据都以光速呼啸前进。暗光纤是人类所 知的最快的传输工具。

如果没有暗光纤,他和他的对冲基金公司客户就不能与使用相似交易策略的 投资公司和交易员抗衡了,他们的策略以及策略背后的代码(不管写得多漂亮) 也就没什么用了。斯皮维在寻找可用的暗光纤时,不止一次地自言自语或跟其他 人絮叨:"我们只要自己建一条新的传输线就是了——没那么难的。"

所以他想:"我为什么不自己干呢?"然而更多棘手的问题来了。线路怎么走呢?怎样才能获得土地所有者的允许?谁愿意租地给他铺线呢?这样的项目开销多大?谁会为这项目买单?斯皮维对此知之甚少。所以他一头钻进了通信学、土地权和高速电路的晦涩难懂的世界。

斯皮维是土生土长的密西西比人,他在芝加哥期权交易所创立了首家远程交易机构。他的程序用于交易标准普尔500指数期权——世界上交易量最大的证券之一。斯皮维是算法交易的老手了,他数月来一直在想怎样更好地利用光纤传输数据。他很快就开始心算光的折射率及其对光速的影响。光在光纤内并非直线传播,而是曲线行进,从一个墙面反弹到另一个墙面。折射率体现了光在某一特殊玻璃纤维内传播速度的快慢。斯皮维是无师自通的数学专家,他经常在笔记本上写写画画,点评别计算出来的数据。

他实地考察了自己想象中的线路途经之地。他联系上愿意租赁土地使用权给 他修管道用的铁路公司,跟负责公路管理的县政府机构商谈,咨询了农民、私有 土地所有者、高尔夫球场负责人及环境专家。他了解得越多就越相信。在芝加哥 和纽约之间建立一个全新的私有的暗光纤管道是可行的。

最重要的是斯皮维设计的线路比两城之间现存的通信线路更短。现存的线路 处处利用铁路通行权。电信公司喜欢这种路线, 因为这样他们连通芝加哥和纽约 只需同一两个企业打交道就行了。但大型铁轨通道要向南绕道宾夕法尼亚州和新 泽西州。斯皮维规划的路径从芝加哥出发经过密歇根湖南端,然后一路直达纽约。

文比现存最短的光纤线路往返距离少160千米。然而光在光纤内行进此段距离 只需不到4毫秒——不到1秒的4%。"这几乎是自动化交易的天堂,"伊利诺伊理工 大学的教授本·范·弗列特说,"这就好比捡地上的金币——动作最快的人才能得 到金币。"

斯皮维知道自己的项目一定有吸引力。如果线路有可能建成、彼得菲、Getco、 Tradebot和英菲尼此类超级算法交易商,还有高盛、瑞士信贷和摩根斯坦利等银行 机构肯定不惜重金参与进来。

斯皮维用制图软件标识了芝加哥和纽约之间的近似于直线的州级和县级公 路。他规划的最西边的线路也跟现存的光纤线路一样沿着铁路线铺设,因为最西 段的铁路线与他设计的路线笔直平行,这样能省点钱。沿着这样平缓的地势修建 光纤电缆耗费大约是每千米15.6万美元。但是沿着宾夕法尼亚的山区公路和新泽西 的丘陵地带铺设地下管道就是将近三四倍的开销了。这项工程耗资至少两亿美元。

斯皮维需要有钱有势又愿意承扣风险的人与自己一起运作这个投资项目。他 首先想到的人是他的密西西比老乡詹姆士・巴士德。詹姆士・巴士德有着辉煌的 履历,他20世纪80年代任联邦快递首席运营官,也出任过AT&T无线的首席执行官,并帮助公司发展成为美国移动运营商老大,而后他被网景任命为首席执行官, 网景是硅谷有史以来孕育的最传奇的一家公司。

网景20世纪90年代诞生于伊利诺伊大学厄巴纳—香槟分校,以马克·安德森为首的学生开发了首个人气爆棚的网络浏览器,当时被称为Mosaic, Mosaic的出现引领了因特网的时代。现代浏览器至今还在用安德森和他的团队当年在学校开发的很多代码。虽然是安德森编写代码,启动了这场革命,并在24岁那年就成为《时代周刊》的封面人物,但在1998年网景被美国在线以42亿美元收购之前,是巴士德把网景打造成了互联网热潮中最热门的公司。

互联网泡沫破灭后,巴士德回到他的老家密西西比州的杰克逊,基本上算是 正式退休了。但斯皮维猜想,也许巴士德愿为这稀奇古怪的念头冒一次险呢。斯 皮维利用自己的关系得到了与巴士德会面的机会,巴士德听了他的计划,脑袋一 片空白。

"开始我说'得了吧,别跟我开玩笑了'。"巴士德回忆道,他顾虑的是怎样才能将电缆通过山区时所用的成本控制在合理范围之内。深思熟虑后,他意识到: "如果不是困难重重,早就有人做了。"

巴士德同意担任此项目的首席融资人,他承担了巨大的风险,项目要秘密进行,很难提前签订施工合同。更让他烦躁不安的是,这个项目要完全保密。他没法与自己认识的很多通信界人士进行探讨,征询他们的意见。如果工程太早曝光,某些人,哪怕是单枪匹马的交易公司都可能试着构建自己的线路,斯皮维和巴士德独家享受的速度优势也就不复存在了。尽管风险重重,巴士德还是决定加入。他的儿子大卫,一位企业并购律师,成了首席执行官,斯皮维担任董事长。暗光纤运营商Spread Networks诞生了。

斯皮维和大卫即刻踏上旅程,争得他们笔直的通信线路所要钻过的每一寸十 地的使用权。"这可真不是件容易的事儿,有些人根本不愿在俄亥俄州乡村地区铺 设光纤。"斯皮维说。他得向县政府机构官员(某些人仍然通过美国在线拨入因特 网)非常详细地解释为什么要在土地下面铺设线路。有人怀疑慕后老板县华尔街 的人、有人怀疑是跟斯皮维没什么关系的联邦政府,大多数人疑虑是因为他们根 本不了解秘密通信线路是用来做什么的。

2009年年初,斯皮维做通了最顽固的拒不合作者的工作。他们现在有了一条 连通芝加哥和纽约的无阻碍路线。3月份,Spread请的工人开始施工作业。刚开始 进度慢得让人难以忍受。承包人习惯了在限定的环境下作业,比如旷野或铁路通 道,但斯皮维和巴士德要求他们在不同的地形和土壤上钻孔、挖掘、疏通、包括 片岩山脉、页岩山谷、泥浆土和宾夕法尼亚花岗岩。

两人一方面对施工进度恼怒不已,一方面眼观六路,耳听八方,密切注意竞 争者是否有取而代之的动向。他们担心某个大型自营交易机构会发现他们在挖土 施工、便抢先一步完成这项惊人之举。虽然这个项目范围广、开销大、艰巨程度 对一个交易公司来说几乎是难以想象的,但是像芝加哥的Getco等市场竞争者既有 资金、又会非常愿意做这件事来巩固自己的优势地位。

施工工人在困难地形的操作逐渐纯熟,项目运转速度有所提升、而且没有一 个竞争者插手进来,Spread的担忧烟消云散了。项目干得最热火朝天的时候、有 125名建筑工人一起作业。有的在印第安纳州挖沟通渠,有的在俄亥俄州趟水过河, 还有的在宾夕法尼亚国道旁操作反铲挖土机。有些工人悬吊在阿利根尼山脉的悬 崖上,小心翼翼地安置移除部分岩石的爆炸装置,以形成岩架放置钻机。钻探机 一刻不停地在史前岩石上钻孔, 直到钻头白热发光。

在与世隔绝的交易世界里、没有一丁点儿关于Spread正在进行的项目的传言。

这就好比乔治·华盛顿在圣诞之夜率兵横渡特拉华河。Spread会让整个业界大吃一惊,他们只需占尽先机。

Spread的光纤线路绵延1320多千米,是连接长途电话代码212区域和代码312区域最短的路径。信息以光速通过此线路,往返纽约和芝加哥耗时13毫秒以内,比以前最快的路径耗时少了将近4毫秒。

就在2010年7月最后的光纤焊接即将完工前,Spread开始向交易机构、银行、经纪行——任何财力雄厚又渴求速度的人——推销它的武器。得到的反应从难以置信:你们是怎么做到的!?——到心甘情愿:我们要加入!——而后又有不那么积极的回应:我们才不会被敲诈呢!

任何与Spread直接治谈的客户都受到保密协议的约束不得透露相关信息。但不参与交易的观察者还是难掩他们的震惊。"任何参与到芝加哥和纽约交易市场的人都得用这条线路传输交易指令,不然就玩完了。" 追踪算法交易动向的网络信息网站OptionMonster的联合创始人乔恩·纳贾里安说。

Spread最后的焊接工作一完工,客户就排队等候上线。太多人对套利策略的 低风险利润趋之若鹜,任何能为普通套利策略提供优势与便利的东西都是弥足珍 贵的。速度是判定谁能将无风险利润尽收囊中的裁判。

作为最低延迟的通信线路运营商,Spread收取的服务费远远高于其他网络运营商。Allied Fiber运营的暗光纤通信线路建在铁路区,稍长一点,它收取的服务费是30万美元一年。多家与Spread商谈过的机构提供消息称Spread收取的费用是现行价格的八倍到十倍,高达300万美元一年。Spread不会透露它的通信容量,但是一根一寸粗的光缆可能至少能承载200位暗光纤客户的通信量。虽然人们对Spread的高收费心存不满,但是斯皮维和巴士德的这项冒险投资正轻松赚取能证明其合

理性的现金流。

Spread Networks不过是早在20世纪80年代就打响且不断升级的硬件之战中出 现的最新、最先进的武器。算法成为执行复杂策略的媒介,而运行算法的硬件的 发展也使算法的覆盖而和影响力不断扩大。

虽然个人电脑的普及使算法在发达国家的发展成为可能,但还是渗入我们生 活方方面面的因特网使得算法更有意义。算法下一步将人侵哪个领域由两个简单 的变量决定:破坏的可能性和破坏产生的回报。

长期以来,这个等式在华尔街产生了最大的效益,这也就是为什么那么多最 聪明的人,工程师、物理学家和拥有博士学位的人齐聚华尔街。尽管如此,这些 聪明人没能阻止这个行业在2008年爆发的经济危机,也没能解决任何让人类伤诱 脑筋的难题。他们就没做这样的事,虽然在高盛首席执行官劳尔德,贝兰克特看 来他们是在"行上帝之事"。

华尔街会引领这个世界走到混乱无序的边缘,然后狂欢着坠入黑暗,这毫不 令人意外,这也是永远不会改变的形势。然而每天都在改变的,是相互竞争的交 易者和他们的算法赖以生存的计算机硬件和科技。华尔街科技进步的故事之所以 重要,是因为其发展最终渗入到经济的其他方面。就拿Spread Networks来说、即 便是专为华尔街修建的光纤隧道,其影响力也走出了算法交易者的小世界。斯皮 维和巴士德的通信线路现在也为没有网络覆盖的小镇提供宽带服务,Spread也正 在往医院和医生办公室传送大型医学图片文件。Spread为华尔街以外的企业提供 实惠的价格来享受光纤服务——这个机会的存在只是因为算法交易商愿意出资数 百万美元购买Spread的暗光纤专享线路服务。

## 不论好坏,金钱、速度与科技总是携手并肩

某些人也许觉得只有财力雄厚的人才能使用Spread Networks的暗光纤,而这既不公平,也不民主;也许是这样。如果租赁参与市场所需的武器都要每年花费300万,那么自由市场何以称得上自由呢?可是几个世纪以来,专有的、昂贵的而又秘密的科技向来都是金融与商业网络的基本结构。走在最前面的人就占据了赚钱的优势地位,而有法子走在最前面的人已经就是富人了。这并不是最近才出现的资本主义的瑕疵。

但若没有来自金融市场的压力,我们的通信网络(不管是口口相传、信鸽、 电报、电话、电视、网络还是暗光纤专用线路)发展得也就没这么快了。没有光 速通信,也就没有云计算。没有使远程服务器和计算机不受空间限制地运用它们 的信息处理能力的云计算,全知全能的算法也就不可能存在了。

1815年,世界上最富有的人之一内森·罗斯切尔德就经常利用科技之便增添 财富。他和他的四个兄弟在伦敦、巴黎、维也纳、那不勒斯和法兰克福开办了银 行,几兄弟经常用信鸽在银行之间传递带有加密信息的小纸条。这个法子让罗斯 切尔德的银行比其他用人骑马送信的竞争对手更占优势。Φ

数千年来,中国、希腊、波斯和印度都用鸽子传递信息。为了截获敌军信息,罗马人派出老鹰搜寻鸽子。这使得发信人开始使用假信鸽以及假密码——这些伎俩罗斯切尔德家族在19世纪都使用过。1815年,欧洲深陷一场传奇的混战,起因是东山再起的拿破仑重掌法国。拿破仑率领的法国军队与英国、普鲁士、荷兰及其他国家组成的英普联军于6月18日在滑铁卢交战。

① Roy Freedman, Introduction to Financial Technology (New York: Academic Press, 2006).

在伦敦的债券交易所、市场参与者等待着前方的战况。如果英国战败、由于 扣心政府搖搖欲坠、债券价值必將急剧下降。对内森·罗斯切尔德来说、这是操 控市场的绝佳机会。多亏他的信鸽网络,他比伦敦任何人,包括英国政府、都早 一天得到愈破仑战败的消息。

罗斯切尔德知道胜利属于英军后,赶往他平日在交易厅的席位。开盘后,他 立马大肆抛售债券。其他交易者立刻断言他知道前方的战况,而且肯定不是什么 好消息。正如罗斯切尔德所料、市场陷入自由跌落、而他自己已停止抛售了。抛 售越演越烈,罗斯切尔德的数十个手下开始悄悄买进债券。当英军胜利的真实 消息第二天传到大众耳中的时候,罗斯切尔德购买的债券价值也发生了爆炸式的 增长。⁰

科技总是由享有特权的少数人发展起来的,然而创造最多财富的是普及科技 的人。伊斯雷尔・贝尔・约瑟法特就是那种将科技大众化的人。他19世纪初在德 国哥廷根长大, 在叔叔的银行任职, 并在那儿学到了金融的基本结构。后来约瑟 法特移民到伦敦, 改名为保罗·朱利斯·路透。 电报在欧洲雨后春笋般出现以前, 路透想到了设立信鸽基地的法子。路透的信鸽会将巴黎证交所收盘价信息从布鲁 塞尔传到160公里之外的亚琛。他的信鸽比骑马送信人和火车都要快。◎

随着电报发展到越来越多的城市,路透开始在更大的范围内传播收盘价信息。 路透有句名言跟着电缆走,这句话现在仍然可以形容已成为全球信息网络的路透 社。随着像路透提供的类似服务的扩张,最富有的人与其他人之间的信息鸿沟缩 小了。即便拿Spread Networks来说,也有几十家企业用上了暗光纤,如果这条线 路是一家大型交易公司或银行修建的,那么能够让大家分享的优势也就只能由单

D Richard Bookstaber, A Demon of Our Own Design (New York: John Wiley & Sons, 2011).

2 Freedman, Introduction to Financial Technology.

一业主独享了。诚然,加入Spread Networks的高额服务费将某些想和电子交易大享一争高下的交易者拒之门外,但是Spread的普及仍然创造了一个比罗斯切尔德时代更为民主的环境,因为那个时候鸽子网络100%是私人专享的。

# 速度孵化器

美国内战过后,纽约的经纪行之间就是通过送信人来传递价格行情的,这与 彼得菲雇用的终日传递新式电脑盒子的跑腿人没什么不同。

组约证券交易所从1867年开始通过电报向股票价格收报机传递市场价格信息。第一个收报机温温吞吞。"速度慢得连跑腿送信人都可以鄙视它了。"《纽约时报》这样评价。Ф尽管如此,股票价格收报系统仍然是世界上第一个电子广播系统,它开启了华尔街的技术趋势。

后来被西联电报公司收购的黄金与股票行情电报公司拥有世界上第一个股票价格收报机网络。这种设备经常在运转时出现故障。有一次设备又突然中断运行,一位住在黄金交易所锅炉房的22岁的技工前来修理。这位年轻的技工只用几个小时就解决了他的前辈同事深感棘手的难题。一年以后,他发明了一部更新、更快的股票价格收报机,整个美国网络都使用了他的发明。这位技工就是托马斯·爱迪生,他的股票价格收报机系统整整运行了六年20。1929年的夏天,就在引发经济大萧条的十月大崩盘发生前几个月,纽约证券交易所和西联电报公司宣布了一项耗资400万美元的计划,这个计划会更新美国的每一台股票价格收报机。

不来一场彻底的更新换代对使用老式价格收报机的人来说就太不公平了,因

① John H. Allan, "Stock Exchange Gets New Ticker," New York Times, October 24, 1963.

②周上。

为从老式收报机上读取信息的人会处于劣势。事实上新式机器完全替换掉老式机器需要一个阶段,在这期间西联电报还得想法让新机器减速到老机器的水平,这样就不会让试图超前交易的交易者有不公平的竞争优势了。©新的收报机安装好没多久,西联电报就宣布使用费每月提高25美元,这也是十年来第一次。©从此以后,通过技术来最快获取信息所付出的价格也无情飙升,最终发展到暗光纤专享线路费用高达每年300万美元。

就在Spread Networks修建的通信线路竣工几个星期后,有谣言称纽约和芝加哥之间有一条更短的信道。人气很高的财经博客和诸如NuclearPhynance此类的黑客聊天室,盛传有一家公司修了一条连接芝加哥和纽约的绝对直线管道。这条管道消除了地球曲率的影响,保证线路路程最短。

这听起来很有趣,但却是场彻头彻尾的骗局。"是的,我也听说了," Spread Networks的董事长斯皮维笑道,"但愿它不要很快完工吧。"

但是宽客和黑客一直在奋力追赶,Spread的堡垒不会永远坚不可摧。2011年年末,一家叫做Cielo Networks的公司开始研究在芝加哥和纽约之间建造无线微波网络。微波也是以光速传播,但却比以光纤电缆为介质折射传播的要更快。理论上,这个方法能在Spread的往返线路耗时13.3毫秒的基础上再减少4毫秒。

对Spread来说幸运的是,这项计划阻碍重重。大多数能承载大量数据的频率都要得到政府的许可才能使用,即便是得到了许可,也不能保证一定有足够的带宽,而且购买这样的频率要花费巨资。交易商并不是资金短缺,但他们是在与谷歌或微软这样的公司相互竞价,这类公司的钱袋深不可测,只要他们愿意,甚至能与华尔街抗衡。即使是买到了频率使用权,微波从一个基站传到另一个基站的

① "Exchange to Rush New Ticker System," New York Times, August 11, 1929.

2 &quot;High-Speed Stock Tickers to Call for Rise in Rental," New York Times, March 2, 1930.

途中还不能有阻碍物。Cielo Networks在某些情况下需要移除山尖,在纽约和芝加哥间的直线附近竖立起高塔,这一任务既不简单也不便宜。

正如网络受限于地理位置(至少暂时是这样),算法也暂时受限于运行算法的 硬件。硬件在速度、规模和效率方面的飞速发展就如日升日落一样稳定。有了硬件水平的飞跃,算法的效用才能同步增长。你口袋里的手机有比80年代初期绝大多数超级电脑更强大的功能;这小小的长方块是算法渗入我们生活的最新媒介,算法的影响力已延伸到我们的书桌和电脑屏幕以外很远的地方。这种入侵不曾止步于华尔街上房间大小的交易机器,更不会止步于你的手机。

# 第5章》

# 系统里的博弈论

■ 989年,IBM批准了一批科学家着手构建一台计算机,声称要打败国际象棋世界冠军。众所周知,这台计算机最终取名为"深蓝"(Deep Blue)。 1997年,深蓝在其鼎盛时期打败了国际象棋大师加里·卡斯帕罗夫,那时它重达1.4吨,同时运行着256个处理器,平均每秒可以权衡两亿步,而国际象棋大师加里·卡斯帕罗夫每秒只可以想三步。 《美国新闻周刊》称这场象棋对弈为"大脑的最后一战"。

其实深蓝能赢得这场比赛没什么了不起的,因为这完全是一场以多欺少的战争。在下棋时,依据给定的一步棋,电脑几乎可以预测出接下来所有可能的走法。 面对任何一步棋它都能这么做——不管这步棋看起来多么无用愚蠢。然后它会继续为对手,再为自己,又再为对手绘制所有可能场景,形成一个有着数百万可能性的复杂矩阵。深蓝就是为应对这么庞大的工作量而生的。

① IBM公司回站: http://www.rescarch.ibm.com/deepblue/meet/html/d.3.html.

人才济济的科学家团队合力工作多年才能构造一个会下象棋的机器人。暂不论深蓝的胜利,我们能否期望机器人深入到需要运用不可量化的人类直觉以及需要辨明细微差别的领域呢?因为下象棋时,所有信息都明明白白地摆在桌面上,双方皆可看到,没有什么未知因素,这使得象棋成为可利用机器人逃攻的绝佳游戏。即便如此,要想在这一领域取得成功也绝非易事。那么在充斥着虚张声势、叫牌弃牌——所有行为都包含着不可量化的人为因素的扑克游戏中,想用机器人战胜扑克高手似乎就更不可能了。但自从深蓝在象棋比赛中获胜,这么多年来,越来越多的趋势表明算法会继续侵入我们原以为只属于人类、需要专业技能的领域。国际象棋仅是一个开始。

2011年年初,IBM的最新发明——沃森(Watson)在智力竞赛节目Jeopardy中全胜人类选手,包括该节目的连胜纪录保持者肯·詹宁斯。一台机器能如此敏捷地处理随机问题,快速查阅原始数据库,再转换成人类语言输出答案,实在令人叹为观止。象棋是遵循严格的规则在有限的棋盘上开展的博弈,然而Jeopardy的问题却无章可循,五花八门,其中还夹杂着幽默、双关和反讽。为了使沃森能胜任此项任务,IBM在4 TB的磁盘驱动器上存储了两亿页数据,然后再由16 TB内存支持的2800个处理器内核读取(我用来写这本书的新一代苹果电脑仅有两个这样的处理器内核)。沃森占据了位于纽约州约克敦高地的IBM公司的一整间屋子,因为它运行时散发出的热量非常大,10个服务器机架需要两台制冷设备才能冷却。这一整套精妙的装置就是为了运行一个算法,从而保证沃森可以运用600多万条逻辑规则得出一个答案。

虽然沃森很强大,但它还是无法和扑克高手抗衡。一直以来,在华尔街工作的人也都对扑克游戏乐此不疲,因为从很多方面来看,扑克就像是他们生活的一个缩影。它包含了华尔街两大最受重视的特质:刀光火影间的虚张声势和电闪雷鸣般的快速分析。交易巨头间的秘密游戏已经演绎得极富传奇色彩。在华尔街扑

克之夜的比赛盛事中,总会有一些交易大享展开巅峰对决、例如为魔根斯坦利创 办了算法交易业务的彼得,穆勒,芝加哥对冲基金操盘手、亿万富益肯,格里芬 等。穆勒曾是2006年的年度冠军,在此之前他还参加过很多扑克比赛,包括世界 扑克巡回赛,并从中获得10万美元奖金。华尔街还有许多其他厉害的玩家,例如 绿光资本的经理大卫·艾因霍恩。他在2009年世界扑克锦标赛中排名第18, 赢得 了659730美元奖金。对任何人来说,这几乎都是一笔巨款,但对一个成功的对冲 基金创始人来说,却没什么大不了的。 特, 现已倒闭的贝尔斯登公司的前策略主管, 他在同样的赛事中赢得了160万美元 奖金。2011年世界扑克锦标赛奖金髙达6400万美元、华尔街对扑克游戏的关注也 因大众对该游戏的追捧而被放大。

就跟市场交易一样,扑克游戏也充斥着真真假假、隐情内幕、见招拆招、敌 进我退,也有高明和愚钝之分。而在众多影响因素中,人的非理性是最危险的。 所以,一位计算机科学系教授,只有利用史上最先进的算法驯服了诡谲多变的交 易市场,才有能力玩转这世上最赚钱的纸牌游戏。图奥马斯·桑德霍姆就是这样 一位教授,他任职于卡内基梅隆大学的计算机科学系,用了将近十年的时间致力 于开发出能让世界上最好的扑克玩家闻风丧胆的算法。

构建出能与世界一流的纸牌玩家抗衡的算法是一项复杂的工程。这不仅需要 算法基于自己的牌计算出嬴得对手的几率,还需要它具有人的特质。要想在红极 一时的扑克游戏中获胜,仅靠几率出牌是不可行的。这种策略在21点牌戏中还能 奏效——在拉斯维加斯鸁得数百万美元的麻省理工学院的大学生已经证明了这一 点,但扑克需要更为灵敏多变的手腕。为了达到玩扑克的最髙水准,人或算法要 整于下小注隐藏一手好牌,当然有时候也要会下大注证明自己的实力,吓得对手

① Scott Patterson, The Quants (New York: Crown, 2010).

胡乱出牌。扑克玩家,不管是人还是机器,都必须学会用一手小牌下注,等待机会不按常规地亮出神秘大牌,比如一副都是6点和2点。当然这些策略不能同时使用。最好的玩家懂得取舍,知道根据对手的表现,或虚张声势,或假装弱势,或喜形于色。会利用人类心理学是世界级的扑克玩家最重要的技能。

对于高手们而言,扑克是人类有史以来发明的最微妙、最具人性的游戏之一。 而要建造出能与高手们抗衡的扑克机器人,桑德霍姆需要构建一套算法,不是那种帮助机器(比如深蓝)每秒进行数百万次简单匹配的算法,而是能帮助机器实现新的飞跃的算法,例如,巧妙地模仿人类迷惑对手,并准确预测对手的策略——无论是理性的策略还是非理性的策略。如果机器人能够与这个游戏的专业玩家激战并战胜他们,那就没有什么领域是算法无法企及的了。

# 让算法变狡猾

桑德霍姆是博弈论专家,博弈论是应用数学的一个分支,主要用来解决包含 未知因紧和多个利益方的复杂难题。博弈论使桑德霍姆构建的扑克算法能够做出 决策,虽然这些决策并不能完全解决问题。"当你想在扑克游戏中考虑到所有变量 时,你就会陷入无穷的烦恼中。"桑德霍姆说。

下象棋时,每个变量都是已知的;然而,打扑克时,玩家只知道自己手中的牌,和亮在桌面上的牌。除此之外只有依靠自己的直觉、对于对手出牌喜好的了解,以及对其他玩家表情和手势的解读,判断出他们是在虚张声势,还是真有一手好牌。扑克机器人不会解读人的表情,至少现在还不会,所以要对抗厉害的玩家,它们必须学会怎样虚张声势,怎样叫对手摊牌,以及何时在对手可能有好牌时弃牌。

桑德霍姆是土生土长的芬兰人,讲话稍有些口音,从一头浅棕色头发、高颧 骨、凹陷的下巴就能看出他是日耳曼人。1990年,他创立了自己的第一套商业第 法: 搭车的自动议价平台。搭车者可以输入自己寻求搭车的路线, 愿意载他一程 的驾车者可以报价回应。每个搭车者向每个驾车者输入的不同路线变量形成了— 个复杂的市场,只有完美的簿法才能驾驭这一市场。但是桑德雅姆涉足搭车领域 的努力最终失败了,因为市场并未像他的机器预期的那样运作。有些驾车者只收 取几美元就非常乐意搭载别人一程,但有些驾车者的要价则高得出奇——这在第 法看来是不合理的, 因为顺路搭载一个人并非很麻烦。

桑德霍姆在复杂交易领域越来越有经验,他变得更善于基于人类及其多变的 决策方式来弹模。他编写的博弈论算法可以应对具有数千甚至数百万变量的市场。 比如、像通用磨坊这样的公司、如果想要对冲谷物价格飙升的风险、将会面临上 千种选择,例如,买入看涨期权,在纽约或芝加哥盲目投资看涨商品,等等。影 响他们做出最终决策的因素也不计其数,比如北美和亚洲的天气情况、股市的走 向、现行汇率、虫灾或旱灾的可能性及其对粮食产量的影响。在合适的时间正确 投注——前提是有充分合理的理由——能为通用磨坊避免数百万美元的损失。但 最,做出最佳决策需要知道的很多变量对于通用磨坊来说都是未知的。有一些变量, 例如天气情况,虽然不能完全确定,却仍然可以进行量化分析;而有些变量,比如 交易者对某些特定事件的反应,以及其他谷物大买家会如何进行避险操作,则完全 取决于市场参与者如何看待自己的最大利益。而个人利益正是博弈论要预测的事。

市场上有这么多赌徒和玩家,所有参与者的行为最终决定了价格的走势。相 应地、每一个参与者都会竭尽所能获得最大利益。博弈论利用有时数以千计、有 时数以百万计节点的矩阵来表示每一个参与者的选择以及他们所期望的回报。在 一个复杂的市场,已经做出的每一个决定都会影响到其他参与者的可选决策项和 路径。桑德霍姆最终创办了一家名叫Combinet的公司,开发博弈论软件帮助商家

应对复杂的市场。2010年,桑德霍姆把当时有130名员工的Combinet实给了一家私 募股权公司。

2004年,正当桑德霍姆利用博弈论为全国的客户解决问题时,他从卡内基梅

在德州扑克中,游戏玩家自己抽取两张牌,其余五张在桌上摆着。玩家可以用自己手上的两张和桌上的五张公共牌任意组合,以便得到最好的一手牌(一手牌只能由五张组成)。这个游戏尤其适合能够解读对手心理的人。举个例子,手握一对K的玩家可能得意洋洋地下了大赌注,此时对手出了一个A。同桌精明的对手也许拿了一手烂牌,但会下大赌注假装他还有第二张A。拿对K的玩家如果被对手的赌注给唬住,觉得自己会输给一对A,便会弃牌。最好的玩家时而高调地展示自己的好牌,时而手拿一手烂牌虚张声势,无论如何都会显得游刃有余。为此,玩家必须擅长解读人心,同时清楚地算出自己获胜的几率。这就是为什么构建世界一流的机器人扑克玩家如此困难的原因。算法通常不擅于预测、分析或根据人类不理智的行为下注。对一套完全线性的算法来说,手上只有一个7和一个2(扑克里最烂的牌),却下大赌注骗一桌玩家是不理智的行为。但是对一个专业玩家来说,这样一招有时候却是非常明智的。不可预测的人的因素使得扑克游戏成为只

① Sean D. Hamill, "Research on Poker a Good Deal for Airport Security," Pittsburgh Post-Gazette, August 2, 2010.

有最出色的算法创造者才能成功的领域。

桑德霍姆自2004年起就沉迷于解决扑克难题,有此追求的不止他一人。但除 了阿尔伯塔大学的计算机扑克研究组,他还没有遇到过势均力敌的对手。该研究 组苦心孤诣钻研扑克难题20多年。于是一场友好的对抗浆很快在桑德霍姆的卡内 基梅隆大学队和阿拉伯塔大学队之间上演了。

2011年. 桑德霍姆的算法击败了阿尔伯塔大学的算法, 在过去三年里两次获 胜。2012年年初、桑德雅姆的计算机程序在限额扑克(赌资有上限)—对一比赛 中完胜包括职业玩家在内的所有人类选手。而在不限额或是多于四人的扑克比察 中,算法稍逊一筹。在稍大型的比赛中,算法很容易被人类玩家的手法扰乱阵脚, 比如、刚开始就拿一手烂牌的人、会不合常理地虚张声势、但最后一把却可能运 气大发摸到好牌救他们于危难之中。参与游戏的人越炙,在第四轮或第五轮才拿 到好牌的可能性就越大。人的本性就是在任何时刻都能做出不理智的行为,而在 参与人数众多的扑克比赛中,没有任何算法能够替代丰富的经验和敏锐的直觉。 至少现在还没有。但考虑到桑德霍姆在这一领域的进展如此之快,职业玩家们应 该有所担心了。他们的深蓝时刻即将到来。

桑德霍姆率领的扑克项目研究组期望实现一个不太可能的结果——唬弄手头 握有王牌的人弃牌,为此他们对预测狡猾人类会在何时做出何种不理智的决策进 行了仔细研究。预测人类将何种看似不合理的行为视作最符合其利益之举,这是 算法需要跨越的最后一道坎。如果箅法能够察觉出扑克桌上、交易市场上,或是 日常生活中的非理性举动,这不仅能够避免财产损失,还能拯救生命。鉴于此逻 辑,桑德耀姆的扑克研究项目合伙人安德鲁,吉尔平把他们对扑克比赛中人的行 为研究应用到了股票市场。2010年吉尔平创办了一家对冲基金公司。这家公司使 用的算法懂得声东击西, 出奇制胜, 正如玩扑克一样。

# 体育博彩

在扑克成为对冲基金大亨和发展壮大起来的宽客队伍钟爱的游戏之前,体育博彩就已经出现了。交易厅的存在主要是为了方便人们下注,而且赌注一般都会比交易厅规定的要高。人们有时会下超过合法交易范围的附加赌注。20世纪90年代末期,我在读大学的时候(那时候不像现在可以在海外网站轻松购买博彩),一个室友经常收集我们的大比赛赌注,然后让芝加哥商交所的一个朋友在交易厅下注。一家名为M Resort Spa的拉斯维加斯赌场传承了这种精神。M Resort Spa专营一种新的体育博彩,这种博彩模仿了交易厅的一站式交易。

这家赌场为华尔街的一家金融服务公司Cantor Fitzgerald所有。Cantor认为它的算法几乎能在任何比赛的任何时刻做出准确预测,准确到篮球比赛的下一个三分球会在什么时候发生。在M赌场中,下注的人可以手拿触屏平板电脑漫游赌场,观看直播的成百上千场比赛。M赌场几乎允许你在和比赛相关的任何事情上下注,比如击球手会不会对下一个投来的球挥棒或足球运动员在下一次机会到来时会不会出现传球失误。比赛赔率每秒都在变。投注篮球比赛的人看到的赔率一分钟甚至会改变8次。

赌场内转瞬即变的赔率是由Cantor Fitzgerald公司一套名叫迈达斯(Midas)的算法来运行的,它可以同时预测许多比赛的上百场赔率。Cantor是华尔街一家有着几十年历史的公司,精于算计,也是华尔街第一家全电子化债券交易的金融机构,它吸取自己在华尔街多年来积累的经验和教训构建了迈达斯。迈达斯运行的地方是一间占地面积极大的机房,位于拉斯维加斯赌场一条街以北几公里处。©为

Michael Kaplan, "Wall Street Firm Uses Algorithms to Make Sports Betting Like Stock Trading," Wired, November 1, 2010.

了得到建造迈达斯算法所需的数据,Cantor收购了拉斯维加斯体育彩票认购顾问 公司,这家公司自1982年起就在制定比赛赔率。拉斯维加斯体育彩票认购顾问公 司将近30年的比赛数据一股脑儿塞进了迈达斯的大脑,这与Cantor等华尔街公司 构建交易算法的流程很像。

体育博彩一直以来都是胆量、直觉为上、赌场为王的领域、赌场根据用户的 下赌习惯制定规则。如果投给纽约巨人的钱比投给其对手新英格兰爱国者的钱多. 那么拉斯维加斯赌场就会改变其结果预测吸引更多人去赌爱国者队赢。比赛双方 得到的投注大致持平时、赌场自身要承担的风险才能降到最低、稳赚10%的利润、 这就是赌客所谓的"抽水"。体育博彩的大部分等额投注根本就不等额:每下注一 美元, 赢家可获90美分的利润, 剩下的10美分抽水是属于赌场的。但Cantor不满 足于抽水。它所管控的M赌场有时也敢全额投注——如果第法程序认为这是谨慎 之举的话。Cantor背后有15名程序员还有迈达斯算法机器人、它相信自己能成为 一统拉斯维加斯的体育博彩。实现这一目标尚需时日,但毫无疑问M赌场的交易 厅式投注风格有种让人难以自拔的魔力。如果M赌场能大获成功,可以预见哈拉 斯、美高梅、凯撒宫、还有其他集中在拉斯维加斯大道的赌场都会去聘请他们能 找到的最好的程序员。

# 算法:中情局的幽灵

下次你玩《妙探追凶》(Clue)的时候,用博弈论算法侵入苹果或安卓系统寻 求游戏策略会很酷;如果她觉得是穆斯塔上校在图书馆用烛台犯下的罪行,就 让这可怜人继续这样认为吧。桑德猫姆的算法在扑克领域的突破为算法攻克无 数其他比游戏更为重要的难题-----确切地说,某些生死攸关的难题----打开了--扇门。

在扑克游戏中,如果你不知道对手的策略或对手手中的牌,就很难下决策。对于美国安全部队来说,追查恐怖分子下落或是制定国防力量部署方案时,未知的幽灵也给他们带来了许多难题。所以打击恐怖主义往往要付出高昂的代价。但是博弈论算法正在改变这一事实。桑德霍姆的扑克机器人给了南加州大学计算机科学教授米林德·塔姆贝很多灵感,他想到利用算法抵御恐怖分子的威胁。塔姆贝向桑德霍姆的扑克机器人学习了几条策略,为洛杉矶国际机场构建了一套破坏恐怖分子阴谋的最佳巡逻模式算法。这套算法能够检测到恐怖分子自认为在机场制造死亡、破坏和混乱等恐怖事件的"最佳方法",然后基于对恐怖分子想法的预测做出摧毁攻击性计划的决策。

2007年,洛杉矶国际机场开始启用该算法,其效果深深震撼了联邦政府。联邦政府请求塔姆贝博士为美国交通安全管理局构建一个在全国范围内发布巡逻命令的计算机程序。与之相似的计算机程序于2011年在匹兹堡国际机场进入试运行阶段。美国交通安全管理局也开始使用这套程序来确定飞机上空军中将的人员配置和嗅弹警犬部队的巡逻次数。这样的结果掀起了研究算法的浪潮,人们希望有朝一日能通过一套程序,可以在像阿富汗这样的地方做出关键性战场决策,设计出能降低敌人伏击可能性的护航路线、临时基地和用兵战术。

但早在博弈论算法开始保卫机场、巡查班机以前,美国中央情报局就把它们当作自己的高级智能分析师了。20世纪90年代早期,苏联解体之后的两年里冷战有所缓和,美国和俄罗斯情报组织的关系友好,可以说是自二战以来关系最为友好的时候。两国虽然很少互通秘密,但在很短的一段时期内,它们悄悄暂停了长达50年的博弈。美国中央情报局和以前的克格勃就分享信息和情报系统诚心诚意开展了讨论。俄罗斯人对美国人夸夸其谈的一件东西非常感兴趣。那是一套极为复杂的博弈论算法,它准确预测了反对戈尔巴乔夫的军事政变将会触发苏联的缓然倒塌。

这套算法是由纽约大学的政治学系教授布鲁斯·麦斯奇塔和斯坦福大学胡佛 研究所的一名高级研究员发明的。当麦斯奇塔在密歇根大学政治系读研究生时。 他偶然读到了威廉・哈里森・瑞克写的The Theory of Political Coalition、该书以博 弈论为模板预测政界变化。麦斯奇塔兴致盎然,并开始补充自己的微积分知识。 他很快就改进了瑞克的分析技术, 20世纪80年代中期已然成为能够发明算法预测 政治事件的世界级大师。

在预测紧张的政治局势将会如何演变发展时,需要考虑的因素成于上万,比 如伊朗的领导层就是否应该推行核武器生产所展开的辩论。福克斯新闻或CNN的 优秀评论员通常会根据所了解到的关于局势变化的信息、并查阅历史相似事件、 然后依靠直觉做出预测。中央情报局的分析员也是如此工作的,只不过他们掌握 着更多的信息。但说到底,情报分析员在某种程度上做出的预测依然是基于主观 判断的。

麦斯奇塔发明的算法工作原理有所不同,而且更为先进。美国中央情报局聘 请他对全球不同地缘政治形势做了1700多个政治和军事预测,并将他二十年来的 工作成果和情报局里研究员的工作成果进行了研究比对,发现这位使用博弈论算 法的教授的正确率比他们自己的专家高出一倍。这说明了什么? 未来, 地缘政治 分析师在电视上还能找到他们的立足之地,但在如联邦调查局、中央情报局和国 家安全局这样的关键性部门里,他们的地位将会大大下降。

"当我们依靠直觉,就会遗漏太多可能性,"麦斯奇塔说,"数学能给我们 答案。"

和扑克机器人一样, 在预测一个国家(如伊朗)政治博弈的结局时, 麦斯奇 塔的算法也需要考虑所有与此相关的各方利益。算法假设的唯一前提就是绝大多 数相关人都会为自己的最佳利益奔走游说、辩护发言。也就是说,这件事对于每 一个相关人的重要性也是起关键作用的一个因素。也许最高领袖对某一事件有自己的倾向,但整件事的结局对他来讲无关紧要,所以与结局更相关的低级别人员就会施展更多的影响力。因此,要想真正运用算法预测地缘政治,使用者仍然需要靠握情报资料,但他们只需要某些特定的情报。他们需要知道哪些政治团体或个人影响着政策决策,以及对每一个相关人来说何种决策是最符合其利益的。此外,了解每一个相关人的影响力以及每个人对这一特定事件有多上心也是很有必要的。每一相关方都希望将自己的利益最大化,损失最小化——能够达成这一目的的行动正是他们会采取的行动。

这听起来好像需要耗费很多脑力,但并没有大多数中央情报局分析员想象的那样复杂。此前,情报部门耗费巨资搜集到的大部分信息,只不过是在分析一些人为何做出了某种选择。他们在意的信息包括每一个相关人的历史、私事和他走到当前职位所历经的过程。但是麦斯奇塔教授说这些情报无关紧要,他的算法能够证明这一点。"你走进一间房,看见里面正在对弈,只要看一眼棋盘,你就能迅速知道每一个棋手接下来会做什么,"麦斯奇塔说,"他们怎样走到那一步不重要——现实世界的事也是如此。"

如果我们知道每个相关人的动机、影响力和兴趣,就能启动算法工作了。这 正是麦斯奇塔的工作流程。他每日都在设置变量、相关人信息以及他们在意某一 特定结果的原因,在此之后的工作就交给算法了。

至于伊朗造核武器的可能性有多大,麦斯奇塔在2009年设计了一套算法预测这一事件。机器程序考虑了每一个因素:相关人、相关国家、可能的制裁和伊朗科学家的水平。机器断言在2014年伊朗会制造出武器级铀——这会让很多人感到不舒服。但算法同时预言伊朗不会用铀来制造核弹。相反,这个国家的核项目会用作民用。算法表示伊朗的重要决策人只要能让人们意识到他们有能力、有资金

开发核燃料就心满意足了。面对拥有核武器带来的弊端——国际制裁、来自以色 列的军事打击、石油卖不出去——他们会滑醒地权衡利弊。麦斯奇塔说算法大概 已经意识到,根据核不扩散条约、伊朗可以开展一些核电项目,依靠这些核电项 目,即使不拥有核武器,伊朗也可以获得类似的诸多好处,例如增强影响力、受 人尊敬,以及成为地域权威。这一结论现在看来是准确无误了,比大多数中情局 和传统分析员的预测都要好很多。

尽管如此,我们也无需惊讶于专家这么容易就被一套算法击败了。加州大学 伯克利分校的教授菲利普·泰特洛克调查了2000名政治学专家,请他们在自己的 专长领域就特定事件发生的可能性进行预测。然后、泰特洛克用限定的一组数 据对每一事件的可能性随机赋值。多年以后、泰特洛克核对了数据、结果真让 人——至少让所谓的专家感到灰心丧气。人类专家所做的预测准确度与随机产生 的预测值相比并没有好到哪儿去。

绝大多数中情局从业人员都是直接从大学招聘的。因为旧式研究方法规定分 析员应该对其研究的地域人文有深厚的了解,所以大多数新成员都毕业于文科、 而非理工科。因此, 很多情报员都致力于研究个人历史以及围绕权力人物上演的 戏剧性事件。这些事情谈论起来也许很有趣、但要预测一个谣远国度的人最终会 做什么事、它们并非是至关重要的因素。真正重要的是分析出怎样做才符合堆权 人的最佳利益。然而,我们的情报员却只是在文化差别、宗教冲突,以及种族、 国家和民族之间主流意见的差异上狠下功夫。相比之下,算法编写更为便捷。如 果重量级相关人和他们的利益能被清楚了解、明确定义(通常也是可以做到的), 那么即便是要分析预测伊朗这样领导层不稳定的国家,算法也能比人类分析员更 准确地预测他们将会怎样做。

中情局已经着手改造它的分析团队了,但是还有很长一段路要走。想在中情

局工作可设那么容易,它有一套严格的选人标准——学校、GPA、传统智力测试。然而,根据这套标准,最后得到的结果只可能是:来自东海岸常春藤联盟院校、人文专业背景的毕业生使得中情局人力过剩。因为申请同样工作机会的理工科学生由于GPA稍低通常处于劣势——这一点是美国所有大学普遍存在的现象。特定背景的人倾向于招聘与自己教育经历相似的人,拒绝接受那些有可能让他们在组织中失去领先地位的理论。这没什么好奇怪的。博弈论教给我们的最重要的东西不就是人总是会做他认为最符合自己利益的事吗?

但在20年总结的硬数据面前,再强势的教条也能被推翻。中情局和国防部中已经有人开始推动机器人在华盛顿外交机构担任更重要的角色。国防部净评估办公室主任安德鲁·马歇尔是机器人支持者中最有权势的一位,他在尼克松任总统时始任净评估办公室主任,自尼克松之后每任总统都委任他连任此职,2013年马歇尔已达90岁高龄。拥有芝加哥大学经济学学位的他很可能是算法的盟友,因为芝加哥大学以过于重视数量方法闻名。

说到阿拉伯之春,这一近年来波及范围最广、来势凶猛的世界性政治事件,

① 麦斯奇塔关于穆巴拉克倒台的预测经多方核查瓜实,该华尔街机构的名字受保密协议保护在此不便 透嘴。

# 对算法来说,爱情和棒球的世界万事皆有可能

加里·卡斯帕罗夫在国际象棋比赛中败给深蓝时,才思敏捷的作家、演员乔治·普林普顿仍然认为算法不可能统治世界。普林普顿自己也跟卡斯帕罗夫下过棋,但他对深蓝的进步无动于衷。"这是一种非常特殊的机器,"普林普顿说,"多年以后,它很有可能会做更多事情。现在我也不能确定是什么事情。但机器不能管理棒球队,也不能告诉你怎样处理失败的婚姻。这些事机器都做不了。" ◆

在普林普顿去世前,他亲眼目睹了棒球界被电脑统计高手所统治。这些数据 迷用算法搜寻隐藏在小联盟球队里的人才,他们使用的方法有齐全的文档记录。 迈克尔·刘易斯在他2003年出版的书*Moneyball*中介绍了比利·比恩,比利的成功 吸引了人们关注棒球界数据化的趋势。比利基于复杂难懂的统计数据组合而非依 据球员卡的传统方式来寻找球员组队,从而把奥克兰运动家棒球队打造成美国西 区联盟的常胜将军。如果这些数字有效,那么比利就成功了,即便选出的场上球 员混杂不堪(又矮又胖还满脸胡须)。奥克兰运动家队自2000年后曾五次打进大联 盟季后赛,而它所需支付的球员工资是所有球队中最少的。同样资金短缺的堪萨 斯城和匹兹堡的职业球队分别自1985年和1992年就再没打进过季后赛。

奥克兰队仍然会派出球探寻找有潜力的棒球人才,但也会根据算法整理分析 最新的小职业联盟数据以期发现被埋没的金子。比利的成功可能会被看做是运气。 但是他因为资金短缺而卖掉球队的大明星后,该队仍然连连在季后赛中取得第一, 这绝非运气。还有一个频频使用算法的人——西奥·艾普斯顿,他带领波士顿红 袜队在2004年、2007年两次夺冠,距离这支队伍上次夺冠时隔将近一百年。2011 年,芝加哥小熊队挖走了艾普斯顿,希望他能再铸辉煌。小熊队虽然名气大、票

① IBM chronicles of Deep Blue: http://www.research.ibm.com/deepblue/home/may11/interview\_1.html.

价贵、球员薪酬高,但它自1908年以来从未夺得世界职业棒球赛的冠军,作为一个芝加哥本地人,我不得不指出这是历史上最长的无冠期。

普林普顿说机器人从未真正管理过大联盟球队,严格来讲这句话是正确的,但是某些球队经理已经成为新酬奇高的机器人代理。越来越多的棒球教练依靠电脑和层层精选的数据指导他们做决定。对很多棒球队来说,决定候补区哪个投手上场比赛靠的不是经理的直觉,而是算法。算法跟踪记录着面对相似的一局、相似的工作量,投手应对跑垒员的能力;记录着投手把跑垒员限制在垒上的能力(这样他们就不能盗垒了);记录着他们在主场与容场、在夜间比赛与目间比赛、在草皮球场和人工草皮场作战时战斗力的差异,等等。

棒球也许是最容易被算法和艰深的数据破解的运动项目,但它却不是唯一一个受到算法影响的运动。这样的方法在NBA也流行起来了。比如夏洛特山猫队的经理邱瑞克,他有工程学学位,并在波音公司担任工程师一职五年,现在也开始运用算法帮助自己决策。年轻一代球队经理的这种做法和喜欢凭直觉行事的保守派渐行渐远。软件统计的艰深数据对评估中等水平的球员,以及发现性价比高的交易极有帮助。因为无需借助任何工具,人们也能辨认出凯文·杜兰特和布莱克·格里芬这样的精英球员。但即便是金子也可能会被肉眼忽略。

就拿林书家来说吧,2012年2月时,他还只是一个仅有两年经验的控球后卫,进入NBA的机会微乎其微,不得不在就读于纽约大学牙医科的哥哥那里蹭沙发睡觉。©他最开始是在哈佛大学打球,2010年在NBA选秀大会落选,随后在联赛中成绩有所回升,但还是被火箭队裁掉了,最终在2011至2012赛季签约纽约尼克斯队。起初他一直是板凳球员。2012年2月尼克斯队常规首发队员接连受伤,林书家被推选进了首发阵容。尼克斯连续大胜六场,他一个人分别得了25、28、23、38、

① Tom Pedulla and Rachel Shuster, "Whole World Taken with Knicks' Star Jeremy Lin", USA Today, February 11, 2012.

20和27分。第四场对手是科比·布莱恩特和洛杉矶湖人队。科比对林书豪印象深 刻:"回想起来,林书寨的水平一开始就已经显山露水了,只是我们没有注意到。" $^{\mathbf{O}}$ 

但早在两年前,一位篮球球员分析专家艾德·维兰德的算法就注意到他了。 它的依据是林书豪在大学时高达0.598的两分投篮命中率和他在一个名叫RSB40 的复杂数据统计中的得分。RSB40反映的是篮球运动员在场内40分钟抢篮板球、 断球、阻截等综合攻防能力。维兰德认为这一数据是预测潜力球员的综合体育技 能以及能否在NBA生存下来的很好的指标。算法显示林书豪的潜力跟过去的大学 控球后卫阿伦・艾弗森、贾森・基德、拉筒・降多、安德烈・米勒和便士・哈达 威不相上下,这都是一串星光闪闪的名字啊。2010年,维兰德以自己的数据为凭 证写道:"如果他能做好传球并且控制得分,林书豪就是一个能够直接进入NBA 发展的球员,甚至有可能成为明星。" ②

但维兰德只是写篮球数据博客的联邦快递司机、他既不管理NBA球队、也不 认识这样的人。林书豪因体型算不上壮硕、又在常春藤联盟打球、而常春藤联盟 不是出NBA人才的地方,所以他未能人选NBA,也无人注意到他。甚至在2012年 2月之前,他打球都只是为了好玩。但即便得分水平有所下降后,他也能做到平均 得分超过14分、6次助攻, 这样的成绩对没有正式参加赛季比赛的落选球员来训是 非同寻常的。如果不是用了扫描数据的算法,我们没办法知道他就在那里,等着 我们去发现。

数据控们涉足棒球界仅有15年的历史,因为这项运动近些年来几乎处于巅峰 期,引人注意。但算法为人们配对理想对象却由来已久,可以追溯到1965年。当 时---名年轻的会计师路易斯·阿尔特菲斯特利他的朋友-----IBM公司的程序员罗

Thereby Araton, "Lin Keeps His Cool; Around Him, Heads Spin", New York Times, February 11, 2012.

2 Ed Weiland, "NBA Draft Preview 2010; Jeremy Lin, G Harvard," Hoops Analyst, May 13, 2010, http://hoopsanalyst.com/blog/?p=487.

伯特·罗斯,共同设计了一个他们称为TACT(技术自动化兼容性测试)的项目©。这是第一个以纯数据为后台的提供约会服务的商业网站。在此之前,还出现过一个叫"配对运算"的相亲程序,比TACT早了一年,但是当时只在哈佛的学生中使用,并没有广泛推广。

纽约单身一族花上5美元就能享受TACT的服务,只需回答涵盖了从政治到发型的一百多道选择题即可。随后阿尔特菲斯特和罗斯将调查问卷的答案翻译到计算机穿孔卡片上,然后将其导入IBM 1400系列计算机,计算机会为每一个人选出五个匹配对象。一年之内,5000个想要利用算法寻找真爱的人在网站上注册了。但这项服务只持续了几年,几年之后,罗斯被日新月异的华尔街及其逐渐兴起的自动化项目所吸引,离开了TACT,投身金融界。他说他觉得电脑红娘只能流行一时。

沉寂了30年后,曾流行一时的电脑红娘卷土重来,在2011年发展成为价值40亿美元并日益壮大的产业。现在,每六对新婚夫妇中就有一对是通过婚恋网站认识的。◎ 我以前的一个同事也是其中之一,通过eHarmony,他遇见了现在的妻子。他很感谢这套有上千个变量参数、价值数百万甚至上亿美元的专利代码算法。婚恋网站eHarmony通过258个问题了解客户的29大核心性格特征,以此为基础匹配对象。网站用户不能随便浏览别人的资料选择交往对象——算法来决定一切。

eHarmony的算法是基于盖伦·布克沃特的研究。在eHarmony任职前,布克沃特是南加州大学的一名心理学教授。eHarmony表示,如今美国2%的婚姻(也就是说每天120对)都是自己撮合的。®在婚恋市场获得了一席之地的算法还有很多。Perfectmatch.com利用华盛顿大学社会学家派帕·施瓦茨发明的算法匹配交友对

① Nick Paumgarten, "Looking for Someone: Sex,Love and Loneliness on the Internet," New Yorker, July 4, 2011.

② 同上。

③ Study by Match.com and Chadwick Martin Bailey, http://cp.match.com/cppp/media/CMB Study.pdf.

4 John Tierney, "Hitting It Off, Thanks to Algorithms of Love", New York Times, January 29, 2008.

象。Chemistry.com表示自己使用的算法是罗格斯大学的人类学家海伦·费希尔以 爱情的神经科学理论为基础发明的。另外一个婚恋网站OKCupid是由哈佛大学数 学系的四名学生创办的,这个网站不断从用户那里获取信息输入自己的算法。当 然,这些信息绝大部分都来自于用户所做的测试题。截至2012年,OKCupid已收 到四万多份测验题答案。

但有的科学家还是不相信算法能够带来填爱,觉得这种可能性就跟转瓶子游 戏的随机几率一样。西北大学社会心理学教授伊莱·芬克尔和加州大学洛杉矶分 校心理学教授本杰明·卡尼做了一项研究,他们说大型婚恋网站的算法为用户精 排细选最佳伴侣、但其匹配率也许还比不上从人群中随便选出的人。这话是有些 道理的。OkCupid分析调查了其匹配的35 000对情侣,发现在无数问题中,最能揭 示一段关系能否长久的问题竟然是:"你喜欢恐怖片吗?"

"80年恋爱关系方面的科研经验告诉我,不能仅凭两个互不了解的人提供的信 息判断—段关系能否修成正果。"芬克尔说。◎

芬克尔和卡尼表示, 算法之所以会失算, 原因在于终结一段关系的问题只能 在两人相处的过程中暴露。 解决难题更能说明一段关系能否长久。但毫无疑问,婚恋交友算法的创始人会想 办法分辨出两位学者所谈到的特质。有理由相信他们最终会成功的。在第7章,特 里·麦古尼会向我们展示算法已经能够读懂人类某些话语背后的真正涵义。它们 知道我们在想什么。

① Andrew Stern, "Researchers Say Dating Websites Make Poor Cupids", Reuters, February 7, 2012.

② Eli Finkel, Paul Eastwick, Benjamin Karney, and Harry Reis, "Online Dating: A Critical Analysis from the Perspective of Psychological Science", Journal of Psychological Science in the Public Interest, February 2012.

# 第 6 章

# 呼叫机器人医生

\*\*T 对每一种出厂的药,Physicians' Desk Reference (PDR) 这本书都收录了制药公司给出的处方信息及开药指南。在社区的基层医疗机构,你也许就见过这本书。它每年更新一次,2012年版有3250页。理论上讲,书里每年更新的内容都应该告知医生,包括剂量、副作用、并发症以及可能产生危害的药剂混合。但即便是最爱啃书本的老学究也难以消化并记住书里所有的内容。公道地说,这本书只是一份参考资料,在医生对某种药物不甚了解时,供其查找。然而,有一种算法,不仅能够在几秒之内从中找到相关内容并记住,还能利用药品生产企业的最新数据,不断地进行细致人微的调整。虽然医学表面上看起来不能被电脑程序入侵,但这一事实已经被算法撼动了——真正的改变即将到来。

## 生命的仲裁人

2004年,在法国马赛举办的博弈论国际研讨会上,扑克算法的创始人图奥马

斯·桑德福姆坐在听众席里兴致盎然地听着演讲。他被一位演讲者及其演讲主题 吸引了。这位演讲者就是哈佛大学的经济学家艾尔·罗斯。罗斯介绍了在对每一 位捐赠者和受赠者的信息(如血型、地理位置、健康状况、年龄及亲属关系等) 进行匹配时, 肾脏移植系统所面临的挑战。

在等待肾脏捐赠的名单上,包括美国在内、世界各地的患者多达几万人。如 何尽可能提高患者和捐赠者的配对成功几率,这是肾脏移植系统所要面对的最大 难题。在过去几十年里,为了让最多的病人得到所需器官,捐赠匹配系统已经改 进了无数次,但还是有成千上万例潜在的配对没有实现。其原因虽复杂多样,但 还不至于无法解决。

听到罗斯介绍如何用博弈论来提高器官捐赠系统的配对成功几率时,桑德霍 姆便坐不住了。罗斯说他第一次使用博弈论时,是为了帮助每年2.5万多名医学毕 业生和具有住院医师培训资格的医院进行匹配。在他开发的系统于1995年投入使 用以前、美国住院医师培训计划饱受诟病、学生和医院都不满意、医院得不到最 佳人选、学生为了参加培训计划则不得不忍受与配偶分离之苦、或是被分在自己 的专长领域没有建树的医院。

罗斯还开发过一种算法,帮助纽约市即将毕业的八年级学生,从700多所公立 中学里找到最合适的高中。筛选标准为学生自己的喜好、学校的严苛程度、新生 接收政策和地理位置。在他的算法投入使用之前,学生和学校的匹配程序简直是 一团乱麻,一位教育部官员将其比作中东的混乱集市。因为旧的高中人学匹配系 统效果不好,有1/3的学生没有参与系统匹配。新系统投入使用后,学生的参与率 从66%提高到了93%。©

① Susan Adams, "Un-Freakonomics", Forbes, August 9, 2010.

在成功设计了高中人学匹配系统后,罗斯开始用博弈论来解决困扰肾脏捐赠系统的问题,但这是一个复杂得多的任务。因为器官移植涉及的许多环节都充满始料未及的变数:病人的状况是否适合接受移植,是否有合适的器官,某些参与者是否愿意坚持到底,而这些因素随时都在变化。在马赛举行的会议上,罗斯说这些问题变化的节奏很快,已经影响到了研发团队的工作。他告诉听众,随着需要器官移植的患者越来越多,这一难题的复杂程度还在成倍增加。

罗斯继续讲着,桑德霍姆环视着满是经济学家的会议厅,不禁觉得自己解决这一难题的潜力不逊于任何人。"我意识到这不是一个经济问题,"他说,"这是一个计算机科学问题。"

如果某人的肾脏出了毛病,导致肾衰竭,通常他只有两个选择:如果能找到合适的捐赠者,那么接受肾移植,从很多方面来说这样病人就能过上相对正常的生活;如果不能找到合适的捐赠者,那么接受透析治疗,也就是利用机器将血液里的多余盐分和毒素排出体外,每周若干次,每次四五个小时。除此之外,只有等待死亡。目前,超过2000万美国人有慢性肾病,35万人定期接受透析治疗。© 虽然美国每年花在透析治疗上的医疗费用多达400亿美元,但还是有超过20%接受透析治疗的病人死亡。©

同时,8.6万名患者在等待着接受肾移植。因此,将捐赠者和受赠者成功匹配成为重要的使命。在美国每年2.5万例肾移植手术中,60%的肾源来自刚过世的捐赠者,其余大部分来自受赠者亲属的活体捐赠。

在2004年的演讲中,罗斯重点强调了一个叫做成对匹配的匹配方法、称其很

① National Kidney and Urologic Diseases Information Clearinghouse (NKUDIC), http://kidney.niddk.nih.gov/KUDiseases/pubs/kustats/index.aspx.

② Rita Rubin, "Dialysis Treatment in USA; High Costs, High Death Rates", USA Today, August 24, 2009.

有发展前景,虽然当时每年只有几十例因成对匹配成功而进行的肾移植手术。成 对匹配需要满足以下条件。如果病人的亲属或朋友愿意捐赠肾脏,但是由于血型 不匹配等原因病人身体无法接受捐赠肾源。这时若还能找到第二对具有捐赠与受 赠意愿但肾源不匹配的关系,而且第二对的捐赠者与第一对的病人能够成功配对, 第一对的捐赠者与第二对的病人也能成功配对,那么这两例移植手术便都可以进 行了。然而找到满足所有匹配条件的互补配对几率很小。若能引进多对捐赠与受 赠关系,那么至少在理论上创造了更多的成功匹配机会。但是将成千上万对捐赠 与受赠关系一股脑儿堆在一起,并从中有效筛选出适合的配对关系并非易事。

在艾尔·罗斯开始用新方法进行匹配之前、匹配关系仅仅是手写在表格上。 如果匹配关系不明显,通常找不到合适的肾源。事实上,在罗斯介人以前,美国 任何地方都没有全国性或区域性的肾源匹配库。罗斯设计了一个高效的肾源自动 匹配系统,但是篡决能够处理的配对数量还很有限。关于这一点,他在研讨会上 表示很遗憾。

会后桑德耀姆找到罗斯,表示愿意为他的肾源匹配项目提供帮助,并将用到 自己在开发复杂的交易市场算法和世界上最先进的扑克机器人时用到的策略。"肾 源匹配库所需要的代码非常难写,"桑德霍姆解释道,"我能走到这一步,全是靠 着22年来跟算法打交道的经验。"

可能性数量太大,这是处理大型配对数据库所要面对的难题之一,因而对能 做此运算的计算机内存要求也非常高。每位患者和捐赠者需要成功匹配的参数超 讨20多项:血型、体质指数、病毒性疾病史、捐赠或受赠左肾或右肾的意愿、年 龄、血压、捐赠者与病人的关系、血液抗体类型、异地接受手术的意愿,以及成 功匹配的总体难易度(与稍易匹配成功的病人相比,极难匹配成功的病人享有优 先匹配权)。为了找到最佳匹配关系,电脑不得不从数百万种可能性中寻找最佳答

案——每次计算都比创建棋盘决策树要复杂得多。

在桑德霍姆参与研究之前,成对匹配库的应用范围还达不到几千候选病人。 但桑德霍姆编写了一套新算法,他的代码能够使计算机在进行大型运算时不会出现内存耗尽的问题。他运用了设计扑克机器人时所用的方法,指示算法只存储最重要的信息而不是所有信息。因为算法在必要的时候能够模拟信息。扩大匹配库规模,构建一个能够处理匹配库信息的机器,救活更多人,这才是最重要的。

2010年下半年,由非营利性组织美国器官共享联合网络管理的全国器官匹配数据库开始使用桑德霍姆的算法并接收捐赠与受赠关系对。算法每月定期整理数据库以期找到最多的成功匹配对。为了使参与者的数目达到桑德霍姆所说的"临界量",器官共享联合网络于2011年年末开始公开宣传其数据库。

越来越多的人在器官共享联合网络上注册,地区性肾脏移植系统的参与者也纷纷加入。器官共享项目逐渐壮大,预计参与人数最终会达到至关紧要的临界量,到时候不管是极难匹配还是较易匹配成功的患者,其延长生命的机会都将增大。在2010年年末数据库刚投入运行时,只有140对捐赠人与受赠人参与,仅12对左右能成功匹配。

在小型数据库里,一对难以处理的配对关系——基于血型、地理位置、免疫力缺乏,或其他一系列因素——会导致整个系统失灵。难以配对成功的病人也许和一个捐赠人成对,而这个捐赠人的器官能够满足其他一些难以配对成功的病人的条件,但是在这位与他成对的受赠人找到合适的捐赠人之前,这位捐赠人的器官是不能使用的。在一个只有几百对关系的数据库里,这样的情况是非常棘手的。但是当器官共享项目的数据库里有上千参与者时(按照桑德霍姆的设计,程序的处理量能达到一万),总有那么一小块"拼图"既能在这个"大拼图"里找到自己的位置,又能与其他小块儿契合。这就是桑德霍姆所谓的临界量。

"图奥马斯的簿法给极难匹配成功的病人带去了找到合适肾源的真正希望—— 这个可能性给了他们活下去的理由。"器官共享联合网络成对匹配项目的运作人露 姗妮·汉托说。

## 你的机器人医生

你难道不想拥有下面这样一位医生?

- 随时有空为你服务。
- 知道你身体上的所有优缺点。
- 通过你的体质特征、能预知未来潜在的健康问题。
- 熟悉你的完整病史。
- 知道你家族三代以内的病史。
- 从来不粗心犯错或写错处方。
- 了解最新的治疗方案或医学发现。
- 从没坏习惯或不思改进。
- 记得你的身体各项指标:脉搏、胆固醇水平、血压、体重、肺活量、骨密 度、及讨去受讨的伤。
  - 时刻关注你。
  - 总是能注意到疾病的早期征兆、例如、不规律的心跳、血压不断升高、胆 固醇水平激增, 甚至是呼出气体的微量变化, 都可能是癌症的早期征兆。

很明显、这些事情、没有一个人类医生能全部做到。但一套计算机算法却能 够也将要扫负起这些责任。一些医院在诊断人院病人时,已经开始利用算法来进 行初步判断。这样的医院虽然不多,但数量正与日俱增。在临床诊断方面,应用 算法的好处越来越明显,尤其是那些将算法纳入常规流程的医院,需要处理的医学并发症减少了,初次诊断的正确率提高了,病人的死亡率降低了,整体费用也随之减少了。

较之以前的分配模式,算法挽救了更多人的生命并且促成了更多的器官移植手术。看到这种情况,大多数公众可能都愿意接受算法进行器官分配。但是,当改变波及他们自己的医生和常规医学治疗时,人们就没那么信任算法了。在医疗保健领域,即便是由于虚假消息、个体的贪婪、恐惧或其他情况引起的抱怨,通常都异常尖刻。所以很难想象,如果健康保险公司建议用算法对身体的持续监控取代现实生活中由人类医生做身体检查,那将会引起怎样的轩然大波。但在某种程度上,算法一定会取代医生——不过,这一前景并没有听起来那么可怕。然而,只要一谈到健康领域的问题,很多人的态度总是趋向于:改变是糟糕的:不改变是好的。

所以,人们抵触利用计算机算法进行医疗诊断和治疗,这一态度还是可以预料到的。美国每年在医疗保健领域的开销已经高达2.6万亿,占其GDP的18%,这一比值远远高于同等发达国家医疗费用占其GDP的比值。在同等发达国家,人们不仅寿命更长,婴儿死亡率更低,而且在生命的最后几年过得更好。©

医疗保健行业充满了算法能够轻易攻破的领域。首当其冲会被改变的就是我们检查身体的方式。宫颈抹片、X光成像、磁共振成像以及CT扫描等的高频率、高复杂度以及高贵用是导致过去20年医疗保健费用激增的原因。如果人们身体不舒服去看医生,通常都不得不经受一系列的身体检查。而且,这一轮让人莫名紧张的检查刚过,另一轮又来了。虽然某一项检查有99.9%的可能是不必要的,但通常都会被强制执行。因为这些检查能源源不断为医院带来滚雪球般的收入。这说明在医疗保健领域,资本主义并不是有效的管理方法,虽然对大多数领域来说,

© Ezekiel J. Emanuel, "Spending More Doesn't Make Us Healthier", Opinionator blog, New York Times, October 27, 2011, http://opinionator.blogs.nytimes.com/2011/10/27/spending-more-doesnt-make-us-healthier/.

它都是发展经济的有效范式。大量统计数据都可以证明这一点,例如、美国人的 平均寿命是78岁、跟古巴人一样。但古巴人均医疗消费还不到美国的1/10、却取 得了与美国大致相同的成绩。

但这无关乎意识形态之争。只是说明是时候利用算法改善美国的医疗系统了。 而实现这个目标的第一步就是要让算法成为所有身体检查默认的扫描仪、观察者 和分析师。曾经需要收费极高的放射科医师或病理学医师参与的身体检查,在将 来算法也能相此重任。实际上算法会做得更好。

就拿宫颈抹片来说吧,原称巴氏涂片检查(Pap smear,以其发明者希腊医生 Georgios Papanikolaou命名)。自20世纪40年代这一妇科检查项目被引进美国以来, 美国的宫颈癌死亡率下降了90%以上。◎宫颈抹片检查是指从子宫颈部取出少量 的细胞样品放在玻璃片上,在显微镜下研究其是否正常。通常情况下,这些细胞 样品首先会被送到专门的化验员那里,检测是否有癌变的异常征象。如果细胞样 品有异常征象,那么将会被送交病理学家——位资深医学博士,年收入可能超 过30万美元。不过,现在已经有了能替代细胞化验员的算法。更妙的情况是(对 细胞化验员而言, 那就是更糟的情况), 算法能够扫描每一张样本图片, 并将其与 已被编入医学册的癌变迹象进行对比,从而能比人类化验员发现更多的癌变病例, 挽救更多病人。一家开发检测仪器的名为BD的医学科技公司进行了一项研究调 查,发现不使用算法的实验室癌症发现率为79%,而同时使用算法及化验员的实 验室癌症发现率则上升了9%,高达86%。◎ 第法在医学扫描领域越来越高的使用 率能够使更多的问题在早期被发现并阻截,例如癌症,同时也能最大程度减少出 现假阴性结果,这是医学扫描中最令人胆寒的问题。即便是渐进式的改变也能拯

Tarhad Manjoo, "Why the Highest-Paid Doctors Are the Most Vulnerable to Automation", Slate, September 27, 2011.

Q"BD FocalPoint Slide Profiler vs. Manual Review", http://www.bd.com/tripath/labs/fp\_detection\_pop.asp.

救成千上万条性命。仅在美国、每年就有超过5500万人接受宫颈抹片检查。◎

在肺结节诊断领域,算法也是独自奋战的放射科医师的得力帮手。肺结节是肺癌在早期的一般表现。医生利用算法分析MDCT(多层螺旋X射线断层成像)扫描结果,肺结节发现率提高了16%,如果肺结节能在早期得到控制,也就不会发展成为肺癌中期或晚期了。肺癌一旦发展到中晚期,病人存活率将不到15%。另外一项由纽约州罗切斯特市的伊丽莎白·文德乳腺护理医院开展的研究表明,算法作为诊断解读工具能够将乳房X光摄影的假阴性检查结果减少39%,这也意味着算法能够发现通常会被人类检查者忽略的癌症迹象,大大提高了癌症诊断率。②斯坦福大学的癌症研究所已经开始用算法扫描放射科医师所做的乳房X光摄影,因为其研究表明使用算法能更多地发现早期乳腺癌。③

控制美国医疗机构检查费用的第一步就是将分析检测结果的任务外包给训练 有素的印度医师。而第二步——也是最后一步——答案就是最终将所有工作交给 算法,经过完善的算法会比印度、美国,或世界上任何地方的医师都做得好。

解读扫描报告、检测结果以及患者元数据的工作人员必然会受到威胁,同样 受到威胁的还有为患者制定药物剂型与剂量的药剂师。在城市工作的药剂师每年 能赚13万美元以上。他们的工作压力很大,需要注重细节,还有很不幸的一点, 就是药剂师的工作内容容易量化,这意味着他们的工作很容易被计算机"入侵"。 改变迫在眉睫。2011年,加州大学旧金山分校开办了一家仅由一台机器人管理的 药房。这台价值1500万的机器人是一家名为瑞仕格的瑞士物流公司为该校创造的。

① National Cancer Institute at the National Institutes of Health, http://www.cancer.gov/cancertopics/factsheet/detection/Pap-test.

② S. V. Destounis et al., "Can Computer-Aided Detection with Double Reading of Screening Mammograms Help Decrease the False-Negative Rate? Initial Experience", *Radiology* 232, no. 2 (August 2004): 578-84, http://www.ncbi.nlm.nih.gov/pubmed/15229350.

3&quot;Screening and Diagnosis", Stanford University Medicine, Cancer Institute, http://cancer.stanford.edu/ breastcancer/diagnostics\_tests.html.

机器人直接接收往返于医生办公室和药房的电子讯息指令,然后用它颀长的 手臂从镶嵌在特殊墙面上的成千上万个大药箱里取药并包装好。它还会接收到关 于患者的所有信息,包括身体状况、过敏源,及其正在接受的其他药物治疗。然 后利用身体内部的算法迅速检查新处方是否有药物冲突,是否会引起并发症,以 保证患者服用的药物不会产生对人体有害的交互作用。不需要攻读药剂学的最新 资料,加大旧金山分校的机器人算法就能利用制药公司的电子通知直接更新药物 信息。而且, 与人类不同的是, 机器从来不会忘记任何一件事。但这并不是说它 从不犯错——写得再好的程序也会出故障。但是故障很好修复,而且算法能够对 分发药物的机器运行并发测试、增强机器人药剂师的安全冗余度。

旧金山的这个机器人已经毫无纰漏成功配药200万余次。而且药物包装过程不 涉及人类接触,从而杜绝了药物污染的可能。

那么人类药剂师在这一领域干得如何呢?配药错误率的数据统计少得让人奇 怪, 而现存的研究结果却表明配药错误率高得吓人, 其幅度为4%到10%。 如果 可以接受的保守值是1%。美国药剂师协会对50家制药公司进行了一项全国性调查 研究,查出配药错误率平均值为1.7%。②这些数字无一不让人胆战心惊。美国 每年需要配药的处方单子有37亿张,也就是说,照最保守的统计,每年会有 3700万例配药错误事故。而据美国药剂师协会的估计、实际上这一数值可能会高 达5150万。

这些错误给病人、医疗系统,以及制药流程的所有相关方都造成了巨大损失。 但由于药剂师从业人员在全国范围内都比较紧缺,这又导致了药剂师工作撒大,

① Christina E. Seeley et al., "A Baseline Study of Medication Error Rates at Baylor University Medical Center in Preparation for Implementation of a Computerized Physician Order Entry System", Proceedings of Baylor University Medical Center 17, no. 3 (July 2004): 357-61, http://www.ncbi.nlm.nih.gov/pmc/articles/PMC1200672/.

② E. A. Flynn et al., "National Observational Study of Prescription Dispensing Accuracy and Safety in 50 Pharmacies", Journal of the American Pharmacists Association 43, no. 2 (2003): 191-200.

人员配备不足,出错率更高。因此,这一岗位需要算法驱动的机器人来挑大梁已是无可争辩的事实。挑选药物、交叉检查药物交互作用、保证剂型与剂量完全正确,这些都是算法驱动的机器人可以掌握的技能。况且,很少有如此容易被量化的任务。让算法担此重任也有其商业意义。在2006年到2007年的13个月期间,美国最大的连锁药店沃尔格林因处方用药配药错误导致了致命事故,被卷入四起由陪审团裁决的诉讼案件,所处罚金高达6100万美元。©如果沃尔格林能把此类事故发生,把这样的负债从其资产负债表中抹去呢?这是它可以做到也将会去做的事情。

## 但是我预约的那个医生呢

Sun公司联合创始人维诺德·科斯拉是一位有远见的风投大师,与其他很多 优秀的有识之士一样,他相信算法能够改善医疗系统。"最终我们不会再需要普通 的医生。"维诺德这样写到。他说,算法能够为90%到99%有需要的人提供更好、更廉价的医疗服务。©

但还是有同样引人注目的人物持有不同观点,比如说哈佛医学院的教授,同时还是《纽约客》杂志杰出撰稿人的杰若·古柏曼。古柏曼认为依靠算法和循证医学是危险的,这会改变医生的思维方式,如此一来,他们在诊断已经骗过了其他12位医学博士的顽疾时会更加低效。⑤

但现实生活中的医生问诊不会像电视剧《豪斯医生》里的情节。我们灵活的 诊断头脑却解不了看似难治的病症,这实在是没有道理。就比如说一名叫安 妮·道奇的女子在15年炼狱般的生活中问医无数,而这些医生却都没有诊断出她

(1) Kevin McCoy, "Lawsuit: Walgreens Prescription Error Killed Man", USA Today, November 2, 2007.

② Vinod Khosla, "Do We Need Doctors or Algorithms?", TechCrunch, January 10, 2012, http://techcrunch.com/2012/01/10/doctors-or-algorithms/.

③ Jerome Groopman, How Doctors Think (New York: Houghton Mifflin, 2007).

的真正病因,直到一位富有洞察力的肠胃科医生救了她的命。道奇多次被诊断为 患有厌食症与暴食症,并在其体重下降到82磅(约为75斤)后被医生告知要多吃 谷物和糖类来增重。这个建议在过去15年里让她饱受折磨,痛不欲生。肠胃科医 牛迈伦, 法尔查克最终发现了病根所在, 道查患的是麸质过敏症, 患者肠道无法 消化谷蛋白,而这正是小麦中的主要蛋白质。◎

对于像法尔查克这样资深的专家型医生,我们为什么要用常规医疗流程和常 见病例去侵蚀他们的精力呢? 我们应该把疑难杂症留给如法尔查克—样善于解决问 题的医师, 而把其他小病——比如你上周患上的感冒或是去年患上的鼻窦炎—— 交给算法。因为算法不仅成本低廉、诊断精准、而且每天都在变得更敏捷。

很多医牛都对算法医学有一定了解。住院医师甚至年长一些的医学博士在评 估一名新患者的病情时都要经常查阅诊断备忘单。但是要发挥诊断备忘单的效用 却是要付出代价的。德州大学健康科学中心的医学教授,同时身兼医生与作家数 职的弗雷德·赫伯特就发牢骚说要是在纸上把算法打印出来,将密密麻麻占据整 页篇幅,如迷宫一样复杂。"有太多的步骤,每一步又有那么多的箭头指向不同的 方向,我最终不得不放弃把每一步都弄明白。"他说。而这个问题很好解决,只需 把所有信息都塞进iPad应用即可。这个应用只要求医生输入初始值即可得到相关 信息、不会像在纸上打印出来那样展示整个运算流程。即便如此、很多医生也不 为所动。赫伯特坚持说和数字打交道的是数学家, 医生是和病人打交道的。他说, 像管理数字那样来管理病人,是一个"可悲的趋势"。

但越来越多的证据显示事实并非如此。犹他州的山间医学中心已经利用数据 和算法提高了医院的医疗水平和质量,使其成为全球领先的医疗中心,以致于远

① Jerome Groopman, How Doctors Think (New York: Houghton Mifflin, 2007).

2) Fred Herbert, Looking Back (and Forth): Reflections of an Old-fashioned Doctor (Macon, GA: Mercer University Press, 2003), p. 37.

在万里之外的瑞士研究人员和医生都慕名前来,观摩其医疗模式。如果我告诉你 们山间医学中心的首席质量官布伦特·詹姆斯医生在进入医学院深造之前,本科 是在犹他大学学习物理学和计算机科学,你们就不会惊讶了。

詹姆斯创建了一个医疗决策系统,该系统依靠数据说话而非医生的直觉。医院里的每一件事,从呼吸机的设置到心脏病发作后的支架手术,都要经过图表绘制、分析报告的流程,以便后期供算法检查监控。詹姆斯利用山间医院的独家数据,为医院重新编写了以患者病情为依据的医疗流程。这样,当山间医学中心的医生进行诊断和治疗时,算法将集中搜寻出以往相关的病例数据,供其参考。©

结果难以辩驳:山间医学中心利用这些数据将其冠状动脉搭桥手术死亡率降低到了1.5%,而全美平均值为3%;其肺炎患者死亡率与全美范围的统计数据比起来下降了40%;其婴儿早产率也远远低于美国国内其他医院统计值。而美国早产儿越来越多的趋势有据可查。据世界卫生组织报告,在过去25年里,美国婴儿早产率上升了36%。但是山间医学中心的婴儿早产率实际上却下降了,正是由于其治疗时利用了成千上万种案例经过分类、量化、数据处理所得到的信息。总的来说,山间医学中心改善了超过50种临床病例的治疗结果,使得半数以上的患者受益颇深。©不过,詹姆斯的工作也引出了一个难以回答的问题:你是想要一个医生,还是一台效果可能更好的机器来做诊断?

"不要跟我谈哲学,"詹姆斯接受《纽约时报》采访时对怀疑科技的组织和个人说,"告诉我你统计的死亡率数据,我就相信你。"⑤

以上所说仅涉及在医院进行的标准化治疗。对于通常始于医生办公室的预防性保健护理,算法同样能提高其效率。而且最终,只需要通过手机,算法就能开

① David Leonhardt, "Making Health Care Better", New York Times Magazine, November 3, 2009.

② 同上。

③同上。

始改善你的健康状况。2010年、世界上最受尊崇的风险投资机构红杉资本投资了 一家名叫AirStrip的科技公司。AirStrip致力于将病人的生命体征等相关数据实时传 送到医生的iPhone、iPad和其他设备。在2012年2月的新一轮融资中,AirStrip又筹 集到3000多万美元的资金。接下来AirStrip将开发家庭监护系统的应用。在你的工 作和生活中,可以通过该应用持续检测各项身体指标,时时扫描重要器官, 查看 它们是否出现了早期病征。AirStrip公司推出的首批家庭监护程序将主要服务于改 善充血性心衰竭的疗效。据美国国家心肺血液协会统计,美国有600万人患有充血 性心衰竭。©

目前,荷兰科技公司飞利浦也设计了一个可以安装在iPhone和iPad上的应用。 只需花费99美分,这款应用就可以帮用户测量出若干项重要的身体指标。例如, 如果将移动设备的摄像头对准脸部,飞利浦的算法会检测出脸部图像像素的微小 颜色变化,从而精准地测出用户的心率;或者,将摄像头对准胸部,通过分析它 的起伏变化,算法则可以测出用户的呼吸频率。飞利浦表示多年来一直在为这项 发明研究高级算法,但是直到iPad 2和iPhone 4S上市的2011年,他们才能将算法在 iPad 2和iPhone 4S内设的新硬件上付诸实践、让每个人花费不到一美元就能享用 这一成果。

利用隨身携带的设备进行实时身体监控,详细了解我们的DNA、基因,以及 自己易患什么病,这将会是这个时代医学上的一大进步。DNA分析还不是初级医 疗的常规步骤,它和医学上的很多事一样,耗时长、价格昂贵。但这种状况将会 改变,因为能够很快绘制出DNA图谱的算法登场了。而且,在知晓你的基因及其 变异后,其他算法会进一步将预防性医疗护理提高到一个新的水平。

看看蕾妮·贝茨身上发生的事儿吧。贝茨是澳大利亚一家建筑公司的业务发

(1) &quot;What Is Heart Failure?", National Heart, Lung, and Blood Institute, http://www.nhlbi.nih.gov/healthtopics/topics/hf/.

展部经理。2006年她住进了医院,接受扁桃体切除手术。手术进行得很顺利,医生和护士开始清理工具,并让她自己躺在手术台上休息。但是她无法休息——她也无法呼吸。世界上有5%的人患有拟胆碱酯酶缺失症,贝茨就是其中之一。这类患者在手术麻醉剂的长时间麻痹效用下更易犯病。正当她在手术台上挣扎求生的时候,一个护士终于发现了她的异常,医疗小组利用呼吸机帮助她恢复了呼吸。但如果医院提前知道了贝茨的情况,就能避免此类容易致命或留下严重脑损伤的医疗事故。

多亏了哈佛--麻省理工大学博德研究所的尼克·帕特森,基因扫描现在是我们负担得起的一项便捷服务。帕特森2001年加入博德研究所之前,是华尔街的电脑程序员,在一家名为文艺复兴科技公司的数量型对冲基金机构服务了八年。文艺复兴科技靠分析数据,发现其他人所不能发现的模式来赚钱。博德研究所的研究人员曾一度被淹没在DNA的海量数据中摸不着方向,而帕特森在文艺复兴科技的工作经验则使他成为帮助博德研究所遨游于DNA海洋的最佳领路人。成百上千人的全基因组测序会产生大量信息,研究人员通常不会通过网络发送这些信息,因为传递一份信息要花费几周的时间。实际上,他们通过联邦快递寄送大容

① "The Power of Knowing", 23andMe, http://www,23andme,com/stories/6/,

#### 盘硬盘。◎

帕特森构建出寻找、发现并识别DNA数据中存在的模式和关系的算法,改变了DNA检测的速度。他的算法同时也成就了21世纪以来关于生物进化的一大发现。几十年来,流行的理论学说认为人类和黑猩猩在历史的某个时期就分道扬镳了:我们朝一个方向发展,它们朝另外一个方向发展。但在2006年,帕特森的算法推算出,实际上我们在该时期的数百万年后重又和黑猩猩复合了,异种交配,然后再次永久性地分开进化。算法还发现,约十万年前,现代人的祖先曾和尼安德特人杂交繁育后代。这次结合被斯坦福大学免疫遗传学家彼得·帕哈姆称为"杂交优势",赋予了人类强大的免疫系统,从而将这个世界变为自己的殖民地。40

由这一代开始,像帕特森这样的算法会扫描我们的DNA,判断我们可能会患上的病,甚至推算我们什么时候会得这些病。一台享誉世界的计算机——IBM的 沃森——将会处理这些疾病。

当你带着对自己健康的困惑走进医生办公室,你和医生的会面通常会像这样展开:医生问一个问题,你回答;医生再问一个问题,你再答。一直这样问下去直到医生觉得她弄清了你的病因所在。她根据你的回答在脑海中延伸出可能性之树,据此进行诊断。算法也能做同样的事。的确,大多数算法不会交流,它们不会考量可能影响到你的状态、你的回答和你的疾病的因素与细节。但沃森以及即将要侵入医疗界的算法并非如此。它们被赋予了最新的语音识别能力,人类情感的感知能力,而且随着表情解读算法的发展,它们也能读懂你皱起的眉头所表达的真正含义。

沃森会综合运用这些能力,得出基于证据的诊断结果,其详尽程度不亚于任何医生开出的诊断报告。当你走进办公室,医生就能看到你的初期症状,并以此为根据给出最简单的解释,而这个解释会影响到她的检查,她提的问题,以及她

Andrew Pollack, "DNA Sequencing Caught in Deluge of Data", New York Times, November 30, 2011.

(2) Ewen Callaway, "Ancient DNA Reveals Secrets of Human History", Nature, no. 476 (August 9, 2011): 136-137.

的预后判断。但沃森在这方面和医生不同,它不受这些因素的影响。通常,它会 先向你提出几个问题,并根据你的回答,在脑海里推断出数千种可能的疾病。然 后,再继续深度挖掘,提出能够帮助它排除一些疾病或缩小可能性疾病范围的 问题,直到它得出了答案,或是知道了应该让你具体做哪些身体检查就可以得 到答案。没有其他乱七八糟的无关检查,没有直觉感受,有的只是数据输入和 数据输出。沃森不会遗漏罕见病例的线索,因为它完全不会偏颇地依靠最简单 的答案。

沃森在Jeopardy智力竞赛节目中大获全胜后不久,IBM开始与哥伦比亚大学的 医生和研究人员合作开发一款新的沃森,它不仅仅是医疗领域的创新,也是一名 真正的护理人员和诊断权威。2011年9月,大型健康保险公司WellPoint宣布计划聘 用沃森为诊断顾问,为医生提供宝贵而合理的旁证意见。虽然WellPoint使用沃森 的主要目的是省钱,但与此同时,患者也将受益,因为初次诊断的正确率会因沃 森的参与而有所提高。

哥伦比亚大学临床医学教授赫伯特·切斯用他职业生涯早期遇到的一个棘手的病例测试了祆森。当时他面对的是一位30多岁的女患者,她跟他抱怨自己四肢无力。Ф经过验血,查出该名女子血液中磷酸盐浓度过低而碱性磷酸酶浓度却不可思议地偏高。沃森在被问到这一症状后,试探性提出该女子所患之病极有可能是甲状旁腺机能亢进或佝偻病。在对检测结果进行了数据处理之后,沃森进一步建议该女子接受检查看是否患上了抗维生素D佝偻病,这是一种非典型性佝偻病,也正是这位病人所患之症。

只花几秒钟, 沃森就诊断出了病因。而初遇此类病例的医生却要花几天时间 才能得出正确的结论。

① Anna Wilde Mathews, "WellPoint's New Hire. What Is Waston?", Wall Street Journal, September 12, 2011.

# 第一个章则

# 人的分类

个人都有自己的人格类型。在真正的专家眼中,每个人都可以像动物园的动物一样被分类、加标签并编成目录。你是善变的猩猩还是温顺的小鹿呢?为人行事诡计多端,还是如阿贝(指历史上诚实的榜样,第16任美国总统亚伯拉罕·林肯)一样诚实呢?拥有杰出技能的精神病学家只需通过和我们交谈,就能迅速得出答案。他们知道我们为什么而工作,为什么而奋斗,也知道我们和什么样的人合得来。但是平常给我们做性格测试的人中很少有这样的诊断专家,他们是凤毛麟角的人才。但如果这类稀有人才能被一合机器模仿、复制,甚至发展得更强大呢?如果存在一套算法能识别我们的性格、发现我们的弱点、看透我们的思想并预测我们的行为呢?如果我们创造了一台拥有读心术的机器呢?

这一发展不仅会改变精神病学,而且改变商业、客户服务和招聘流程的方方面面。比如你打完了一个业务电话之后,可以询问机器人程序,它能精确地告诉你电话沟通得如何,对方对自己的提议有什么想法。销售电话不会千篇一律的,

与那些难以成为客户的人的关系还是趁早结束,最终谈判会变得非常直接——直到买卖双方都使用了镇定冷静的机器人程序。

这样的科技会破坏很多人与人之间的日常交际。这可能听起来还很遥远,但 算法通过解析我们的性格,分辨我们的动机,已经对我们中的很多人了解得很 清楚。当机器在观察我们时,我们很少会得到明确的警告;它毫不张扬地侵入了 我们的生活。虽然这听起来很吓人,但能像你的配偶一样读懂你的算法还是很有 用的。

我们几乎都被机器解读分析过,虽然大多数人当时并不知情。你可能对下面的话非常熟悉:"为了确保服务质量,您的通话可能会被录音,请您谅解。"不管是银行、信用卡公司、航空公司还是保险公司,只要我们拨通其客服热线,听到这熟悉的措辞,我们就默许了算法监听我们的通话。也许这句话只是表明管理员或经理在听,或许他们还会回复,这么想也不无道理。但是很多情况下,这并非真正发生的事。

真正发生的是机器人程序在窃听你的谈话。它听你说话,分析你的性格类型,判断你为什么要打这个电话。在某些情况下,它会将这些信息转给与你交谈的客服代表。最令人难以置信的是它试图读懂你的想法。怎样才能又快又省事地满足你呢?一旦机器人程序想了解你——它能在30秒内读懂你——当你下次再打来电话的时候,它就会把你的电话转给与你有相同性格特征的客服。呼叫者与客服的错误配对会增加陷人长时间争论的风险。把性情相投的客户与客服连线在一起会使通话时间更短,客户满意度更高,同时能为公司赚取更多的利润。

了解机器人程序的起源有助于我们理解它们的工作原理及能力范围,这就追溯到了美国国家航空航天局(NASA),照例绕不开的,还有华尔街。

# 选对人: 不靠运气靠科学

1970年4月11日,三个人坐上了高110米的"土星5号"运载火箭,火箭里装满了低温液氧、液氢,这些燃料一燃烧就会推动火箭上升离开地球大气层。然后助推器会再次点燃,推动火箭离开地球运行轨道到达"阿波罗13号"的目的地:月球。

第二天早上,这三个人通过无线电接通了地面指挥中心。按照惯例,地面指挥中心的工作人员为宇航员朗读了当日新闻。工作人员从休斯顿一场棒球比赛的成绩说起(休斯顿是宇航员和指挥中心工作人员的驻地)。

太空人队挺了过来,8比7……马尼拉和吕宋岛其他地方发生了地震。 西德总理威利·勃兰特,昨天也看了你们的火箭发射,他会和尼克松总统举行多轮会谈。空中交通指挥员还在罢工,但是地面指挥中心指挥员仍然坚守岗位,听到这消息你们高兴吧。 $^{0}$ 

宇航员詹姆斯·洛弗尔、弗雷德·海斯和约翰·斯威格特在太空舱里被逗乐了。聊着聊着,一个关于报税的玩笑(这次登月的"阿波罗13号"飞船4月11日升空,4月15日是美国的报税日)让斯威格特想起他匆忙准备飞行任务,竟忘了申请报税。他们互相开着玩笑,地面指挥中心指挥员承诺帮斯威格特打听一下延期报税的事儿。

宇宙飞船在飞行途中进行常规维护时,加热系统的恒温器开关产生电弧放电作用,瞬间点燃了一个液氧贮箱,贮箱起火爆炸,半个飞船都被烧毁散落到宇宙深处。

① Judy L. Hasday, The Apollo 13 Mission (New York: Chelsea House, 2001), p. 16.

指令舱的氧气很快就所剩无几。三人进入了唯一能够活命的地方——登月舱,它永远也到不了它本来要去的地方了。登月舱是按两位宇航员生存45个小时设计的,但现在却不得不为三位宇航员提供100个小时的生存保障。为了保存足够的电力资源来活命,三人关掉了登月舱的大部分电源,包括供暖设备。时间一小时一小时、一天一天地过去,舱内温度接近零度,宇航员冻得无法人睡,精疲力竭。

休斯顿地面指挥中心指挥宇航员绕过月球的背面,利用月球引力将航天器送上返回地球的轨道。然后宇航员小心翼翼地启动了登月舱的发动机,圆满完成了轨道修正,这的确是一大技术壮举。

这不过是休斯顿指挥中心设计的众多绝妙工程学特技之一。由于多出来的一个人呼出的二氧化碳超出了氢氧化锂过滤器的极限值,登月舱的二氧化碳浓度之高曾一度危及字航员的生命。过滤器装备告急。要是没有应对方案,字航员有可能在自己呼出的二氧化碳中窒息而死。被损毁的服务舱配有过滤器,但是形状不同,不能用到登月舱上。指挥中心指示字航员用船舱里可用的东西做一个临时应急装置:一个塑料袋、飞行计划书的封面、还有一卷胶带。这个连接到过滤器其中一个氧气管的装置神奇地奏效了,登月舱二氧化碳含量下降到非致死浓度。©

两天后,三人降落在南太平洋,这证明了休斯顿指挥组团队的能力,也证明了宇航员们自己的能力。然而,同样不可思议的是三人在压力下的忍耐力和凝聚力。整整100个小时,三个人待在为两个人设计的船舱内,完成一件又一件生死攸关的任务。每个人在被端环境下的反应不同。哪怕绝境近在眼前,有些人都能控制自己的感情,冷静地开展手头的任务。然而我们中的大多数人,即便是宇航员,在面对可能的死亡时都难免惊恐万分,要么逃避,要么什么也不做,或者表现得歌无理智。

(New York: Penguin, 1995), Andrew Chaikin, A Man on the Moon: The Voyages of the Apollo Astronauts (New York: Penguin, 1995),

要预测一个人的反应很困难,更难预测的是在如此孤立无援的环境下,人们如何协作共处。在"阿波罗13号"这一意外事件上,美国航空航天局小有运气。 斯威格特(三位宇航员中的一位)是在飞船发射前一天加入此次飞行任务的,他 接替了飞行前一周患了麻疹的宇航员肯·马丁利。这个三人小组还没在一起协作 多长时间就被紧紧套在位置上,推射到了外太空。但是美国航空航天局对这三人 将怎样协作略有所知。评估宇航员性格相容性的太空项目已有将近十年的历史了, 这个心理评估项目对美国在太空竞赛中领先苏联起了至关重要的作用。

如果没有详尽彻底的心理测试,根本就没有办法了解三个人在狭小的船舱内 会发生怎样的情况,更别提执行登月这样艰巨的任务了。美国航空航天局非常清 楚,不合适的宇航员组合不利于任务的执行,甚至会危及人员的性命。这就是为 什么早期的宇航员要直接从军队选拔,候选人在那里经历过战斗,承受过高压, 也面临过死亡。对候选人在枪林弹雨中表现出来的品质做同行审查和背景调查是 选拔流程的重中之重。

即便如此,在"阿波罗13号"这次死里逃生的事件之后,美国航空航天局还是希望能有一种更好地开展心理评估的方法,一种更严谨、更不容置疑、更精确的方法。所以在1971年,美国航空航天局着手开发一个更全面的性格分类系统,用来预测哪些人在一起可以很好地协作,哪些人在一起更容易出问题。美国航空航天局需要一种能够解读人们的思想并详细预测他们的行为的方法。他们在20世纪70年代和80年代研发的系统至今仍以计算机程序的形式存在,它可以解读我们的个性、欲望和意图,但大多数人对这一事实却并不知晓。

美国航空航天局在冷战持续期间研发了个人评估的算法,那时候苏联的航天 队伍至少经历过两次因船员冲突导致的任务执行受挫,打造优于苏联人的宇航员 队伍是重中之重。美国航空航天局没有高性能计算机和语言模式识别软件,个性 评估是在纸上完成的。当时美国航空航天局的首席精神病学家泰瑞·麦古尼精心设计了评估方法。

小的时候麦古尼就发现自己善于充当精道小孩和受他们欺负的内向孩子之间 的和事佬。"随着我的成长,我逐渐意识到自己比大多数人更能感受周围人的情 绪。"麦古尼回忆道。

麦古尼对人们没有表现出来的内心的痛苦、惊慌、恐惧和愤怒有一种天生的感知力。他对人和人的行为如此感兴趣,以至于他参加攀岩和登山不仅是因为喜欢那些运动,更是因为能够观察不同的人对于恐惧、压力、疼痛和困难的反应。他说:"那可真是极好的实验室。"

1958年,美国空军招募麦古尼为他们开发一个预测士兵面临生死攸关的压力时会作何反应的系统。五角大楼那时每年都要开展几十个,甚至几百个绝密任务,至今也是如此。当然不是每个任务都像刺杀奥萨马·本·拉登那样备受瞩目,但都需要执行任务的人在面对枪林弹雨时毫不胆怯。有些人在其他方面看起来有钢铁般的意志和胆量,却在生死攸关的时刻怯懦退缩。有些人看起来最不可能是军人,却能在这样的情况下不被情绪所控,专注于给敌人致命一击。军方想要知道为什么有的人就比其他人做得更好,更重要的是,怎样才能提前知道谁是更优秀的人。

麦古尼自称"美国空军背后的精神病学家"。供他使用的实验室、工具和资源 比当时任何学术机构或医院的设备都要先进。冷战时期,军事领域处于世界科技 的最前沿,而军方拥有的一切技术都尽供麦古尼使用,同时他也能研究自幼就感 兴趣的学科了。

麦古尼深入钻研, 最终设计出一套发给每个新兵做的耗时三个小时的问题集。 从他们的回答中, 麦古尼有50%以上的几率(这是大家都期待的比较高的几率) 知道一个人在极端环境下的性格。麦古尼曾经挑选出一批又一批的队伍执行危险的任务,这些任务的目的将永远保密。

麦古尼竭力向上级申请跟随作战队伍一起行动,理由是他需要实战经验才能 知道自己要在这些人中寻找什么样的性格。他终于说动领导,得到允许,跟随部 队坐在盘旋于丛林的直升飞机后座上。一小队美国士兵被困在山顶,他们的弹药 被一点点耗尽,一旦弹尽粮绝,就会被大批涌上的敌军彻底击溃。

要古尼所在分队的任务是夜半空降补给,他们没开指路灯,强大的气流通过 打开的舱门抽打在他们脸上。直升飞机越来越靠近山林,成百上千的曳光子弹从 丛林处飞来,直击金属船舱。麦古尼和他的伙伴没有开火还击,他们不想让炮弹 轨迹暴露了自己的位置。这需要难以想象的克制力,麦古尼回忆道。他们在山顶 唯一的一块空地上着陆,扔下了一堆炮弹和炸药。"然后我们就离开了那个鬼地 方。"麦古尼说。

通过实地调查,麦古尼发现了在压力中越挫越勇的人的特点,但他仍然觉得这一实践还难称得上是科学。有时候他仍然觉得自己是在猜,有时还全都猜错。1971年,他的研究吸引到了一个从科学家中选拔宇航员的航天局内部机构,他们想知道怎样挑选科学家。该机构想给候选人才分类,弄清哪些宇航员在一起会有最佳的工作表现。美国航空航天局以前选拔的绝大多数宇航员都来自空军试飞项目,这些钢铁般的男人驾驶过这个国家最新式、最鲜为人知,同时也是最危险的飞机。

试飞员不太可能在太空执行任务时精神崩溃,至于科学家,麦古尼说:"美国航空航天局就说不准了。"所以航天局想让他参与进来,因为选拔人才需要精确——他需要审查5000多名科学家的人才库。航天局不仅需要知道谁能在压力下撑得住,还需要养清科学家之间的相容性。有时压力不能击垮一个人,但是压力再加

上与同伴的摩擦却可能产生严重的后果。

"他们要我做的事以前从来没有人做过,"麦古尼说,"他们想让我预测,如果 机舱口在241千米的高空开始发出尖锐刺耳的声音,候选人会作何反应。"

麦古尼有自己的方法,但他也开始涉猎别人的研究,看看有没有人采用了他不曾想到过的方法。如果他找到了有趣的研究,就会邀请那位精神病学家或研究人员到位于休斯顿的美国航空航天局,和他一起评估候选人,交换意见。某天他 无意中发现了普渡大学的一位心理学家泰比·卡勒的研究。

1971年,卡勒开发了一套识别不同种类的会话及其效果的流程。它把言语互动简化为由言语模式和词汇选择鉴别的一系列序列。每一个从说话者口中蹦出来的序列都能被客观鉴别。不同的序列组合能够表明谈话者对同自己交谈的人以及聊天话题是颇有兴趣、兴高采烈,还是百无聊赖、厌恶反感。在卡勒的系统里,没有对奇怪举动或者调查对象内心的观察。评估一个人所需要的所有信息都从他或她的嘴里说出来。

卡勒的系统是根据我们说出来的词语构建的。大多数人用的句式、词汇、谓语和代词都暴露了他们自幼养成的性格。造句我们每天都要做成百上千次。我们造句的程序已经根深蒂固到不可思议的程度,我们没法做到在一瞬间改变习惯或是采用一种完全不同的说话方式。在卡勒的系统面前,我们无法伪装自己。

卡勒利用清晰的言语模式把人分类的线性方法很适合编成一套算法,并最终发展成一个计算机程序。精神病学向来被认为是不受科学进步影响的一个领域,但是卡勒的方法——利用逻辑树理论及二进制决策——证明了这是无稽之谈。

麦古尼在1972年时并不认为卡勒是正确的,但他想亲自验证一下卡勒教授的 方法,所以他邀请卡勒来到美国航空航天局,这也没什么坏处——每年都有许多 精神评估医师来到这里。麦古尼和他的团队在采访、评判字航员候选人时,卡勒在一边旁听。这些字航员先要做一两个小时的标准问卷,再接受一连串紧张的提问以及根本不可能提前准备的高强度考试。顺利通过这些严酷考验是绝大多数候选人毕生的目标。一旦通过这些考验,他们承受压力的能力就达到了美国航空航天局要求的水平——他们将不会和其他众多候选人一样脆弱,能做到泰山崩于前而面不改色。

美国航空航天局的人在长达几个小时的候选人测试中忙着狂记笔记,而身负同样评估任务的卡勒会仔细观察他的研究对象,在标准拍纸簿上工工整整地记着笔记。麦古尼注意到,卡勒十几分钟后就停了下来,他要观察的都已经观察完了,他对每一个候选人都如此。其他人会连续几个小时都在记笔记,而卡勒却翘着二郎腿,合起手来,不再记任何东西。

卡勒的方法仿佛太草率了,麦古尼猜想他的方法肯定没什么实效。但麦古尼的研究团队通过对候选人的训练及互动进行观察却发现卡勒的预测是准确的,他甚至连新兵的冲突都预测到了。麦古尼和美国航空航天局其他人的预测都偏向回归均值(有些正确,有些错误),而这位来自普渡大学的教授预测得却总是很准确。卡勒精炼简捷的方法比这个领域的先行者麦古尼见过的任何方法都要有效。卡勒观察一个人15分钟就能够判断他的性格、品质,预测他未来的行为。

卡勒的方法,更重要的是他准确的预测结果,让麦古尼和美国航空航天局为之一振,但他能够教会其他人跟他一样准确地观察吗?答案是肯定的。由此美国航空航天局开展了一个挑选更合适的守航员组合代表美国飞赴太空的新项目。这门科学——称其为科学是毫不为过的——挑选出合适的科学家执行任务,从而避免一些由于宇航员冲突而造成的人为灾难。

这种冲突是可能发生的,当时美国航空航天局会定期监听苏联宇航员及其地

面指挥员的对话,卡勒记得在20世纪70年代中期苏联的一次特殊航天任务中,有两个宇航员明显不合。当时他们在太空中的日常任务包括抽取同伴的血液样本,中途一个人故意把针狠狠扎进另一个人的手,都扎进他的骨头了,一场激战就此爆发,以至于地面控制台指挥员担心他们会自相残杀。虽然最后没人丢了性命,但是被刺的人受了严重感染,手肿成一个充满脓水的大圆球。为了保住他的性命,任务被叫停,宇航员回到了地球。

麦古尼说在美国航空航天局的航空任务中这样的灾难性事件濒临发生的几率 超乎人们的想象。为了避免这样的惨剧,麦古尼专注地学起了卡勒的方法。卡勒 教授的算法——此算法可以改编成在你打电话时窃听电话内容的计算机程序—— 把人分为六类。

- (1) 情感支配型 这类人在切入正题之前试图建立关系,了解与之交流的人。他们占总人口的30%,其中3/4由女性组成,在逆境中他们表现得歇斯底里。
- (2) 思想支配型 这类人通常没有客套话,直切正题。他们的绝大部分决策都基于严谨的实用主义。在压力下,他们严肃克制,墨守成规。
- (3) 行动支配型 大多数二手车推销员都属于这一类型。他们即使在小事上 也崇尚进取和实干,总是在鼓动他人以谋取自身利益。这种类型的人大都有个人 魅力,讨人喜欢。在压力下,他们可能会失去理智,变得冲动,心生报复。
- (4) 反思支配型 这类人沉着冷静,富于想象力。他们思考可能的情况远多于处理已经发生的现实。他们钻研感兴趣的新领域时,也能出神发呆,发散性地思考几个小时。但是将这些知识运用到现实世界中却是他们的一个弱点。
- (5) 意见支配型 这类人的语言里充满命令和绝对的字眼。他们只看到事物的一面,即便是被证据反驳也会坚持己见。70%的政客都是属于这一类型、不过

这种类型只占总人口的10%。他们能孜孜不倦地工作,也能坚持不懈地研究问题 直到想出解决方案。在压力下,他们会变得多疑、敏感,还会经常指责别人,他 们的意见会成为他们的弱点。

(6) 反应支配型 卡勒尔称这类人为反叛者,但是按现代的标准和性格解析的计算机程序构建的理论基础,这类人应该被称为反应支配型。他们自然率真,有创造力,且喜欢玩闹。对事物反应强烈:"要么非常喜欢,要么讨厌至极"许多革新者属于这一类。在压力下,他们固执、消极、苛责他人。

如果你觉得在不止一类的描述中看到了自己的影子,那你的感觉没有错。我们的个性通常被六大特质中的一类所主导,但我们或多或少也拥有其他五类特质。比如说,唐纳德·特朗普(美国最具知名度的房地产商之一)无疑是行动支配的人,但他也可能有情感支配的一面,只不过那不是他的公众形象。

作为美国航空航天局决定谁有机会参与载人航天计划的重要人物,麦古尼成了快速读人的专家。他能在五分钟内判断出与之交谈的人的性格是哪一类特质占主导。强烈的思考支配型的人会提很多问题,他们总是在收集数据。意见支配型的人喜欢发号施令,他们看事情非黑即白,他们说话很多时候以"我觉得"开头,然后在接下来的言论中把他们的"想法"当做事实。反应支配型的人喜欢用"是的"来引导对话。经过一段时间后,麦古尼就了解了什么样性格的人容易在太空中发生冲突,什么样的人完全不适合宇航员的世界。比如说,反思支配型的人就不适合在美国航空航天局发展。"载人航天计划里几乎没有这样的人。"麦古尼说。

人与人之间的相容性不同。我们都曾遇到过让人难以忍受的面包房店员或是 脾气暴躁的咖啡师。但也许你觉得受不了的人在其他人看来并没那么讨厌。那是 因为他们的性格更合得来。美国航空航天局如果把一个情感支配型的人和三个思 想支配型的人塞进另有三个思想派的一个太空舱,那就太不明智了。而选择四个 彻头彻尾的思想支配型的人更容易招致麻烦。最好是让能够和谐共处的不同类型的人同处一室——比如反应支配型和意见支配型的人。担任领导人的很可能是思想支配型,但是麦古尼也会留意他的性格是不是有其他组员的主要特质,这样他才能更好地理解他的宇航员,处理组内关系。

执行航空任务时最得力的指挥官具有均衡发展的多项素质。虽然很多飞行员 通常是思想支配型,但最好的飞行员同时也具有情感和意见支配型的特质。人们 不喜欢跟毫无热情、按部就班的工作狂汇报工作,但却会紧密团结在工作努力又 关心下属的人周围。

"约翰·格林就是这样一个人,这个坚如磐石的男人也会为他人的不幸潸然泪下。这表明一个人的多愁善感和坚韧不拔是互不影响、独立发展的特质。" 麦古尼解释道。

美国航空航天局也需要坚如磐石的地面指挥员。要是没有休斯顿指挥中心屏幕前那些足智多谋又沉着冷静的人,阿波罗13号也不会死里逃生返回地球。麦古尼要监督的不仅是飞往太空的宇航员的心理评估,还有坐在地球转椅上不停地抽烟、保证宇航员安全归来的那些人的心理评估。

如果麦古尼预见到同组宇航员间可能发生冲突,他便知道如何提前采取措施。 他会和他担心起冲突的人坐下来恳谈,告诉他们自己预见到什么。他的诚意收到 了奇效,这些宇航员会注意保持与他人文明交往。没人想损害自己在航天计划中 的地位。麦古尼会警告航空任务指挥官时刻注意可能会出现的问题,并告诉他怎 样解决太空中发生的令人难堪的冲突。

麦古尼监督过几十次航天任务,预测了六次船员冲突,其中五次都预测准确了。他还记得一组宇航员回到休斯顿开完新闻发布会后,他在走廊叫住了一个叫 约翰的宇航员,麦古尼之前就担心这个约翰会和他的一个组员起冲突。 "那么,在天上还顺利吗?" 麦古尼问。

"噢,一切都好,"约翰温柔地说,然后他的眼睛一眯,眉头一皱,"不过要是再过一天——只消再过一天——我就会杀了他。"

麦古尼相信他所说的。

# 从美国航空航天局走进日常生活

从事精神病学和人类行为分析研究的人听闻了美国航空航天局的成功经验, 卡勒的研究方法也随之广为流传。很快,世界500强的首席执行官纷纷找到麦古尼和卡勒,寻求有效领导、团结员工的指导意见。卡勒甚至还在比尔·克林顿1992年参加总统竞选的时候帮他准备过演讲和辩论,指导这位未来的总统面在对不同个性的人时避免使用的词语,以及怎样在众多普通选民面前演讲。克林顿天生健谈,即便如此,他也觉得卡勒的练习很有效。

一段1992年10月总统选举时的影像资料清楚地表明,卡勒的方法对克林顿的演讲很有帮助。在市镇会议上,乔治·布什和克林顿都回答了一个失业妇女的提问,她想要国家能有更强大的经济和更多的就业机会,此时她心烦意乱。布什铿锵有力地重复潜他的方案举措,而克林顿走向那位妇女,谈论着他能感受到阿肯色州失业者的痛苦,谈论他是如何知道那里工厂经理的名字,他们曾经做的工作,他们孩子的名字,以及为什么他们这么勤奋工作。克林顿说他要为美国和美国人民投资——一个含糊不清的措施,但却振奋了那位妇女和周围的人以及电视机前的观众。他用同情心迎合了她的情感型人格,而不是像思想支配型的布什那样冷冰冰地思考。

就在克林顿竞选总统期间,卡勒的学生,心理学家哈吉斯·凯普斯开始为电

信科技(Telecom Technologies)公司提供咨询服务,这家硬件制造商希望改善公司高管与普通员工之间的关系。今天凯普斯是世界上最好的读心人之一;他通过30分钟的交谈就能彻底了解一个人的性格。Φ1995年辛普森杀妻案审判时,辩护律师组曾请他做过陪审员的个性评估。为电信科技服务期间,凯普斯和后来成为首席执行官的凯利·康威熟了起来。两人共同工作的这几年对康威今后的人生有决定性的影响。他逐渐的专注于美国航空航天局确立的这套评估人的心理、解读人的思维、预测人的行为的理论和方法。

康威最终离开电信科技创办了电子忠诚(eLoyalty)公司,为具有大型客户服务中心的公司提供咨询服务。他所学的关于性格评估的理论都深藏在了他的脑海里。"我感觉它总有一天会大展拳脚的。"康威说。

康威的电子忠诚公司不断发展壮大,最终在纳斯达克上市。但康威没忘记过 美国航空航天局和凯普斯的功劳。◎

① 在我第一次和凯普斯交谈近两个小时后,他大概给我说了一下我是什么性格类型的人。在我的性格中占最大比例的是思想支配。我是个务实的人,通常基于事实来做决定,但我不善于发母施令,在压力下容易恼怒(第二点对于一个作家或是科技企业家来说可不是一个好特点)。我们第一次聊的时候,凯普斯描述了他的理论是如何应用的,我一直点头听着。说老实话,我那时还没有被完全说服,他怎么能仅凭我说的话就知道我在想什么呢?我完全可以做到口是心非啊。

比如说,我当时就那么做了——这也是我经常做的一件事。凯普斯开始向我解释的时候,我通常是说"有意思",并点头回应。凯普斯后来告诉我,这种明确表达表示我没觉得有多大意思,并且还不愿下论断。"你不是在说'嘿,这可真有意思',"凯普斯向我解释道,"你真正的意思是'嗯,我可不确定其是那样'。"

他说的完全正确。一个思想支配的人不带感情地简短回应通常是在诱使谈话者提供更多的信息。要不就是他们对谈话内容完全不感兴趣。但凯普斯说后来在他开始跟我谈测试数据的时候,我兴奋起来了。"你说'哇,那真是太酷了',"他回忆道,"如果一个思想支配的人在类似'醅'这样的形容词前面加上程度副词,那表示你确实觉得印象深刻。"

我当时的确是被震撼到了。和其他人一样,我的性格也是在七八岁时就大致形成了。

②凯普斯自己也有有趣的人生经历,他曾有过一段播滚乐生涯。他是20世纪60年代到70年代的播滚乐队Hedge and Donna的成员,Hedge and Donna在十年里发行过六张专辑。他在娱乐界的事业同时延伸到了电影领域,他出演了1974年上映的电影《乡下人约翰的传奇》。当他在好莱坞的运气耗尽后,为了成为一名精神病学家,他重新返回学校并完成了学业。他在圣迭戈遇到了卡勒,很快就学会了卡勒、麦古尼和英国宇航局的理论。

一个人的主人格几乎不会改变。但当他长期处于虐待与压力下,就是例外了,这属于异常情况。随着我们年龄的不断增长,我们的词汇也越来越丰富深奥,但我们说话的方式(我们组织的句式结构)仍然不会改变。这些句式结构透露了我们在压力下的行为方式。美国航空航天局正是利用这一点远程闯入了人脑。

2000年,康威开始不断失去业务,电子忠诚公司的老客户转而投向在客服中心离岸外包方面更具专长的大型投资公司。康威在寻求发展电子忠诚公司的其他途径时发现,几乎所有发展道路都存在激烈的竞争,客服中心软件业务领域的成长空间很小。大跨步将同行远远甩在身后的唯一方法就是创新——创造其他市场参与者不能提供给客户的东西。

康威曾经把美国航空航天局关于性格评估的理论深埋在脑海里,这颗种子现在开始开花结果了。康威不仅熟悉美国航空航天局的评估流程,对其他两件事也了然于胸:他知道怎样开展自己的客服中心优化业务;作为一家纳斯达克上市公司的首席执行官,他也知道华尔街在这一领域的最新、最奇妙的技术。

康威清楚语言识别领域的技术已经有了长足发展。2000年,他想也许可以开发一个读心程序。有了这个主意,他第一个电话就打给了凯普斯,这位心理学家在康威的竭力劝说下,觉得这不仅是一个好点子,而且还能改变商业领域和心理学实践。

改变客户服务的产品本身就是一项利润无穷的投资。客户服务行业远比人们想象的要大。比如AT&T的客服中心就有10万个席位,每年的运营费用高达40亿美元。美国400万客服中心从业人员实际上组成了全国第三大职业类别。发明一个用于服务行业的更好的工具也许能产生每年数十亿的效益。

多年以来,构建一套量化语言,识别个性与思想的机器程序是不可能的。这

项科技——硬件和软件——还没有发展到这一步。语言识别软件,即电脑捕捉并准确翻译人会话的功能,几十年来都没有太大进展。目前类似功能的软件常常错误百出。20世纪90年代初期,IBM研究中心的两名科学家专注于计算机语言识别功能,过去这个领域中的成果对人们日常生活的帮助不大。彼得·布朗和罗伯特·英瑟尔开始研究的是将一种语言翻译成另一种语言的程序,最开始是法译英。大多数研究到这一步的编程专家都通晓两门语言,编写直接词对词翻译的程序:英语的ham对应法语的jambon,cheese当然是对应fromage,诺如此类。但是任何一种语言都充满了异于常规的用法、奇怪的规则和违反直觉的习惯用语,这些都极大增加了编写翻译算法的复杂度。有太多太多不一致的用法,以至于你无法完全考虑到。

布朗和莫瑟尔不懂法语,也无心学习。他们没有手工编写成于上万个算法,而是把加拿大议会会议手稿馈入IBM工作站。加拿大有两门官方语言,单单一年的议会会议手稿就有用英法双语表示的数百万个单词。两人构建了机器学习算法来识别两种版本手稿中对应的语言模式。其他人解决问题都试图用漂亮的代码复制不同语言的语法结构,布朗和莫瑟尔却用"哑巴"式的软件靠蛮力取得了成功。"只有这样才有希望实现'marqué d'un asterisque/starred'(意为以星号为标记,法英双语)和'qui s'est fait bousculer/embattled'(意为让人陷入混乱的,法英双语)的双语准确互译。"布朗在总结他和莫瑟尔研究的一篇学术报告中写道。

布朗和英瑟尔接着构建了一套根据说话者前面说的话,预测他接下来会说什么的算法。他们研发出如此具有革命性的工具,不仅改变了语言翻译软件,也改

① Sebastian Mallaby, More Money Than God: Hedge Funds and the Making of a New Elite (New York: Penguin Press, 2010).

② Peter Brown, Robert Mercer, Stephen Della Pietra, and Vincent J. Della Pietra, "The Mathematics of Statistical Machine Translation: Parameter Estimation", Journal of Computational Linguistics 19, no. 2 (1993): 263-311.

变了语言识别程序。最新最好的语言识别软件不会试图弄清说话者口中出来的每一个词,而是寻找有意义的一串词语组合。这样它就很容易分辨are和our了。Are you going to the mall today(你今天会去商场吗)就不会被错听成Our you going to the mall today,因为从没有our you going这种说法。正如我们学习语法规则一样,具有机器学习能力的算法也要学习语法规则。这一方法是我们今天使用的语言识别软件的精髓。

布朗和莫瑟尔在语言识别领域的突破性进展就连华尔街的人也有所耳闻。他们于1993年离开IBM就职于文艺复兴科技公司。他们为构建语言算法所做的工作也能用来预测金融市场的短期趋势。他们的算法成为文艺复兴科技公司最佳基金运作的核心算法。在运行布朗和英瑟尔的算法期间,文艺复兴的资产值从1993年的2亿美元发展到2001年的40亿美元。© 没有人知道文艺复兴是如何将语言识别算法应用于交易市场的,这也是文艺复兴一直立于不败之地的原因。文艺复兴是华尔街最大的一个谜——它吸引世界顶尖科技人才从事金融业的巧妙手法,没有其他公司能做的更好,包括高盛。文艺复兴的创始人,毕业于麻省理工大学的数学家詹姆斯·西蒙斯成了亿万富翁,他在2009年退休后,任命曾帮助他的莫瑟尔和布朗为联合首席执行官。

英瑟尔和布朗的工作意味着,2001年康威就能买到有较高精度的语言识别软件。现在他能识别人的会话,他需要构建一个新的算法程序,用于把美国航空航天局的性格评估理论应用到软件识别出的词句上,从而判断一个人的性格。

康威潘手构建一个囊括了所有想象得到的单词序列和言语模式的算法库,一个人说的任何话都能够被算法读取进而判断其性格。比如说,一个人和客服代表对话时如果没有客套话,开门见山提问题,要求得到答案,那他很可能就是思想

① Ingfei Chen, "Scientist at Work; Nick Patterson", New York Times, December 12, 2006.

支配型。这类人可能会说这样的话: 我的车需要一个新的消音器,2007款斯巴鲁 做虎的维修价是多少? 你们什么时候可以开始维修工作? 这些表述里的关键词是 需要、多少、什么时候——呼叫者在寻求信息, 护要最快得到答案。

另外一个呼叫者也许会致电容服中心抱怨公司产品性能不佳,让她感觉很不好。这个人也许会说,我真是觉得很恼火!这用不了啊,我不知道还可以拿它来做什么。我对你们公司和你们的服务本来有更高的期望,真是太让我失望了。关键词是恼火、失望,还有期望。呼叫者通过人称代词"我"的频繁使用以及后面对感觉的陈述,进一步表明她的性格是情感支配型。

第一个来电者是在执行搜索事实的任务。用事实来回答他,他很快就会满足。 算法应该知道,东拉西扯地闲聊会激怒他。第二个来电者想要的就是充满同情的 寒暄,道歉并真诚地表示理解最能让她满足。康威需要的是能在几秒之内注意到 这些情况的算法。

通过了性格评估这一关,康威想开发一套能在来电者提出要求前就知道他想要什么的电脑程序。如果来电者威胁寻求法律诉讼,康威想让监管者能即可知道,因为对一些潜在的客户像健康保险公司,诉讼案件经常发生,这直接影响到了公司每年的盈亏底线。任何为阻止打官司而自动采取的措施都价值数百万。康威知道以始终如一的原则正确对待来电者能够提高公司的业绩,并且更受消费者的信赖。

康威知道发明一种具有革新性的产品能够带来丰厚回报,直觉告诉他这种产品是能够创造出来的,他希望凭借这一直觉和信念改变上市公司的发展方向。不是每个人都信他。康威告诉电子忠诚公司的首席律师罗伯特·威尔特说他知道有一种心理学模型能够预测人的行为,威尔特几乎捧腹大笑:"我说:'是这样的!我做律师20年了,是啊,我也能预测人——他们都是混蛋。'"

但当威尔特见到凯普斯并亲眼见证该门科学的效用时,他改变了自己的看法。 他现在经营着卡勒的咨询公司, 律师事务所付给他超过一万美元的日薪来指导事 务所的律师如何识破人的心理。

康威想要剔除人的因素, 因为这是定量的评估方法。康威认为构建读懂客户 心思的计算机程序是有可能的。"我们在给人类语言分类。"康威说。

康威带着他的研发团队锲而不舍地开发算法库, 直到它最终能够使用。与此 同时,他与凯普斯开始着手验证他们的理论是否真能奏效。他必须得知道识破— 个人的心思和动机能带来什么实在的好处,还有他的整个任务是否能起作用—— 要是他真能完成任务的话。

鹿威说服全球移动通信运营商沃达丰将一组12位客服代表的1500份通话录音 交给他研究。康威手头分别有了每位客服超过100次的电话录音, 他便能够分析每 一位客服是否能从容应对行动支配型到反思支配型等各种类型的来电者。他也能 判断每一位沃达丰客服代表是哪种性格,从而验证性格相似者是否能更快达成解 决方案并减少来电者气愤地挂掉电话的几率。

康威利凯普斯听了每份通话的内容,将1500位来电者和客服代表的性格进行 了分类。然后他们记录了每个电话的通话时长,并将通话效果分为皆大欢喜或最 坏的情况——潜在客户流失。他们再把所有数据输入模型并检测结果。

结果简直令人震惊,如果来电者遇到了一个与自己性格相似的接线员,通话 大概五分钟就结束了,问题解决率是92%。不管以什么标准来衡量,这都是高质 量的客户服务。然而如果客户遇到了一个与自己性格迥异的客服代表, 结果同样 不可思议:通话时长通常是10分钟,问题解决率只有47%。这意味着来电者与客 服性格匹配的通话效率是其他通话的两倍。如果像第一种情况那样通话时间大大 减少,AT&T这样的公司最终能节约1/3的客服中心开销费用。前提是康威真的能够构建出使这一切成为可能的计算机程序。

先前的研究表明,这是非常有可能的,然而要使之成为现实却是一项非常庞大的工程。康威聘请了天才程序员和"我能找到的最聪明的人"。他发现聘请最杰出的天才,然后依据自己的需要来培训他们通常比直接聘请已经有相应编程和逻辑技巧的普通人更有效。这就好比为你的足球队挑选人才时,更青睐于迈克尔·乔丹而不是高中时代就被全运动协会接收的人。当然第二种人会接球,也知道怎么踢足球,但是乔丹一旦对这项运动有了感觉,他与生俱来的体育天赋就会发挥到极致。

康威需要很多迈克尔·乔丹型的天才来构建他的读心程序。他准备把电子忠诚公司客服中心管理的核心业务都用到这个项目上,他觉得这个项目对世界的影响远远不止于客户服务这一领域。公司每年的经营利润为数千万美元,康威有足够的钱来组建团队。但要签下一个由"超级明星"组成的大团队并非易事,因为其他公司也在争取将他们揽入自己旗下,并且这些公司的财力也非常雄厚。康威迎头撞上的对手是华尔街宽客机器。

# **第8章** 》

# 华尔街与硅谷的较量

2001年经济领域发生的一系列事件增加了交易机构的收入,也丰富了其程序员人才库。从这一时期开始,金融机构进行了前所未有的扩张,而其两大动力源就是蓬勃发展的房地产行业(华尔街也是促成房地产业大发展的原因)和不断崛起的算法自营交易。

2000年,通过计算机程序交易的比率不足美国股市交易量的10%。华尔街大亨知道算法的存在,但那时候算法还不足以撼动市场,难以想象有一天它会整合整个金融系统,并触发闪电崩盘这样的事件。2000年,人们控制的是交易厅而非电脑。纽约证券交易所的所有交易单都要经过专家经纪人之手,专家经纪人享有查看某一股的绝大部分交易单的特权。在交易厅,交易者下单速度受限于专家及其下属处理交易单的速度,整个交易系统完全是由人操作的。那时统治华尔街的是交易厅,而不是电脑主板或光纤的光脉冲。彼得菲发明的交易系统和模仿彼得菲的山器系统占领了纳斯达克,但是在纽约证券交易所,扯着嗓门喊单仍然胜过向电脑输入交易指令,更别提任何全自动交易系统了。

然而这一切正在改变,电子交易网络的兴起使得如彼得非一样的交易者/程序 员能大举进攻以前被小集团少数人统治的市场。一个有交易经验的程序员凭借稳 定的网络连接,再加上强大的台式电脑和漂亮的代码,就能迅速进入股市交易。

除了更加便捷的网络连接,华尔街所谓的十进制报价方式也让电脑黑客们获得了赚钱的巨大良机。在实行十进制报价方式以前,美国股市的报价单位是以美元的几分之几来计的。比如说,在1997年以前,最小报价单位是1/8美元,也就是12.5美分。后来又调整到1/16美元,但最小报价单位仍然有6.25美分。这一价差仍然能让有地位的经纪人和做市商大量敛财,即便他们在科技方面的投入很少。他们所要做的仅是根据投资者的报价来买入和卖出。分数制报价方式以其他所有人尤其是小投资者的利益为代价保证了经纪人的利益。

2001年,美国证券交易委员会要求所有市场采用十进制报价制度,很多交易量大的股票价差变为1美分。现在做市商仅仅靠客户很难赚大钱了。你需要交易量,极大的交易量。只有一种方法可以获得这一切:科技和知道如何运用科技的人。

2008年上半年,自动化电子交易占了全美股市交易量的60%。金融行业花了 七年时间追逐每一位聪明的工程学毕业生、物理学家,以及博学通才,只要这些 人对高起薪和能够买得起两套房子的巨额奖金稍感兴趣,它也会不遗余力吸引他 们投身自己的怀抱。渐渐地,对数学、工程学和理科毕业生来说,华尔街成了比 半导体行业、制药行业和通信行业更吸引人的地方。这对在过去十年内同样追求 此类人才的康威来说造成了阻碍。

康威的电子忠诚公司位于芝加哥市北部的森林湖市,电子忠诚公司连续许多 天在附近的西北大学和芝加哥大学招聘。康威会和他最信任的员工一起出现在招 聘会上,搭建起电子忠诚公司的展厅。但随着电子忠诚公司积极投身于招聘竞争 之后,康威发现他们受到了华尔街的阻碍。高盛、摩根士丹利、花旗银行、瑞士 信贷等华尔街金融机构在顶尖大学的招聘会上无处不在。在大多数情况下,这些 华尔街的公司派出主持招聘的是刚出校门几年的初级员工,他们简单地谈论在公 司工作的情况。他们不会高谈公司前景,不会大论挑战,不会分享工作带来的智 力激发。实际上他们根本无需浪费口舌推销自己的公司,髙盛和摩根所要做的只 是出现在招聘会上,其展厅就会被一宽蜂团团围住。

2001年至2008年是华尔街的巅峰期。华尔街的公司不仅在收入、利润、从业 人员等数据统计上创下纪录,也获得了前所未有的、甚至在将来也难以企及的广 泛威望和接纳度。这也给康威造成了困境。

康威能从路过电子忠诚公司展厅的人中招到些人,但要得到最好的人才却是 件难事。"如果求职者从来没听说过你的公司,你是很难跟高感这样的大公司去意 争的。" 水也将他比了下去。"我们公司虽然待遇不错,但也做不到在一个刚刚毕业的应届 牛身上投20万美元。"他说。

康威用尽所有方法想要招到最优秀的人才。当他听说位于风景优美的莱克福 里斯特的公司总部对想留在大城市的毕业生来说是个阻碍时,便在芝加哥市中心 租金最贵的金融区租了一套大写字楼作为电子忠诚公司的办公楼。他实行了员工 推荐现金奖励制度。康威对应届毕业生求贤若渴,想要找到一群聪明能干又志趣 相投的年轻人进入公司,进而吸引更多的人。

康威为了走捷径,从顶尖大学引进了具有语言学从业经验的MBA毕业生,他 们当然能够构思出他需要的算法,但是这条路走不通。"我们付了高额报酬,却发 现招到的人对他们的工作不是很擅长。"康威说。学工商管理的人往往局限于细节、 流程和标准。康威真正需要的是有创造力、头脑灵活的技术型人才,他们能够快 速思考问题并用独特而迥异的方法去解决它。

电子忠诚面临的一个典型问题(也是一个大问题)是:并非所有情感支配型的人都有完全相同的语言模式。设计出能够分辨细微差别,实现准确性格分类的方法需要开发上万套算法,才能分析识别所有情感情感支配型的人以及他们的习惯、意图和语言。具有超强专注力和分析力的人才能担此重任。

在招聘这类人才方面,康威取得了一些进展,虽然进展很慢。电子忠诚公司招聘时会让候选人接受性格和智力测试,只考虑得分最高的人。被电子忠诚公司录用的人中有1/4都进入了全国智力测试成绩排名的前1%,这也正是华尔街所重视的人才。他们能够讯速地分析出影响证券价格的12个因素,并构思出利用这些理论进行交易的算法。但是同高盛这样名气响亮的蓝筹股公司竞争阻碍了康威的进步,他们那的初级员工每年都能拿到40万美元的工资或分红。

在这场争夺人才的大战中,康威的电子忠诚并不是唯一一家在充满诱惑的华尔街面前败下阵来的公司。整个科技界都眼睁睁看着投资银行、交易机构以及新出现的高频交易商一窝蜂地涌进精英大学寻找人才。学界的格局不断发生变化,从2000年到2006年,麻省理工学院投身华尔街的毕业生比例激增了67%,而这所大学超过四分之一的毕业生都进入了金融界。©

康威的电子忠诚和其他科技公司也要面对人才数量急剧下降的困境。科技产业在20世纪80年代得到扩张,那时由于个人电脑的兴起,学生们扎堆选择计算机科学作为专业,学校里计算机科学专业的人数激增,编程人才涌入了各行各业。1988年的科技股崩盘(部分由于1987年股市崩盘所致)仓促地为这一时期画上了句号。自此,计算机科学在长达将近十年的时间里成了一个冷门专业。

而后,随着美国在线、网景、易趣以及雅虎等公司的崛起,新一代的大富豪 诞生了,计算机科学专业的注册人数再次飙升。20世纪90年代末期,我还是伊利

O Rana Foroohar, "Wall Street: Aiding the Economic Recovery, or Strangling It?" Time, April 4, 2011.

8

·诺伊大学的一名工程学学生,学校凭借校友的成功名气大涨,从这所大学走出了 马克·安德森(网景)、麦克斯·拉夫琴(PayPal),后来还有YouTube和Yeln的创 始人。那时候伊利诺伊大学的计算机科学教学楼是工程学院最有人气的地方,学 生们经常在毕业之前就离开学校到硅谷闯荡、互联网经济的一个个故事让整个学 院沸腾了。即便是普通的学生在毕业的时候也想找到一份有签约金、员工股票期 权以及其他一些福利保障的互联网行业方面的工作。

这种趋势开始只发生在少数几个大学,随着互联网热潮的愈演愈烈,它逐渐 发展壮大,最后波及全美。结果,选择计算机科学作为专业的大一新生人数在1998 年迅速上涨, 那时计算机专业人数占入学新生总人数的1.5%, 2002年, 这一数值 达到3.5%的峰值,仅仅5年之内就增加了一倍多。但互联网泡沫的破灭使计算机专 业的学生人数迅速下降,到2007年年底,其入学比例降到1.5%以下。华尔街是在 程序员总数越来越少的情况下不断扩大对其招募的,这也是造成康威的电子忠诚 公司人才短缺的原因。这一趋势如此明显,以至于大学教授们也开始关注了。

用威维克·瓦德瓦教授自己的话说,他到杜克大学是来教工程学学生怎样解 决现实世界的难题,怎样做一名工程师,而不是华尔街的算法工人。当他听说他 的大部分学生在毕业后都成了投资银行家或是管理顾问,他感到既震惊又沮丧。 "实际上我的学生们几乎没有谁当了工程师," 瓦德瓦说,"当他们有巨额助学贷 款要还,而华尔街开出的薪水又比工程公司的高出整整一倍,谁又会愿意当一名 工程师呢?"

瓦德瓦自己以前也是华尔街的工程师,20世纪80年代末期他服务于瑞士信贷 第一波士顿银行 (Credit Suisse First Boston),并最终成为这家银行的信息服务部 门副总裁。瓦德瓦在加入瑞士信贷之前就职于硅谷的首批创业公司施乐(Xerox), 年薪47 000美元。他在瑞士信贷第一波士顿银行的第一年年薪是16万美元,第二

年18万美元,第三年24万美元,第四年30万美元,而这一切都发生在1990年之前。

瓦德瓦当初的想法和他的很多学生一样,他想先在华尔街呆上几年,还清了 贷款再另寻出路。但是他发觉自己很难离开。"这就像是有组织的犯罪一样,"他 说,"你真的很难抽身。"

但他最终还是离开了华尔街并开设了Relativity科技公司,通过制作一些软件来帮助其他公司从旧的代码库升级到新的C++和Java代码库。此后,他不仅在杜克大学,也在埃默里大学和斯坦福大学任教,成了科技教育界的领军人物。

瓦德瓦刚到杜克大学教书的时候,就发现他很多最聪明的学生最后都去了华尔街,而正是这些学生构思出来的工具将世界带到了经济崩溃的边缘——债务抵押债券、高斯关联函数(被华尔街误用的公式),还有任何时候都有可能失去控制的交易算法。

那还是2007年,股市的全盛时期,金融机构吸金就像真空吸尘器吸尘一样容易。为了保证自己处于行业的顶端,金融机构需要两件东西:华盛顿的朋友和用 钱能够买到的最聪明的数量统计方面的人才。他们用钱打通了这两个环节。面对 这种现实情况,康威想要按照自己期望的速度发展公司,机会渺茫。

# 争夺算法人才之战的起起伏伏

争取最出色的算法人才的战争扩展到了华尔街的公司之间。能写出最漂亮的 代码或想出最巧妙算法的人能够自由穿梭服务于不同的竞争对手公司,比如德意 志银行和骑士交易集团。在这一类人里还有一类超级宽客玩家,他们有着独特而 宝贵的技能,能够赚到百万美元以上的年薪。

在某些情况下,这些超级宽客的薪水还能比这高得多。米哈伊儿,马利舍夫 是一名等离子体物理学家,也是髙频交易机构的智囊成员。他曾经效力于宽客云 集的芝加哥对冲基金公司——肯·格里芬的城堡(Citadel)投资集团,2008年城 堡付给他的薪资是1.5亿美元。一年后,马利舍夫离开了城堡投资集团,创建了自 己的高频交易机构泰莎科技 (Teza Technologies), 格里芬认为自己的专有代码被 盗,起诉了马利舍夫,最终获得一大笔赔偿金,也重创了泰莎的业务。 $^{\circ}$ 

城堡投资等公司在付给数量分析人才巨额工资的同时,也承担着被他们窃取 机密的风险。肯·格里芬的机构以前还有一名叫朴义浩的金融工程师,他在2011 年下半年即将离开城堡前被控盗窃代码。朴将他的电脑扔进了芝加哥外的一条河 里, 打捞人员找到了计算机硬件, 里面有城堡投资集团最重要的交易代码的基础 模块。♡

这场用金钱争夺算法人才的战争一直持续到2008年股市大跌的那一天, 那天 华尔街经历了天翻地覆的变化。9月15日,国际顶尖投行菜曼兄弟(Lehman Brothers,一个宽容云集的机构) 宣布破产。道琼斯指数在此后三周跌了3000点, 大多数华尔街精英机构在破产边缘摇摇欲坠。美林证券卖给了美国银行、高盛得 到沃伦·巴菲特的50亿注资,贝尔斯登则不复存在。

在不到一年的时间里——莱曼兄弟的破产成了导火索——美国经济的航向永 远地改变了。在这之前,金融行业占GDP的比重是逐渐递增的。即便是在股市处

① 为黎莎科技组建团队时, 马利舍夫聘请了高盛前电脑程序员谢尔盘·阿列尼科夫, 将其薪水从40万美 元涨至120万美元。阿列尼科夫接受了马利舍夫的邀请, 匆忙来到芝加哥。他在泰莎工作一天后, 就因盜取高盛代码的單名被捕。阿列尼科夫在高盛的最后三个星期,系统地把大批交易代码上传到 了德国的一台服务器上。髙盛网络安全人员注意到这个操作并通知了联邦调查局、阿列尼科夫2011 年被联邦法庭判决人狱八年。但是在2012年2月,美国纽约州上诉法院推翻了他的定罪判决,辩方 提出控方在此案中未正当使用经济间谍法案。

② Jacob Bunge and Amy Or, "Ex-Citadel Employee Arrested for Allegedly Stealing Code", Dow Jones Newswire, October 13, 2011.

于长期牛市的20世纪60年代,那时在华尔街工作是一件人人羡慕的事,金融行业占GDP的比重也不到4%。1982年刚刚掀起宽客和电脑程序员转投华尔街的潮流之时,没有一家银行或金融机构进入到道琼斯工业平均指数,没有任何一家,但那是华尔街声势浩大、气势如虹的一段时期。到2008年,在莱曼倒闭之前,金融业占经济总量的比重已经达到8%——这一比值推翻了所有的平均值和历史值。©至此,道琼斯指数已包含五家金融公司,其中AIG要求1500亿美元的政府救助资金——金额超过了新西兰、巴基斯坦、科威特和乌克兰等200多个国家的GDP。©

裁员活动像病毒一样感染了华尔街。即便是看似坚不可摧的宽容军团也拿着 收拾好的纸箱离开了办公室,他们曾经是被银行和交易机构竞相追逐、高薪相待 的宝贵人才。从2008年的秋天一直到2009年,华尔街招聘理工科学生最多的公司 是否能存活下来还是个疑问。

2008年秋天,当康威和电子忠诚的员工像往常一样出现在芝加哥大学招聘会上时,康威立刻察觉出了异常。"他们都不在了。"康威说。高盛、摩根和其他所有的华尔街金融机构都不在了。这些公司不仅冻结了招聘计划,同时也开始了最大规模的裁员。2008年,花旗集团解雇了7.3万名员工;美林证券和美国银行裁掉了3.5万名员工;莱曼的2.3万名员工全都丢了工作; 摩根大通抄底贝尔斯登时将9000名贝尔斯登员工拒之门外,也裁掉了自己的1万个工作岗位。

这一改变让康威惊讶不已。这里曾经是他和声名赫赫的顶尖公司奋力争夺每一个人才的战场,而现在他有了一大群对他的公司感兴趣的学生。对于其他曾经 和华尔街争夺过聪明的数量分析人才的行业来说,亦是如此。

"我们开始得到以前从没有得到过的人才。"红鳍的首席执行官格伦·科尔曼

D Paul Krugman, "The Market Mystique", New York Times, March 26, 2009.

② The CIA World Factbook, http://www.cia.gov/library/publications/the-world-factbook/.

说道。这家西雅图初创公司试图重塑房地产买卖方式,减少正常情况下需付的经 纪人佣金、破坏垄断房地产行业的勾结行为。多年来,这个国家众多最聪明的人 才都被禁锢在曼哈顿下城和芝加哥卢普区、通过光纤用代码来相互竞争。对此、 科尔曼一直唏嘘不已。"大多数人才最后都选择这些地方实在是很不明智。想想看, 要是这些人才都不再受限,自由流动,那我们能够做成多大的事业啊?"科尔曼说。

对康威来说,人才确实是得到了释放。在银行系统崩溃后的两年里,电子忠 诚招到了60名箅法人才,队伍扩建到能够实现其雄心壮志的规模。

在康威构造性格识别机器的这十年里,电子忠诚的传统业务客户中心管理维 持着公司的运转。这一时期传统业务占公司9000万美元年收益的60%或更多。这 为康威提供了资金, 使他可以建造一道竞争对手无法逾越的屏障; 含有200万个算 法的数据库。这些算法会听取、识别并对每一个在机器能够听到的范围内说话的 人进行分类。康威的机器已经分析了超过7.5亿次对话。存储这些数据是需要谷歌 出马的大任务。2011年,电子忠诚位于明尼阿波利斯的数据中心建成了,它的1000 台服务器可以存储600 TB客户的数据。( 美国国会图书馆的馆藏图书需要10 TB来 存储。)

康威的机器不仅能够识别我们性格并将我们与性格相似的人联系在一起,它 们还是打假斗士。随着其应用范围越来越广、它们能够抵制身份盗窃在全球的蔓 延。每3000个拨到客户中心的电话中就有一个是诈骗电话。诈骗者试图从客服代 表处骗取目标人物的个人信息。大多数情况下, 诈骗者手头上仅有客户的一条信 息,比如一个名字或一个地址。他们会打电话到成百上千个信用卡机构、银行和 保险公司、希望搜集更多的信息、然后在某一时刻发现自己可以操纵的账户、从 中牟利。这些诈骗电话通常都被转到东欧、爱尔兰和非洲的客户中心。可以通过 对一连串安全问题的错误回答来发现诈骗电话,在大多数情况下,来电者自己会

#### 突然挂断了电话。

话务员通常把这类电话标记为可疑欺诈电话,但这些诈骗者通常都会使用不同的来电号码,没有办法阻止他们再打上百甚至上千个电话。然而电子忠诚的机器所具有的语音识别能力却能破坏这些欺诈计划。人的声音和人的指纹一样是独一无二的,可以区分开来。人的声音不能被轻易更改,音质和音色虽然会随着时间稍微改变,但却有惊人的一致性。康威的机器电子化记录并存储了来电者的声音到主数据库,并能在诈骗者声音数据库里快速核对来访者的声音。如果数据库里有匹配对象,话务员能够即刻在电脑屏幕上看到通知,称来电很可能是诈骗电话。骗子们试图用能改变声音的合成器来破解康威的工具,但是康威说他也在开发反破解的方法。

除了攻克电话诈骗的难题,算法机器也对恼人的电话销售行业进行了改革。 对待不同性格的人需要使用不同的销售技巧。不要对思考型的人甜言蜜语,把好处、事实、节约的金额说到位,说到他们的心上。而对行动支配型的人,可能这一样强调就能激起他们购物的兴趣了:"现在买的话,就能免费得到赠品!"对于不带个人感情的电话销售来说,决窍就是知道使用什么样的说辞。训练电话销售人员分辨人的六种性格类型可能不是一项有利可图的投资,但要能够指导电话销售在合适的时候使用正确的说辞却是很有价值的。

沃达丰的经历就很能说明问题。沃达丰愿意成为一家实验公司,利用美国航空航天局研发并经康威的电子忠诚团队完善的这套方法来进行销售。这家电信公司的营销部有原来自己的一套方法,用来帮助话务员推销升级类产品,他们的方法还是略有成效的,大多数公司采用的方法亦是如此,但大多数销售电话均以失败告终。此时沃达丰采用了康威团队的方法,根据潜在客户的性格来改变其销售策略。对待情感支配型的人要用甜言蜜语和能让他们与亲朋好友保持紧密联系的

产品来迎合他们、对待其他性格类型的客户也有专门的计划。令人吃惊的是、销 售额最后意然增长了86倍。

算法机器人在商业、服务业、甚至是政治领域(想想robocall©)的潜力都是 非常大的。康威相信它能创造数万亿美元的价值。大公司开始看见康威提供的产 品的前景了,美国几家规模最大的电信公司在一些客服席位使用了他的算法机器 人。六大健康保健公司中也有四家开始使用他的机器人。康威能够得到巨额收益。 他的算法的使用费是每一席位每月175美元,和大公司每一客服席位每年五万的开 销相比这不算什么。如果AT&T这样的公司为每一个客服席位都配备一个康威的 算法机器人, 康威的年销售额将达到两亿美元——是他公司现在收入的两倍以上。

如果像AT&T这样的公司都让他们的客户中心改用康威的软件、很多公司也 确实在考虑这件事,那么以后我们的谈话就会被算法指导了。如果康威的计划成 功了,我们也许会发现自己所接听或拨打的每一个业务电话都被机器监听了。当 机器能以更低的成本保证客户更满意更开心、那为什么还要让客户面对人类同胞 变幻无常的服务态度呢?

机器对人类互动的影响不仅局限于电话交流。把性格评估的方法介绍给康威 的精神病学家凯普斯现在每天也和他们一起工作、凯普斯相信这门科学在学校和 医院有猪更大的潜力,因为在这些地方师生关系或者医患关系极可能因双方性格 的原因而变得很友好或者很紧张。算法程序能够对病人进行两分钟性格速测,然 后为病人匹配性格相似的护士和医生,使病人能与医护人员更好地交流,并最终 得到更好的治疗。这也同样适用于学校、尽管学校规模大、班级学生人数多、导 致了这里的关系更难管理。凯普斯相信有相当大比例被诊断为注意力障碍性多动

① 一种通过电话来达到宣传目标的形式,通过计算机控制实施自动拨号,播放预先录制好的音频。这 种方式大大提高了传统电话宣传效率。通常用于电话销售,总统选举等。——编者注

症的孩子都是反应支配型,但他们所在的环境(规模较大的学校)却与他们的性格不相符,他们需要更多的互动、激励以及直接指导。

康威着眼于所有这些领域。在他的机器征服了电话通信领域后,他的下一个目标是电子邮件。一个大项业务的每一相关方都要和30人次以上的客户联系,所有这些人都用电邮、电话和即时消息来洽谈业务。对康威来说,这些交流、言语措辞、思想和短信就是信息情报。有了这些信息,他就能判断两个公司的关系状况。他能识别出其中一方的关注点,销售过程中损害客户关系的业务单元,甚至客户变更的可能性。发件员工的姓名以及信件的具体措辞对其他人来说是匿名的,但算法程序可以读取这些内容,程序使用了超过10万条算法来解析邮件中所透露出的双方的关系,诸如紧张、同意、愉快、冲突等。康威的算法使得公司高管们在任何时候都能了解和客户关系的好坏,在某些情况下,他们能注意到哪些措施对于公司的信誉来说是有益的,哪些是有害的。

让雇主(即便只是一套计算机算法)调查自己的邮件,这种做法听起来不会是大多数员工所乐意接受的。但不要忘了,全世界最大的电子邮件平台谷歌邮箱在用关键词搜索我们的邮件并向我们发布针对性广告时,也是在做同样的事情。不仅如此,值得一提的是,法律允许雇主利用其员工的公司邮件账号做任何他们想做的事——阅读、删除、转发、公布。在这个世界上,灵活巧妙地利用算法的人积累了越来越多的权力,这样看来,未来我们将任由计算机程序来评判我们的性格癖好、决定我们的电话连线对象以及衡量我们的能力与价值。

康威的技术如果真派上用场,理论上会限制我们所交谈的人的类别。也许我们只被允许与有相同性格类型的人交流。这也许能为公司带来更好的盈利,但对我们的文化以及我们对他人的接受能力又意味着什么呢?也许没什么影响,因为和不同于自身的人和文化接触可以有很多种方式。但康威的机器所具有的能力再

加上现有科技给我们带来的强行分类却使问题变得更加尖锐。

从表面上看,上述情况可能还不错,但它会导致狭隘、极端及立法僵局。科 技为我们构建了一个属于我们自己的舒适世界。在这里,我们可以躺在相似的思 想、灵魂和观点的安乐椅上。如果一个思想支配型的员工只能与具有同样思维模 式的人接触,那他要怎样面对一个情感型的新同事呢?这个员工可能在他的岗位 上是全国数一数二的人才,但如果他不能与不同性格的人有效交流,又怎么称得 上是一位专业人才呢? 和不同类型的人合作共事已然是我们日常生活中要面对的 挑战之一,但它同样也会让我们受益匪浅。康威的任务并非是要破坏人际关系, 但随着机器逐渐掌控人类交流的不同途径,我们必须承认这可能会给我们的世界 带来奇特的影响。

# **3** 第 9 章 ル

# 华尔街的损失让我们大家获益

# 他们走向硅谷。

一场金融灾难让格林尼治、曼哈顿下城区、伦敦和芝加哥的人才浪潮转了向, 远离了牛市熊市,放弃了当交易手或宽容。康威用量化人才组建了自己的新队伍, 整个科技界亦是如此。

不少人都注意到经济界人才的转移。"这种改变几乎是在一夜之间发生的,真是令人惊讶。" 杜克大学教授威维克·瓦德瓦说。他的学生对华尔街态度的转变始于2008年的秋天。在瓦德瓦看来,好的一面是他们对科技和工程学的兴趣增加了。"我相信这正是设置这些专业的首要意义所在。"他补充道。

毫无疑问,金融界轰然倒塌这一不可思议的事实永远地改变了经济发展的方向。但正如任何一个好故事都旁生枝节地展开了不同的发展线路一样,2008年到

2009年年初华尔街陷人最低谷或许是舞台的主戏。但还有其他一些不为人注意的 情节正在上演。Facebook就是其中一个比较夺人眼球的例子。2004年年初,马 克·扎克伯格创办了Facebook, 笔者撰写本书之时, 他的身价已超过250亿美元。 与此同时,他公司的价值一路飙升超过了1000亿美元。

扎克伯格的故事广为人知:使用Facebook的不是科技宅,不是金融控,而是 非常普通的普通人。他们中有很多人都沉迷于Facebook上不断更新的动态、新闻 和聊天主题。扎克伯格的故事看起来是可以企及的;他的确很聪明,但他仍然过 着普通人的生活。我曾经看到他开着女朋友的阿库拉掀背式跑车参加某个活动, 那辆车显然已经用了六年多。较之大部分财富甚至不到扎克伯格的1%的硅谷精英 们光鲜耀眼的车,你得到的是一个影响着大学生计算机迷和高中生的故事。谁不 想成为那样的人呢? 在宿舍里成就下一个大事件, 却自始至终脚踏实得令人难以 置信。

扎克伯格所需要的所有知识都与编程及构建算法有关。 在《社交网络》(一部 里讲述Facebook如何崛起的电影)里有这样一幕场景,久久地萦绕在数百万未来 的算法写手、数学专业学生和程序员的脑海里:扎克伯格这个角色向他的伙伴埃 德华多、萨瓦林询问他以前用来给棋手打分的算法。扎克伯格想要用这个算法来 给哈佛的女牛打分。萨瓦林在窗户玻璃上潦草地写下了一个看起来很复杂的公式。 此时流行劲歌响起来,扎克伯格点头说:"让我们来写这个算法。"然后这两个哈 佛的男生在六年内打造了一个价值上千亿美元的公司。在窗户上涂鸦算法的时刻 也许从未发生——《社交网络》不夸张也就不是电影了,但对于很多聪明的年轻 计算机迷来说,这仍然是一个标志性场景,也是一个关于创造力的神话。

在实现从华尔街到西海岸的人才流势逆转这个过程中,Facebook比任何一家 公司都值得称颂。近年来,也有很多其他这样的成功故事连最伟大的金融工程师

都无法超越。看看社交网站推特、团购网站Groupon、移动支付公司Square、云存储应用Dropbox、网游开发商Zynga、视频网站YouTube,这些还只是其中的一小部分。这五年是网络发展突飞猛进的五年。还有很多这样成功的创业公司,比如声控自动化公司TellMe Networks、广告公司Tacoda、电子邮件软件开发供应商Zimbra,以及一些你或许没有听说过的公司,但它们的收购价都在2.5亿到9亿美元不等。大学生们已经注意到了这个趋势,全国的工程学院和计算机科学学院的入学率在经过了几年的下降之后也纷纷重拾上升趋势。正如瓦德瓦所说,最好的学生不再迷恋华尔街。

在选择职业时,一些优秀的量化人才常常面临着这样的纠结:我到底是该接受华尔街那份有经济保障的工作——25万美元的起薪外加可能是同等价值的分红,还是抱着对科技界不朽名声的钦慕去一家有啤酒机和乒乓球台的科技公司?现在,他们心中的天平在往科技界倾斜,即便是华尔街老手亦是如此。

庞尼特·梅塔曾是花旗资本市场的技术部高级副总裁,年薪40万美元。他在2010年自己31岁的时候抛弃了华尔街的工作开始创业。"过去,我常常问自己,我在这里真的做出了什么成绩吗?"梅塔说。他解释说,华尔街的存在就是为了做一件事:尽可能地介人每一项金融交易。去花旗工作之前,梅塔还在美林证券和摩根大通写过代码。事实上,他在华尔街一直是个经纪人,虽然是收益颇丰的经纪人,但却经常熬夜。他开始做副业,开发一个叫做MyCityWay(我的城市道路)的应用程序,这款程序让用户可以轻松找到饭馆、电影院、酒吧、交通线路——任何会影响到日常生活的事物。当他为花旗写代码写到自己的极限水平后,梅塔放弃了这个工作,开始专心做自己的程序。现在,他和他的合作创办人拥有50名员工,他们的程序已在70个城市发布,其中有30个是海外城市。他们筹集到了600万美元的风险投资,而且梅塔说,他每周至少会遇到一个表示自己再也不会回到华尔街的工程师。

"过去很难招到这些人,"梅塔说,"现在他们都愿意来。"

安德鲁·蒙塔伦提不需被摩根士丹利 (Morgan Stanley, 一家成立于美国纽约 的国际金融服务公司)辞退。他于2009年3月自己选择了离开华尔街。在华尔街当 了3年程序员,他觉得自己从来没有解决过实质性的问题。

在纽约大学计算机科学系读大四时、蒙塔伦提收到了魔根的工作激谱。这家 投资银行为他提供了一万美元签约金和9月份才开始工作的诱人条件。蒙塔伦提说 他很轻易地就接受了这份工作, 因为所有的新员工都很喜欢靡根出资供他们在毕 业后的夏天到欧洲或南美洲旅行的这个颇具吸引力的想法。当最终开始在魔根下 作时, 年仅22岁的蒙塔伦提年薪10万美元。后来某一刻他看看周围的同事, 有些 比他年长15到20岁,说:"这不可能是我终生的工作。"辞职后,他同别人合伙建 立了Parse.lv, Parse.lv的算法为《大西洋月刊》《美国新闻与世界报道》等网站提 供精妙而有深度的内容发布分析报告,《大西洋月刊》和《美国新闻与世界报道》 都是其客户。"我们在帮助编辑和记者,"他说,"我无法想象做别的事情。"

毕业之际、杰弗里·哈默巴赫尔也曾面临和梅塔、蒙塔伦提以及其他千千万 万工程师一样的职业选择难题。2005年,即将从哈佛数学系毕业时,他选择了去 华尔街。这是在他看来最容易的选择。

哈默巴赫尔在密歇根长大,父亲是通用汽车公司装配线上的一名工人。高中 时期、他擅长作诗、也能巧妙地投出弧线球骗过对手、密歇根大学想把他纳入其 權球队。但他最终选择了去哈佛大学英语系,然后又顺畅无阻地跳到了数学系。 对他来说、大学生活没什么乐趣。某天他辍学回到家乡、在通用汽车的一家装配 厂工作。他的母亲对此感到惊愕不已,他不得不再次回到哈佛。

毕业后、哈默巴赫尔的女朋友搬到了纽约、所以他的华尔街职业之路变得更

加清晰明朗。"每个人都知道华尔街需要搞数量分析的人——他们在哈佛数学系招了很多人。"哈默巴赫尔解释道。

但是他对成为分析金融衍生品的计算机程序员,以及写出下一个伟大的交易 算法并不感兴趣。所以毕业后的夏天到纽约和女友会和时,他原本打算秋季开始 攻读纽约大学的数学博士学位。为了打发时间和赚点钱,他才在贝尔斯登找了一 份实习的工作。

紧接着发生了在华尔街已经上演过很多次的事情,一块小小的金币带来了更多的财富。哈默巴赫尔放弃了攻读博士学位的计划,与贝尔斯登签订了全职合同。他发觉自己身处贝尔心脏地带,在这里抵押贷款量化机器不知疲倦地进行着算法运算和数据处理。这颗心脏为贝尔在房地产市场的无数员工开展工作提供了支持。整个华尔街都因房地产市场的繁荣得到了难以想象的巨额利润。贝尔也满心热忱地抓住机会,雇用了一小批程序开发工程师和数学专家研究模型,而这些模型在绝大多数时候都支持从经纪人、银行和中间商手中多买进抵押贷款(现在我们已经意识到这个观点十分愚蠢)。贝尔买下的抵押贷款曾被切割成小块,注入华尔街版的伪劣产品,再被包装得不露一丝破绽,然后轻轻松松兜售给养老基金、外资银行和不知情的百万富翁、亿万富翁。这在格雷戈里·祖克曼所著的《史上最伟大的交易》以及迈克尔·刘易斯所著的《大空头》中都有详细记录。

哈默巴赫尔加入到贝尔研究抵押贷款的数量分析专家队伍中,并通过随机微积分、回归模型以及动态算法帮助贝尔公司运算出如何规避房地产市场中的风险。然而,在短短九个月后,哈默巴赫尔就厌倦了这个游戏,于2006年辞职。这个做法颇具先见之明。一年后,贝尔逐渐显出颓势,它的一对对冲基金深陷次级抵押房贷市场,濒临破产边缘。贝尔在哈默巴赫尔辞职仅两年后就消失了,其资产以清仓价甩卖给了靡根。

做的数学和编程工作、大量的抵押贷款证券被买进(现在我们已经知道这样做很 不明智)。哈默巴赫尔不愿在这上面浪费时间、就像他最终没有选择去学术界深造 一样。

哈默巴赫尔选择离开还有一个原因,那就是根据当时贝尔的数据分析部门所

2006年春天,马克·扎克伯格通过哈佛一个朋友的介绍找到了哈默巴赫尔, 圈内人都知道他数学能力极强。—周后,哈默巴赫尔搬到了加利福尼亚,成为 Facebook的早期员工——最初的100位员工之一。扎克伯格还给了他一个漂亮的头 衔:研究科学家。哈默巴赫尔的工作就是用数学和算法分析不同年龄、性别、地 理位置和收入的人使用Facebook的方式,以及为什么Facebook在某些地方发展得 很好, 而在另一些地方却遭到惨败。专栏作家阿什利·万斯在《彭博商业周刊》 中详尽描述了这一任务。哈默巴赫尔被塑造成了Facebook的数据国王。

扎克伯格选择哈默巴赫尔是因为公司急需着手处理快要超过其存储容量可以 负荷的成堆的数据。这个刚刚起步的公司明白数据的价值,但却不知道如何处理 这些数据。而华尔街早就(近20年)知道如何处理海量数据了:存储、分类、分 割,寻找可以用来谋利的模式、异常和趋势。

但华尔街任何一个数据处理高手都从未遇到过哈默巴赫尔在西海岸面对的庞 大数据。Facebook的原始数据堆积成山、让纽约证券交易所的大数据中心和它的 高频交易公司看起来显得小巧精致。Facebook拥有近十亿用户,针对其中的每一 位都要存储1000页数据,包括电脑型号、政治观点、恋爱关系、宗教信仰、最 新地址、信用卡信息、工作情况、常用链接、家庭成员,还有最占空间的照片。© 这还不包括我们的浏览习惯或Facebook上大量的广告版块。

(1) Matthew Humphries, "Facebook Stores up to 800 Pages of Personal Data Per User Account", Geck.com, September 28, 2011, http://www.geek.com/articles/geek-pick/facebook-stores-up-to-800-pages-of-personaldata-per-user-account-20110928/.

Facebook的第一个数据中心位于俄勒冈州的普赖恩维尔县,它服务的用户每天的上线时间加起来超过100亿分钟,每秒上传的照片多达150万张,每天产生的数据量有30太字节(30 TB)。Facebook在北卡罗来纳州也有两座巨型数据中心,另外还有一座也已经开始动工,这是Facebook在美国境外修建的第一座数据中心,位于靠近北极圈的瑞典城镇吕勒奥。极寒的天气有助于冷却上万台计算机处理器,降低能耗费用。这三座计划于2014年启用的数据中心,其占地面积相当于16个足球场。哈默巴赫尔,这个曾经的华尔街数量分析机器中的小人物,将要来征服整个世界。

哈默巴赫尔把在华尔街所学到的一切都带进了Facebook的硅谷办公室。他组建了一支人才济济的队伍,这支队伍由像他一样经验丰富,技能高超的人组成。有些人是从摩根士丹利、骑士交易集团、高盛等有金字招牌的华尔街公司挖过来的,他们厌倦了华尔街。Facebook需要知道怎样最佳化页面排版,怎样把人们联系在一起,最重要的是怎样让人们的在线时间更长。"我在那里回答这些高层次的问题,而当时他们没有任何可以做这件事的工具。"在谈到当时的招聘时,哈默巴赫尔这样说。©

哈默巴赫尔构建了工具和算法来监控每小时源源不断涌入Facebook的难以想象的海量数据。Facebook对上网的人来说之所以有那么强的"黏性",那么的不可抗拒,部分是因为哈默巴赫尔构建了跟踪用户鼠标点击的系统,系统记录下用户的光标会在什么地方停下,什么样的页面排版吸引的人最多,占用的时间最长。所有的鼠标点击、页面停留、光标游走信息都会经过过滤筛选,仔细调查。最吸引人的东西会被保留下来,其他的被扔进数字垃圾箱。

① Ashlee Vance, "This Tech Bubble Is Different", Bloomberg Businessweek, April 14, 2011.

Facebook称它的一半用户每天至少登录一次。除了电子邮件平台没有其他网 站敢如此宣称。事实证明这家社交网站是如此让人上瘾,以至于有一种以充满蓝 色液体的透明注射器装饰上白色Facebook商标为特征的文化基因在开始在网上流 传(因为Fackbook的图标是蓝底白字)。也许再没有比这更好的比喻来形容现在可 联网公司的热潮以及它们的出色能力——让如此多的人花费如此多的时间。有了 **这将近十亿人次的被俘虏受众,就能更便利的、更有针对性的根据受众群体的性** 别、收入、地理位置及更多因素来打广告、获利自然更加丰厚。

Facebook能把用户的避好、关系网、愿望以及兴趣爱好提供给其潜在客户。 大多数网站提供给广告客户的是一根钝棒,而Facebook给他们的却是一把外科医 生的手术刀。精准的广告投放已经成为了Facebook的业务发动机——然而、从另 一面来看, 这可能也是导致像哈默巴赫尔这样的华尔街数量分析专家离开的原因。 哈默巴赫尔西迁不是因为缺钱或缺名利地位,而是因为觉得空虚无聊,觉得自己 得去做一些更重要的事。他全然投入连接全球的Facebook理念。但在他眼中,即 便是这项工作也正在变得越来越不重要。因为很多最聪明的科技界同仁将大部分 时间都花在了设法让人去点击互联网广告上、哈默巴赫尔为此感到痛惜。

在Facebook待了两年后、哈默巴赫尔离开了。如果我们假定扎克伯格的公司 对员工福利政策采用的是硅谷业界标准——这是一个可靠的假设,那么哈默巴赫 尔若想取得其既得权的全部金额,就必须在公司待够四年。也就是说他离开的时 候只得到了当初作为早期员工签约时Facebook分给他的股权的一半。所以辞职一 举很可能让哈默巴赫尔丢掉了他本该得到的数千万美元。 他自嘲道:"这是毁灭财 产的恶劣行为。" $^{\circ}$ 

哈默巴赫尔曾经整理过全球最大的用户库数据,他的计算机和数学才能是大

Deter Cohan, "Head in the Cloud", Hemispheres, November 2011.

家公认的。离开Facebook后,他很轻松就成了硅谷风投行业翘楚阿塞尔伙伴公司的入驻企业家,阿塞尔伙伴也是Facebook的早期投资者。但是哈默巴赫尔一个月后就离开了风投领域。

在Facebook时,哈默巴赫尔已经积累了一定的财富和远见。他退回来审视科技界,思考到底什么才能真正地改变世界。他意识到,答案就是一种挖掘海量数据(由数字化和计算机化的世界产生)的通用铁铲。哈默巴赫尔想要帮助网站、公共事业公司、生物学研究人员和医疗服务人员分类整理并从容解决棘手的大数据问题。领悟到这个答案后不久,他就建立了Cloudera。他想让自己的平台适用于癌症研究人员,就像可以帮助游戏开发商决定为用户提供多少个"买入"按钮那样。硅谷知道他在做大事,哈默巴赫尔和其他Cloudera的共同创办人筹集到了7600万美元的风险资金,这对如此年轻的一家软件公司来说数额巨大。

哈默巴赫尔是从曼哈顿下城区迁移到硅谷,并把华尔街式数据处理注入我们 日常生活的华尔街老手之一。投资银行和交易公司学会把自己的数据矿藏打造成 抵御竞争的壁垒,而如今这样的防御工事在硅谷也建立起来了。"Facebook掌握的 关于你的点击流的信息比它掌握的你朋友的照片还多,"红鳍的首席执行官格 伦·科尔曼说,"已经形成规模的网站正在学习如何保障其优势地位,因为他们 有能够用来优化系统的数据。"

开发了风靡全球的开心农场游戏的社交游戏公司星佳(Zynga)2007年由马克·平卡斯创立。凭借开心农场,星佳已经成为价值200亿美元,拥有超过两亿用户的公司。 $^{\Phi}$ 

星佳有非常密集而详尽的数据栈,已经掌握了如何更好地吸引不同类型的容户并让他们甘愿掏腰包。公司每天收集600亿个数据点,知道对待哪些玩家最好先

① Stu Woo and Raice Shayndi, "EA Invades Zynga's Turf", Wall Street Journal, November 2, 2011.

用10分钟的免费游戏让他上瘾,再让他刷信用卡;哪些玩家会感觉非得买入昂贵 的虚拟附件不可,比如漂亮的拖拉机、谷仓和畜群。整件事听起来有点荒唐,但 星佳的销售额和它的数据库就是最好的证据。红鳍的首席执行官科尔曼准备在红 鳍也做同样的事,让大部分通过网站(包括不按业绩提成的经纪人)的购房流程 更加便利、而不需依靠现实生活中以卖出为唯一动机而不在乎交易好坏的房地产 经纪人。Netflix花了数百万美元改善为用户推荐可能喜欢看的影片的算法。科尔 曼指出与排列影响购房行为的因素比起来,排列决定人对电影的喜好程度的因素 简直是小菜一碟。"如果你看了一部糟糕的电影,你只不过毁了一个星期五晚上," 他说,"但如果买错了房,你的一生都会受到影响。"

2012年年初,科尔曼成功聘请到五位来自常春藤联盟的宽客兼电脑高手加入 西雅图的红鳍。其中有两位曾就职于世界上最大的对冲基金桥水联合基金 (Bridge-water)。拒绝在那工作可不是谁都能做到的,因为只要在桥水联合基金工 作几年, 你就有很大的机会成为百万富翁。可能唯一称得上比这更疯狂的事就是 拒绝文艺复兴科技公司(Renaissance Technologies)提供的岗位。这家位于长岛的 交易机构有很多高水平的工程学和物理学博士, 仰慕者称之为"世界顶尖物理学 院"。但是在Y Combinator——家不断吸引着计算机精英人才加入的非常成功的 投资公司,它只关注最早期的创业团队并为它们提供"种子基金",被称为初创 企业的加速器——我遇到了伊格纳西奥·泰勒。泰勒成绩斐然,他是我所知道的 唯一一个拒绝了文艺复兴科技公司的人。他曾是斯坦福大学计算机科学系的一名 博士研究生,通过面试获得文艺复兴科技的工作机会。在这之前,他曾为谷歌机 器翻译统计研究。泰勒谢绝了对冲基金公司的钱,在即将完成博士学位时成立了 ReadyForZero,这家公司的网站使用计算机程序指导用户更快还清债务,每个月 网站程序会基于利率、余额、过往消费行为等因素帮用户计算应该先偿还哪几笔 债务。

文艺复兴科技是金融界数量分析精英人才最为集中的地方,事实上能在这个公司工作几年,收入肯定有几百万,甚至几千万美元。只有公司员工才能购买文艺复兴的"大奖章基金"。大奖章自20世纪90年代初期成立以来,投资回报率增长了30%,用基金创始人吉姆·西蒙斯的话来说,它使用算法交易数百万股"任何有价格波动的事物"。依照它一直以来的发展速度,大奖章仅用20年就能将10万美元变成2000万美元。当绝顶聪明、精于计算的人才开始拒绝文艺复兴的财富,转而投向成果未知的硅谷时,人们心中的天平已经偏离了华尔街。

"过去哈佛或耶鲁的学生大多想成为金融巨头,"科尔曼说,"但是,现在每个人都想成为下一个扎克伯格。"

# 华尔街带来的伤害

如果没有硅谷和硅谷的软件程序,我们的经济会怎样发展?尽管2008~2011 年的经济形势看起来已经很糟糕,要是没有硅谷源源不断的一系列发明创造,情况还会更糟。如果华尔街没有大规模吸收我们国家的技术人才资源及其构建的算法那么长时间,我们现在的境况可能要好得多。

考夫曼基金会2011年的一项调查表明20世纪80年代、20世纪90年代和21世纪初理工科毕业生创业率下降与金融业的迅猛发展密切相关。实际上,自20世纪80年代初华尔街开始以最快速度扩张其技术人才库,有经验的工程师的创业率下降了60%以上。©

Paul Kedrosky and Dane Stangler, Financialization and Its Entrepreneurial Consequences, Kauffman Foundation Research Series, March 2011, http://www.kauffman.org/uploadedfiles/financialization\_report\_3-23-11.pdf.

研究报告作者保罗,科德罗斯基和戴恩,斯坦格勒这样写道,

过去, 金融服务业认为招聘求知欲强的高中和大学毕业生, 为他们 提供销售、交易、市场调研和投行业务相关岗位的上岗培训是一件非常 值得骄傲的事。现在、这种做法虽然不再如当初那样盛行、但仍延续了 下来,不同之处在于业界绝大部分利润来源于复杂产品的开发、销售和 交易,如在最近一次金融危机中起到核心作用的债务抵押债券。这些新 产品的研发需要大量的金融工程。通常需要邀请科学、工程学、数学和 物理学的硕士或博士毕业生来做这项工作。他们所具有的天赋才干特别 适合设计复杂金融工具。而其得到的回报是比在自己的学科领域找个能 带来实实在在社会效益的工作高五倍以上的起薪。

两位作者指出、世界上最重要的发明通常并非来自通用电气和微软公司。它 们来自专注于某一领域的企业家,而这种专注程度是大公司无法具备的。绝大多 数大公司认为提高已有产品和既定流程的效率是最值得花时间做的事。如果利润 额为1000亿美元的公司效率提高了5%,那么净收益也就轻轻松松增加了50亿美 元:几乎没有一件新产品能达到同样的效果。因此,大公司易落入管理过度、创 新不足的窠臼。这也就是为什么初创公司如此重要。

"初创公司以更便官、更有效率的方式专攻复杂难题——这是规模更大、制度 更成熟的公司不会考虑的,"科德罗斯基这样写道,"对于需要企业家精神的前沿 领域,科学家和工程师是创办或加入新公司的必不可少的力量。"

令人欣慰的是、越来越多像伊格纳西奥・泰勒和杰弗里・哈默巴赫尔这样的 人,正在加人创新性公司,而且这一趋势将会延续下去。考夫曼基金会调查报告 的作者这样写道:"我们现在需要企业家引入能够帮助我们解决有史以来最棘手、 最复杂的一些社会问题的产品和服务,再没有比现在更有利的变革时机了。"

硅谷向来都是初创科技公司的核心地带,波士顿、西雅图等城市紧随其后。 而纽约在这方面长期以来慢半拍,但2008年金融危机爆发后,它奋起直追,争做 第二大科技创业地带。"这是让人难以置信的转变,但并非偶然,"瓦德瓦说。"这 与2008年的金融大崩盘有很大关系,"他解释道,"突然之间到处都是没有东家的 科技人才,还有通常会在毕业后搬到纽约,为华尔街效力的应届工程师。他们仍 然还会来,但不是来为投资银行工作的。"

我问弗雷德·威尔逊(联合广场风投合伙人及纽约最负盛名的风险投资家) 是否认为2008年华尔街的崩溃直接点燃了纽约的创业热潮。他认为除此之外,还 有其他原因。"创业生态系统需要很长时间的孕育期,"他说,"现在正在发生的事 的种子是在1995年到1999年播下的。"

两种假设都有其牢固的现实依据。威尔逊及纽约其他风投资本家们有权让人们知道,是他们在科技行业还未成熟时推动了其在纽约的发展。没有他们,我们现在所说的一切都不会发生。当然,这话也不会冒犯成于上万受过精英教育、热情高涨的工程师们,多亏了2008年的华尔街之灾他们才得以进入科技界。

2011年的占领华尔街运动使金融界的名声一落千丈, 瓦德瓦认为这是一件好事。红鳍的科尔曼也赞成这个观点, 说他过去招聘的好多从常春藤联盟院校毕业的理工科学生都厌倦了华尔街。

"在本科生的工程学课堂上,可以很明显地感觉到一股对投行的抵触情绪," 瓦德瓦说。但他仍然担心华尔街有能力卷土重来,因为他有很多学生毕业之际都 背负着六位数的债务,得想办法还清。为了解决这个难题,瓦德瓦提议为工程学 学生设立教育基金。只要取得一所美国大学的工程学学位,你的债务就一笔勾销 了。但这位教授还想在这项提议上添加一些注意事项:如果该生毕业后去了华尔 街或进入金融界,那么这名工程师仍然要偿还债务。那些真正进入工程行业或是 尝试自己创业的学生的债务才能被免除。"你得让美国的精英人才自动争取这些奖 学金。"他解释说。

不管国家为不为他们的教育买单,应届毕业生的编程技能都在不断提升。这 意味着我们的生活将会存在更多的算法、更多的自动化以及更多的改变。

# **美**第10章 处

# 未来属于算法和它们的创造者

**月月** 友之间总是有等级排序的。等级最高的是那些能左右其他人观点,具有影响力的人,等级较低的则是追随者。在工作或家庭环境中亦是如此。有人发号施令,有人听从命令。每个人在某种程度上都懂这个道理,而且绝大多数人都对自己适合的角色有一定的认识。但这种认识很可能与事实不符。你也许感觉自己是个领导者,但实际上你是个听差的。你的朋友们知道这一点,而你并没有意识到。有些人凭借他们的地位、金钱、长相或是仅仅凭其知名度飘到了等级秩序的最上层。这些人是社会上真正有影响力的人。有时候你甚至一眼就能看出谁是这样的人。但通常没那么明显。

不过有一些方法可以帮助我们看出来。例如,一个人的说话方式就能透露出他所处的权势等级。影响者很少改变他们的言语模式。而被影响的人经常调整其说话方式以靠近影响者的风格。诸如电子邮件等书面交流也同此理。言语暴露了一个人有无影响力或影响力的大小。决定风格的人处于等级秩序的最上层。而按照他人的风格打造自己语言的人等级则较低。更确切地说,通过观察一个人如何

使用冠词、助动词、连词,以及高频副词。就可以判断出他所处的等级。 4 不管 是演讲还是聊天、语法词汇的使用都能彰显我们的风格。

康奈尔大学的计算机科学系教授乔恩·克莱因伯格编写了一套算法, 这套算 法在我们的只言片语间寻找线索,分辨谁是真正的影响者,谁具有左右舆论、引 领潮流、引人注目的本领。这些人能决定选举结果,也能推动新产品面市。算法 监听人们的谈话、辨明谁是掌控局面的人、以及其他人分别处在哪一等级。它也 能很好地分析业务往来的电子邮件内容。想象一下要是算法窃取了谷歌或雅虎邮 箱,通用电气或高盛的电邮服务器上的所有往来通信会发生什么样的事情。影响 者马上会被辨认出来。一旦掌握了谁是真正的影响者,公司就能有针对性地开展 营销活动。在网上、针对有影响力的人制定的横幅和文字广告要比普通广告贵很 多,而这些高端广告的受众对此并不知情。企图推销产品的公司可以用所谓的浏· 览器cookies跟踪目标受众的浏览行为、密切关注基动向、从而有针对性地打广告。 这些人是通往其他人内心和思想的一扇门、营销界深谙此道。随着大范围自动识 别等级秩序中上层人物的算法出现,在政界、管理界以及市场营销界,更多有针 对性的新方法将会应运而生。

谷歌算法PageRank以共同创始人拉里·佩奇 (Larry Page ) 的名字命名,它根 据页面超链接的重要性对页面进行等级排列,用户搜索关键词时会被算法带入到 有较高等级的权威页面。重要的网站被称为中心站点或具有影响力的站点。对于 经常被此类站点链接到的页面,谷歌会优先把它排列到搜索结果里。例如,如果 这些有影响力的站点一致认为某一机票搜索引擎是最好用的,且都把它设置为一 个超链接、那么这个订票网站很可能一跃成为谷歌搜索结果中的第一名。同样, 当用户输入想要查询的信息时,谷歌算法通过查看权威网站的超链接,也能迅速

(1) &quot;Algorithm Measures Human Pecking Order", MIT Technology Review, December 21, 2011, http://www. technologyreview.com/blog/arxiv/27437/.

决定为其呈现出哪些搜索结果。人的影响力排列也是运用类似的原理。克莱因伯格早在着手设计个人影响力排序算法以前就编写了一套具有革新意义的网页搜索 算法,那是他20世纪90年代在IBM研究院的成果。这套算法通过互联网搜索,来发现中心站点和权威站点,它的研究工作启发了谷歌PageRank算法的诞生。

但是把这种算法运用到日常生活中可能还是有点恐怖。要是Facebook任由它在整个网站上运行,根据每个人在其几百人的朋友圈中的相对影响力对其进行等级排序会是怎样一番境况?要是公司选拔经理不以任人唯才、论功行赏为标准,反而是看谁已经掌控了谁,那将会发生什么事?不管是经由算法还是人之口舌,有些事情还是不说为好。但是此类社会等级的定量评估无疑已来到我们身边。克莱因伯格研发出这种算法后,数十家公司可能都相继跟了风。营销机构、广告商,随便哪个人只要取悦了最有影响力的人物,就有大把大把的钱可以赚。未来,我们还将要面对算法带来的各种各样、严谨缜密、毫无人情的计算。社会等级排序仅仅只是一个开始。

# 条条大道……

如果你留心算法的动态,就会发现算法已经掌控了你的货币市场基金、股票还有退休金账户。它们很快也会掌控你的电话会连线到谁,什么样的音乐能到达你的无线电台,你获得器官移植的救命机会有多大;对数百万人来说,算法还能帮助他们做出人生最重要的决定;选择伴侣。不过,算法还不会开车。

或者它们会开? 2011年夏天我搬到加利福尼亚后,经常穿行于硅谷85号公路和280号州际公路。每周至少一次,我都会在路上看见几辆造型怪异的丰田普锐斯,车顶装有一个旋转着的大东西。车里至少有一人,但他(通常是男性)并没有把

手放在方向盘上,对我们的嘘声或疑问也不屑一顾。原来这些车是谷歌的。驾驶员不是人,而是算法。车顶上旋转的是一个雷射测距仪。2011年,这种无人驾驶的普锐斯有七辆运行在路上,车上的运动GPS接收器、摄像机、角度测量仪、内部运动传感器还有四个雷达全都跟一个主程序相连,这个主程序决定车辆以什么速度行驶,什么时候转弯,什么时候停止运行。所有这些程序——多个雷达、摄像机、还有GPS在一起运行时,会产生能确保汽车安全运行的信息冗余。如果主程序收到的某一个信息与其他信息源提供的大相径庭,为避免车辆突然急刹车或急转弯,它会把此异类信息忽略掉,因为可能是车上某个雷达被俯冲下来的一群鸟给骗了。

谷歌的无人驾驶汽车安全行驶距离已达22.5万公里。2011年8月,谷歌无人驾驶汽车发生的一起车祸被广为报道,但该车祸系驾驶员手动驾驶造成的。谷歌表示它的使命是:减少汽车尾气排放量(通过计算机程序控制汽车比通过踩油门更平稳流畅),把道路容车量提高一倍(遇到麻烦时计算机程序需要的反应时间比人类短,所以车与车之间可以靠得更近),把每年120万起交通死亡事故减少一半。人为失误是导致美国每年33 000起交通死亡事故的最主要原因,如果算法充当了驾驶员,将可以避免此类事故。

以前,人类是所有重要问题的决策者;而今,算法与人类共同扮演这一角色。 在世界转型之际,智力超群的人才的价值也在与日俱增。通过计算机软件和代码, 他们的影响力被扩大,其对社会的潜在价值也成倍增加。这些人正在改变人类的 生活,把从开车到股票交易再到公司人员配置等一系列重大决策权,从人手中移 交到算法手中。

# 两个海岸的故事

虽然前景难料,一批宽客(quant)大军还是放弃了华尔街丰厚稳定的收入投身人才济济的硅谷,杰弗里·哈默巴赫就是其中一个关键性人物。他标志着这两个领域的不同。在华尔街,他需要利用计算机程序和算法组合包装次级贷款,再将其兜售给毫不知情的德国银行,德国银行最终不得不贱卖债务(真是非常抱歉),或是促进股票市场快速交易,虽然这确实是造福了广大散户,使其享受到了更低廉的交易成本,但他们也不得不承受更高的市场波动率以及股市大动荡的潜在威胁。在硅谷,利用相似的智慧和科技,他可以开发出让普通人每天娱乐15分钟的游戏。而且,来自硅谷的最佳产品总是能够使大多数人受益,例如,帮助你与亲朋好友建立更紧密的联系,追溯你的家族起源,教你的女儿学习微积分,或是级和你和健康保险公司的关系。这是哈默巴赫当初投身硅谷时看到的情景,也是他建立Cloudera的原因。

如果你问哈默巴赫他自己最看好用算法改造哪一领域,他会告诉你:"医疗诊断。"显然医生们要小心了,需要万分警惕,因为我们这一代最聪明的人——像哈默巴赫这样的人——正试图攻占他们的领域。医疗业务、检验结果和并发症比率正在被世界上最杰出的工程师构造的算法详细检查,一切的一切在算法坚定的目光下无所遁形。目标范围也越来越大。虽然医生这一职业不会消失,但如果想在未来保住饭碗,医生们需要想办法让自己与众不同。因为一般医生所能做的简单重复的工作,计算机程序都能取而代之。

让多数人高兴,少数人苦恼的是,律师这一行业也很容易受到算法的人侵。 任何一宗大型诉讼案件最耗钱的环节就是卷宗分析——收集、研究所有与案件相 关的文档。而公司法的法律条文和涉及合同纠纷的诉讼案件通常都有数百万页文 档需专人研读分析。虽然阅读这些文档的通常都是律师助理或初级律师,但客户 要为这项服务支付的费用仍然高达每人每小时100美元或200美元,而这项工作本 质上就是用眼睛服务。不过眼睛可以用计算机硬件来代替,控制眼睛的大脑则可 以用算法来代替。在帕洛阿尔托市、有一家叫黑石探索的科技公司、正在利用算 决取代人类为客户提供法律分析服务。篡法的工作效率不亚于人类律师,严密程 度更是胜人一筹。而且、算法也更便宜。过去、研读分析120万页法律文档至少要 向客户收取500万美元,而今只需10万美元。◎ 这也许就是为什么2012年美国通过 律师资格考试的人大概有54000人,而市场能提供给他们的工作机会却只有26000 个。对于这个国家千千万万没找到工作的律师来说这绝非好消息——噢, 真抱歉, 我们把那份工作交给算法了。第法不需要健康保险,也不需要事务所承诺它某天 可以成为合伙人。

医生、律师、精神病医师、卡车司机、音乐家——我们到底会因算法失去多 少工作? 这对我们的经济会产生多大的影响? 麻省理工学院的两位经济学家埃里 克·布林约夫森和安德鲁·麦卡菲在—篇具有里程碑意义的论文中写道:"简而言 之,很多工人在这场比赛中输给了机器。" ② 麻省理工这两位专家提醒普通的工人 和白领会计们做好被替换掉的准备。

其实,学界早有此类预测。早在20世纪二三十年代机器开始接管制造业生产 任务时,凯恩斯就为我们敲响了"新疾病"的警钟,他称之为"技术性失业",其 成因是自动化导致工作机会消失。 3 凯恩斯的警示没有成为现实,当时人们认为 其太过夸张,根本就没当回事。但凯恩斯的理论很可能早说了90年。据布林约夫 森和麦卡菲称,自2009年6月经济衰退告一段落以来,大公司在科技与软件上的投

D John Markoff, "Armies of Expensive Lawyers, Replaced by Cheaper Software", New York Times, March 4,

② Eric Brynjolfsson and Andrew McAfee, Race against the Machine (Digital Frontier Press c-book, 2011).

3 Steve Lohr, "More Jobs Predicted for Machines, Not People", New York Times, October 23, 2011.

入增加了26%,而其付给员工的薪水却丝毫没有增加。2011年,标准普尔500指数挂钩产业创下一万亿利润的纪录,这样的成绩就是在人员并未增加多少的情况下取得的。

作家也难独善其身。在我的家乡伊利诺伊州埃文斯顿,有一家故事科学公司(Narrative Science)已经为其开发的计算机程序募集到了600万美元的风险投资,这套程序可以把原始紧材编成风格突出、语法正确、构思巧妙的新闻故事。美国一家体育网站Big Ten Network在比赛结束后一分钟内就能发表比赛新闻稿,用的也是这种技术。Big Ten Network的算法摄入了全场技术统计,辨识哪些时刻发生了影响局势的重要事件,然后用记者的手法围绕这些关键时刻编写新闻稿。算法甚至知道用比赛的哪一个环节当"开场白"是最好的。以下是威斯康辛大学和内华达大学两队的橄榄球比赛第三节结束后,算法在几秒钟内生成的新闻稿,稿件开头如下:"威斯康辛队驾驭全场,气势难挡,第三节结束后以51:10领先。第三节比赛中,拉塞尔·威尔逊找到雅各布·佩德森完成了关键性的8码触地得分球,将比分改写成44:3,威斯康辛队的领先优势进一步扩大……"60

我们从中能学到什么?和计算机程序熟络起来成为朋友吧。当下这个经济时代,最不可缺少的就是能构建、维护、完善代码和算法的人才,未来亦是如此。 随便什么时候去到硅谷你总能听到大大小小的科技公司抱怨好工程师难求的 声音。

在美国,有编程技能的工程师都找到了工作,这才是我们把工程任务外包给印度、巴西及东欧国家的真正原因。如果国内有更多合格的科学、数学和工程学专业学生,我们的经济体也能产生足够的岗位满足他们的工作需求,而且这些岗位也不太可能流失到国外。然而令人懊恼的是,每年都有40%的准工程学学生转

① Steve Lohr, "In Case You Wondered, a Real Human Wrote This Column", New York Times, September 10, 2011.

系,通常转到对数学要求没那么高的专业。如果你觉得这是老生常谈,的确如此。 2011年,奥巴马总统倡议每年增加一万名工程学毕业生,这的确是一个令人钦佩 的目标。①我们也确实取得了一些进展。如今,使越来越多的高中生对数学和科 学产生兴趣已不是问题,美国很多学校在这方面都取得了成功。

用伊利诺伊大学香槟分校名誉教授大卫・哥德伯格的话来说,问题在于孩子 们通常是一进入大学就陷入"理工科目的死亡之旅"。孩子们连续三个学期的课程 表里挤满了化学、物理学、数学还有计算机科学课。在哥德伯格博士所在的学校 还开办了一系列理论与应用力学(TAM)的课程。我自己也曾经历过哥德伯格博 士的严厉考验,我可以证明,相比学习科目更交叉,更有共通性的文科生、工程 学学生经常被他们繁重的课业和刁难的考试题搞得夜不能寐。这么说来,修完四 年工程学课程靠的不是天赋才干;只需要比别人多付出点时间,高中时候把高等 数学和自然科学基础打好就行了。

遗憾的是,上大学前就把高等数学基础打好的美国孩子还不够。包括文艺复 兴科技公司创始人吉姆・西蒙在内的某些人提议说为即将到来的算法时代做好准 备,应该多招些算法人才去学校任教。只有你自己懂的东西,你才能教会别人。 然而教学不是—件容易的事情。—个谷歌工程师掌握的很多技能都没办法传递给 一群不守规矩的16岁孩子。我们应该寻找那些能够在两个领域里来去自如的特殊 人才——既能游刃有余地编写算法代码,又能很好地将高中生培养成下一代人才。 虽然找到此类能让学生对复杂的新兴学科感兴趣的技术人才并非易事,但每每找 到一个这样的人进入教育界(即便这需要更多的教育经费投入),对社会和学牛都 会有巨大好处。

那这是否意味我们应再添加一个胜利的砝码——学校,从而培养出更多的优

(1) Christopher Drew, "Why Science Majors Change Their Minds (It's Just So Darn Hard)," New York Times. November 4, 2011.

秀量化人才?的确有这样的需要。这也是可行的:很多人有成为量化人才的潜力,只是没有机会尝试。我们不缺聪明人,缺的是有数量分析教育背景的聪明人。我们只需要为他们提供更多的学习平台。美国每所中学都应要求学生至少学习一门编程课。虽然大部分学生都会止步于此,然后投身其他领域。但即便只有5%的学生从此迷上了构造自己的程序和算法,这也会为我们的教育和经济提供新的发展动力。想想有多少学生从来没想过进入编程或数量分析领域。对他们来说,数学只是死记硬背、生搬硬套来应付考试的机械技能;他们从来没有看到数学的另外一面——改变世界。或者,当他们终于意识到这一点时,却已然处在前往另一领域的人生轨道上,这很可能发生在大学期间。编程和计算机科学课程不应该专属于一小群特定的学生——这是一项技能,21世纪最重要的一项技能。所有的学生都应该有机会学习这项技能。

医疗保健和科学技术将会是未来50年经济发展的两大引擎。前者是美国医疗系统根基不稳与人口老龄化危机的结果。而后者,不论经济形势好坏,都能为人们提供工作机会,无论其背景如何,只要掌握了技术。对于少数敢冒风险,开拓进取的人,凭着编写创新算法的本领,更是能打开创业与创新之门。这道门为任何有志之士敞开。但是能在数学和科学类考试中取得高分的人,不一定就是技术奇才。成为技术奇才在于实践,在于花时间研究流程。

未来,会编写代码的人有许多事情可以做。如果你还能构思并构造出复杂精妙的算法,那就更好了——你很有可能统治世界,如果没有机器人抢在你前头的话。

# 业 致 谢 业

写一本书,从下笔之时到完成之际,个中曲折,实属不易。每个消息来源,每位顾问,甚至每位编辑都一一浮现在我的脑海,然后逐渐淡出。月复一月,两年来改变的东西太多。当然,写书的人没有变,正如我的代理人也没有变,Launch Books 出版社的大卫·福格特始终是我最坚定的支持者和最信赖的顾问。和大卫在网上的偶然邂逅(那还是一年多以前我着手写第一本书的时候)改变了我的职业生涯。虽然这已是我的第二本书,但对于图书出版,我还是个菜鸟。而我这个菜鸟之所以顺利出了两本书,全靠大卫的帮助。

不少人早在本书面市之前就细细研读过其内容,在这里我首先要感谢我的编辑,企鹅出版集团的妮基·帕帕多普洛斯。妮基最开始不是本书的编辑,所以她也不知道自己将参与出版怎样的一本书。然而我很幸运遇到妮基这样一位优秀的编辑。她很快帮我理清了本书的叙事主线,剔除多余的文字,揣摩可以改进的地方。因为她的工作,本书的终稿远比原稿更能打动人心。

我的妻子莎拉也不止一次读过书中的每一个字,删去了每一页令人尴尬的陈词滥调、语法错误,以及无意义的分句。生活就是这么巧,那么多私事、家事、公事常常会挤到同一时间发生。去年就是这样一段繁忙的日子。就在本书将要完

稿之际, 莎拉生下了一对双胞胎姐妹(嗨,帕克和马琳)。她看书的时候常常是腿上放着一个孩子,脚边还有一个,而我们的儿子(嗨,杰克)则在她身后抓着家具荡来荡去。待本书出版之际,莎拉会回到她的工作岗位上,也将继续做一位超级好妈妈。一路走来,很多时候我感觉快要坚持不下去时,是莎拉支撑我克服了写书的种种困难。她不仅是我的人生伴侣,也是我的工作伙伴。

马塞尔·帕卡特是我读西北大学时的教授。他传授的宝贵知识对得起我们的学费。直到现在,他还孜孜不倦地给了很多批评和建议。他早于其他任何人读了本书,他提出的真诚意见使原稿质量在每一环节都有所提高。

汤姆· 彭宁顿是我在工程学院的知己,也是跟我分享滑雪、做披萨和种种生活乐趣的好友。只因我一个电话他就在周末放下所有事来读我的书。他给予我的 反馈非常宝贵。

我的父亲加里和母亲珍妮特也读了本书原稿的部分章节,他们对我工作的热情支持永远散舞着我。父亲在读第2章以前就知道了其中的内容,他可能是为数不多的通晓算法历史的人之一。然而他衷心肯定了第2章的内容,这让我安心不少,我原本以为第2章会让人觉得枯燥。父亲还为我设计了我的新家,我感激万分,在此谢过。

我以前不认识兰迪·斯特罗斯,2011年5月才有幸结识。他是《纽约时报》科技专栏作家,还在圣何塞州立大学任教。他开始读这本书的早期版本时兴趣很大,给了我很多反馈,坦白直率,又非常有用。在读到他认为在各方面都错得离谱的一组词时,兰迪会在文本里插入一个词:UGH®。兰迪的"UGH"提高了本书质量,也让在坎坷的写作道路上硫硫碰碰的我今后能走得稍顺一些。

① UGH、意为"啊、呸"、表示压恶情绪的语气词。——译者注

托马斯·彼得菲为人很慷慨,他在康涅狄格州格林威治镇与我谈过十几个小时,也在电话中与我有过深度交流。面对我的问题,他总是直言不讳,知无不言。而他丰富多彩的人生经历也为大篇幅介绍美国股市的第1章注入了生命力。

Spread Networks 的创始人丹尼尔·斯皮维和大卫·巴士德甚少接受采访。我能通过本书在全国范围内传开他们的故事实属幸运。而且就在和我交流后的一周之后,与我有竞争关系的《华尔街日报》记者也致电联系他们,却没能得到任何信息。他们的故事,他们开展的工程项目简直叫人难以置信——也实在有趣。我很感激丹尼尔、大卫,还有大卫的父亲——绝对称得上是科技界一大传奇人物的吉姆·巴士德,感谢他们抽时间跟我讲述是怎样挖掘自己的秘密通信线路的。

远在新西兰的本·诺瓦克通过 Skype 给我讲了他的故事,这也是书中最有趣的的故事之一。麦克·麦卡克雷迪的科技让诺瓦克的音乐走红,克雷迪热情慷慨地给予了我大量紧材,包括他公司的历史,他自己的历史,其间穿插了不少发明创造的故事。

大卫·考普发明的算法能模仿巴赫的作曲风格,关于这项工作,他跟我谈了 几个小时。对于任何想知道如何走进计算机科学世界的门外汉来说,考普的故事 很有启发性。他是音乐家,也是学者,没有任何算法经验的他自学成才,成为人 工智能领域杰出的创造者。他的故事能自成一书。

杰森·布朗跟我谈论过他是如何破解了 40 年来不为人知的披头士之谜。他耐心地向我这个不懂音乐的人解释了和弦的构造,声音的科学,以及音乐背后的数学原理。我深表感谢。

布鲁斯·麦斯奇塔的笑容迷人,他很善于跟别人解释为什么他的博弈论系统能比人类更准确地预测其他人将来可能会做的事。就在接受我采访后,麦斯奇塔

出现在《科尔伯特报告》的一档令人捧腹大笑的节目中。我推荐你们看看这个节目,或者看看他的 TED 演讲以及他在《每日秀》中的表现。这些节目都不错,在谷歌上一搜就能找到。

卡内基梅隆大学的教授图奥马斯·桑德霍姆索有世界一流的博弈论算法创造者的美誉。他曾经创办过一个有一百多名员工的公司,后来他把公司卖掉了。现在他已经找到了更好的方法构建玩扑克的计算机程序,更重要的是,器官匹配的程序。他的工作可以救人性命。桑德霍姆日程繁忙,但他仍然多次抽时间与我详谈。

特里·罗古尼博士是我交谈过的最有趣的少数人之一。数十年来,他任美国国家航空航天局的首席心理学家,是宇航局的中坚力量。他曾深入敌后,被苏联突击队追杀。他也是约翰·格伦的密友。早在我们现在熟知的赭岩登山工具面市之前,他就曾与世界级的登山运动员一起攀爬过北美最险峻的高山。他对我们的大脑如何运行,我们如何通过言语暴露自己的性格和真实意图独具卓识。而他的深刻见解就是本书某一章节的基础内容,也是正在侵入人类所有交流媒介的新一类算法的理论基础。

哈吉斯·凯普斯对特里·麦古尼的看法与我一致,而凯普斯对此话题的观点 于我同样重要。他能通过我说的话很快分析出我的性格,对此我惊叹不已。而他 对我个人性格倾向的分析也相当准确。

凯莉·康威曾多次与我详谈,讲述他的公司(以前叫 eLoyalty,现在叫 Mattersight Corporation)如何构建给人类语言分类的算法。康威的公司现在仅专 注于此业务,它在纳斯达克上市,从其股票市值来看,经过早期的大风大浪后,公司现在发展得很好。康威凭靠自己的能力革新了一个领域,培养了极佳的沟通能力。我很感谢他抽时间与我详谈。

杜克大学教授威维克·瓦德瓦总是乐于谈论华尔街和硅谷之间的较量,他对人才争夺之战中的交战双方均有了解,他的观点可以自成一章。杰弗里·哈默巴赫不是唯一一个离开纽约转投旧金山海湾地区的工程师,但他是这场人才迁移潮中最重要的人之一。哈默巴赫是炙手可热的新创公司的创始人,谢谢他百忙之中抽时间与我交流。红鳍的首席执行长格伦·科尔曼也领导着一个热门新创公司,几年前我见到他时,他简明扼要几句话就让我坚定了写第一本书的想法。对于准确描绘硅谷的现状,他的思想起到了很大作用。

写这本书需要阅读很多研究型的书籍,而这些书(尤其是关于算法交易和金融领域)都比较昂贵。作为一个写作者,我喜欢随时随地买书,但要写华尔街算法,需要的很多卷资料凑在一起就是一百多美元。我运气不错,西北大学就在我住的镇上,那儿能找到我需要的每一本艰涩难懂的书籍。而且西北大学允许校友浏览其所有资源库,这样一来我就有了一间随时敞开大门的安静而又广阔的创作室。写到算法的历史这一章时,我发现自己找的资料都是已经绝版且不大好找的古老文献。好在这些资料西北大学都有,我也能随意翻看。图书管理员甚至免除了我借的好几本超期图书的高额滞纳金。谢谢你们。

从开始写这本书直至完成其大部分内容,我都在《福布斯》杂志工作。但完稿时我已经离开《福布斯》杂志,并创立了 Aisle50,专为用户提供食品杂货店团购信息的网站。这对我来说是一个不小的变化,也是我敞开心扉迎接的一个变化。一路上很多人帮助过我,尤其是 Y Combinator 的投资人及顾问保罗·格雷厄姆和杰西卡·利文斯通对我的帮助非常大。他们在硅谷创办的风投公司独树一帜,有趣的是,有一本书与本书同一时间由同一出版商发行,这本书是最全面的 Y Combinator编年史:兰迪·斯特罗斯所著的 The Launch Pad,值得一读。

对 Aisle50, 我的期望值很高, 因为我们有最好的销售和工程师团队。我们一

一战胜了曾面临的无数挑战。最重要的是,我很感激我的合伙人赖利·斯科特。除了爱人,世界上再没哪种关系比合伙人更亲密。我们连续数月每天在一起生活,一起工作 15 个小时,一起笑,甚至一起哭。赖利工作起来不知疲倦,他是个尽责的丈夫,慈爱的父亲,亦是能与人同甘共苦的好友——他就是我心中合伙人的不二人选。雄心壮志的赖利曾主动迎接很多挑战,也曾不得不经历让人痛苦万分的考验。面对坎坎坷坷人生路,曲曲折折事业梯,很少有人能如他一般坚韧不拔。他的坚强也一直鼓舞着我。

# ▲ 人名索引 ル

#### Α

阿贝 (Abe),147 阿布・阿卜杜拉・穆罕默徳・伊本・穆萨・花刺 子密 (Abu Abdullah Muhammad ibn Musa Al-Khwarizmi), 43 阿达· 洛英菜斯 (Ada Lovelace), 60 阿基米德 (Archimedes),52 阿伦・艾弗森 (Allen Iverson), 127 阿什・猛维斯 (Ash Howes), 65 埃德华多・萨瓦林 (Eduardo Saverin), 181 埃里克・布林约夫森 (Eric Brynjolfsson), 199 艾德·维兰德 (Ed Weiland), 127 艾尔·罗斯(Al Roth), 131, 133 艾舍尔(Escher).83 安德烈·米勒 (Andro Miller), 127 安德伯·马歇尔 (Andrew Marshall), 124 安徳鲁・麦卡菲 (Andrew P. McAfee), 199 安德魯・蒙塔伦提 (Andrew Montalenti), 183

В

奥萨马・本・拉登 (Osama bin Laden), 152

巴拉克·奥巴马 (Barack Obama),35 保罗·科德罗斯基 (Paul Kedrosky),191 保罗·麦卡特尼 (Paul McCartney),91

保罗·朱利斯·路透 (Paul Julius Reuter), 107 贝多芬(Beethoven), 75, 76, 82, 85 本・范・弗列特 (Ben Van Vliet), 101 本・诺瓦克 (Ben Novak), 64, 70, 73 本杰明·卡尼 (Benjamin Karney), 129 比尔·科斯比(Bill Cosby), 23 比尔·克林顿 (Bill Clinton), 159 比利·比思 (Billy Beane), 125 彼得・布朗 (Peter Brown)、162 彼得·穆勒 (Peter Muller), 113 彼得・帕哈姆 (Peter Parham), 145 庇护二世 (Pope Pius II),56 便士・哈达威 (Penny Hardaway), 127 勃拉姆斯 (Brahms), 63 布薬尔・赫尔(Blair Hull), 28,34 布莱士・帕斯卡 (Blaise Pascal), 47, 54 布兰妮(Britney), 75 布鲁斯·麦斯奇塔 (Bueno de Mesquita), 121 布伦特・詹姆斯 (Brent James), 142

С

查尔斯·巴贝奇 (Charles Babbage), 60 柴可夫斯基 (Tchaikovsky), 77

D

大卫 (David), 75, 102, 103, 113, 201

大卫·艾因福恩 (David Einhorn), 113 大卫·哥德伯格 (David Goldberg), 201 大卫·考普 (David Cope), 75 戴恩·斯坦格勒 (Dane Stangler), 191 戴维·伯林斯基 (David Berlinski), 48 丹·布朗 (Dan Brown), 45 丹尼尔·伯努利 (Daniel Bernoulli), 91 丹尼尔·丹尼特 (Daniel Dennett), 83 丹尼尔·斯皮维 (Daniel Spivey), 99 道格拉斯·郝夫斯台特 (Douglas Hofstadter), 83 多米尼克·戈安斯 (Dominic Gomez), 73

#### F

・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・

#### G

益伦・布克沃特 (Galen Buckwalter), 128 戈尔巴乔夫 (Gorbachev), 120 戈特弗里徳・薬布尼茨 (Gottfried Leibniz), 15, 45 哥徳尔 (Gödel), 83 格雷戈里・祖忠曼 (Gregory Zuckerman), 184 格伦・科尔曼 (Glenn Kelman), 175, 188

#### Н

哈吉斯·凯普斯 (Hedges Capers), 159 海伦·费希尔, 129 赫伯特·切斯 (Herbert Chase), 146 赫伯特·亚伦·窦普特曼 (Herbert A. Hauptman), 91 亨利·杰里克 (Henry Jarecki), 10 胡斯尼·穆巴拉克 (Hosni Mubarak), 124

J

加里·卡斯帕罗夫 (Gary Kasparov), 111, 125

杰尔姆・卡尔 (Jerome Karle),91 杰弗里・哈默巴赫尔 (Jeffrey Hammerbacher),183, 191 杰若・古柏曼 (Jerome Groopman),140 杰森・布朗 (Jason Brown),89

#### K

卡尔·弗里德里希·高斯(Carl Friedrich Gauss),50 卡尔·染格(Carl Jung),56 凯蒂·佩里(Katy Perry),75 凯利·康威(Kelly Conway),160 凯文·杜兰特(Kevin Durant),126 科比·布莱恩特(Kobe Bryant),127 克劳德·香农(Claude Shannon),61 克里斯蒂安·惠更斯(Christiaan Huygens),54 肯·格里芬(Ken Griffin),113,173 肯·马丁利(Ken Mattingly),151 肯·詹宁斯(Ken Jennings),112

#### L

拉赫玛尼诺夫(Rachmaninoff), 77, 82 拉筒・隆多(J Rajon Rondo), 127 拉里・佩奇(Larry Page), 195 菜昂哈德・欧拉(Leonhard Euler), 56 薬纳徳・艾萨克森(Leonard Isaacson), 78 劳尔徳・贝兰克梵 (Lloyd Blankfein), 105 勒・柯布西耶 (Le Corbusier), 44 笛妮・贝茨(Renae Bates), 143 黎・莱恩(Lee Ryan), 65 李祥林(David X. Li.). 53 列昂纳多・斐波那契 (Leonardo Fibonacci), 44 列哈伦・希勒 (Lejaren Hiller), 78 列侬(Lennon), 93, 94, 96 林书袞 (Jeremy Lin), 126, 127 琳恩・弗格森 (Lynne Ferguson), 73 醫姍妮·汉托(Ruthanne Hanto), 135 路易斯・阿尔特耶斯特(Lewis Altfest), 127 罗伯特・罗斯(Robert Ross), 128 罗伯特・英瑟尔(Robert Mercer), 162 罗伯特・威尔特(Robert Wert), 164 絡林・巴瑞 (Lorraine Barry),71

#### Μ

马丁・桑德伯格 (Martin Sandberg), 75 马克・安德森 (Marc Andreessen), 102, 171 马克·平卡斯 (Mark Pincus), 188 马克·扎克伯格 (Mark Zuckerberg), 181, 185 马克思·马丁 (Max Martin).75 马勒 (Mahler), 84 马文・范・皮布尔斯 (Melvin Van Peebles), 23 迈克尔·卡恩斯 (Michael Kearns), 37 迈克尔·刘易斯 (Michael Lewis), 125, 184 迈克尔・乔丹 (Michael Jordan), 166 迈伦·法尔查克 (Myron Falchuk), 141 迈伦·斯科尔斯 (Myron Scholes), 12, 91 麦克・麦卡克雷迪 (Mike McCready), 65 麦克斯・拉夫琴 (Max Levchin)、171 米哈伊儿·马利舍夫 (Mikhail Malyshev), 173 米林德・塔姆贝 (Milind Tambe), 120 莫扎特 (Mozart), 63, 75, 76, 78, 82

#### Ν

章破仑(Napoleon), 106, 107 内森・罗斯切尔徳(Nathan Rothschild), 106, 107 尼克・帕特森(Nick Patterson), 144 尼克松(Nixon), 124, 149 诺拉・琼斯(Norah Jones), 69

#### O

欧几里得(Euclid of Alexandria), 43

#### Ρ

派帕·施瓦茨 (Pepper Schwartz), 128 庞尼特·梅塔 (Puneet Mehta), 182 皮埃尔·费马 (Pierre Fermat), 54 朴义浩 (Yihao Pu), 173

#### Q

奇诺 (Guido),77

乔・里奇(Joe Ritchie), 28, 35 乔思・克莱因伯格(Jon Kleinberg), 195 乔思・纳贾里安(Jon A. Najarian), 104 乔纳森・博格(Jonathan Berger), 83 乔治・布尔(George Boole), 58 乔治・布什(George H. W. Bush), 159 乔治・弗里德里希・亨德尔(George Frideric Handel), 56 乔治・哈里森(George Harrison), 89, 91, 95 乔治・哈里森(George Washington), 104 乔治・马丁(George Martin), 90, 94 乔治・普林普顿(George Plimpton), 125 乔治四世(George IV), 50 琼斯(Jones), 1, 2, 3, 4, 6, 36, 69, 173, 174 邱瑞克(Rich Cho), 126

#### R

儒勒·凡尔纳 (Jules Verne), 6

#### S

深蓝 (Deep Blue), 111, 112, 114, 117, 125 史蒂夫·拉尔森 (Steve Larson), 83 舒伯特 (Schubert), 84 斯蒂芬·伯格勒特 (Steven Begleiter), 113 斯科特·乔普林 (Scott Joplin), 82 斯派克·李 (Spike Lee), 73 斯特拉文斯基 (Stravinsky), 77, 82

#### Т

泰比·卡勒 (Taibi Kahler), 154 泰瑞·麦古尼 (Terry McGuire), 152 汤米·博兹 (Tommy Botz), 73 汤姆·佩蒂 (Tom Petty), 70 唐纳德·特朗普 (Donald Trump), 157 特里·麦古尼 (Terry McGuire), 129 图奥马斯·桑德霍姆 (Tuomas Sandholm), 113, 131 托马斯·爱迪生 (Thomas Edison), 108 托马斯·彼得菲 (Thomas Peterffy), 1, 8, 99

#### W

威利·勃兰特 (Willy Brandt), 149 威廉·哈里森·瑞克 (Willam Riker), 121 威维克·瓦德瓦 (Vivek Wadhwa), 171, 180 维济德·科斯拉 (Vinod Khosla), 140 沃伦·巴菲特 (Warren Buffett), 173 沃森 (Watson), 112, 145, 146

#### Χ

西奥・艾普斯顿 (Theo Epstein), 125 肖邦 (Chopin), 82, 84 谢尔亞・阿列尼科夫 (Sergey Aleynikov), 173 辛普森 (O. J. Simpson), 160

#### Υ

雅名·布克哈特 (Jacob Burckhardt), 56 雅各布·伯努利 (Jacob Bernoulli), 54, 56 雅诺斯·奥劳尼 (Janos Aranyi),9 伊格纳西奥·泰勒 (Ignacio Thayer),189,191 伊拉斯谟 (Erasmus),56 伊莱·芬克尔 (Eli Finkel),129 伊斯雷尔·贝尔·约瑟法特 (Israel Beer Josaphat), 107 约翰(John),56,59,79,80,89,90,149,158,159,160 约翰·伯努利 (Johann Bernoulli),56 约翰·格林 (John Glenn),158 约翰·格林 (John Glenn),158 约翰·穆纳德·凯恩斯 (John Maynard Keynes),199 约翰·塞巴斯蒂安·巴赫 (Johann Sebastian Bach), 79,80 约翰·斯威格特 (John Swigert),149 约翰尼·卡什 (Johnny Cash),73 约瑟夫·傅里叶 (Joseph Fourier),91

#### Z

詹姆士・巴士德 (James Barksdale), 101 詹姆斯・洛弗尔 (James Lovell), 149 詹姆斯・西蒙斯 (James Simons), 163

# 版权声明

Automate This: How Algorithms Came to Rule Our World

by Christopher Steiner

Copyright © 2012 by Christopher Steiner.

This edition arranged with Portfolio, a member of Penguin Group (USA) Inc. through Andrew Nurnberg Associates International Limited.

Simplified Chinese-language edition copyright @ 2014 by Posts & Telecom Press. All rights reserved.

本书中文简体字版由 Portfolio, a member of Penguin Group (USA) Inc.通过 Andrew Nurnberg Associates International Limited 授权人民邮电出版社独家出版。未经出版者书面许可,不得以任何方式复制或抄袭本书内容。

版权所有, 侵权必究。

纽约州罗切斯特市 (Rochester, N.Y.), 138

0

欧洲(Europe), 35, 37, 44, 45, 48, 54, 57, 65, 68, 106, 107, 183

Р

帕洛阿尔托市 (Palo Alto), 199 普雷格尔河 (Pregel River), 57 普鲁士 (Prussia), 57, 106

R

瑞典(Swedish),68,75 瑞典城镇昌勒奥(Lulea, Sweden),186 瑞士(Swiss),35,44,56,101,138,142,169,171

S

上东区 (Upper East Side), 4, 9, 19 圣迭戈 (San Diego), 160 圣克鲁斯 (Santa Cruz), 75, 76, 78, 79, 81, 85 舒鲁帕克 (Shuruppak), 43

T

特拉华河 (Delaware), 104

W

威斯敏斯特大教堂 (Westminster Abbey),56 维也纳 (Vienna),106 Χ

西班牙 (Spain), 64, 65, 66, 67, 68 西德 (West Germany), 8, 149 西海岸 (West Coast), 29, 30, 181, 185 西雅图 (Seattle), 175, 189, 192 希腊 (Greece), 43, 106, 137 新斯科仓 (Nova Scotia), 91 新西兰 (New Zealand), 64, 86, 174 新泽西州 (New Jersey), 101 匈牙利 (Hungarian), 8, 9, 12, 18, 20, 24, 35, 36 休斯顿 (Houston), 149, 150, 154, 158

Υ

亚琛 (Aachen), 107
亚洲 (Asia), 37, 115
伊朗 (Iran), 121, 122, 123
伊利诺伊 (Illinois), 78, 81, 101, 102, 171, 201
伊利诺伊州埃文斯顿 (Evanston, Illinois), 200
意大利 (Italy), 16, 44, 65, 67
印第安纳州 (Indian), 103
印度 (India), 106, 138, 200
英格兰 (England), 59, 119
英国(United Kingdom), 47, 50, 60, 65, 72, 92, 95, 96, 106, 107
英吉利海峡 (English Channel), 47
犹他州 (Utah), 141
幼发拉底河流域 (Euphrates Valley), 43

Ζ

长岛(Long Island), 189 芝加哥(Chicago), 12, 16, 25, 26, 28, 29, 30, 34, 35, 37, 39, 99, 100, 101, 103, 104, 109, 110, 113, 115, 118, 124, 125, 168, 169, 173, 174, 180 芝加哥卢普区(Chicago's Loop), 175 中国(China), 106 非洲 (Africa), 175 弗吉尼亚州 (Virginia), 81

#### G

嘎尔什 (Garches), 44 哥尼斯堡 (Königsberg), 57 哥廷根 (Göttingen), 47, 52 格林威治 (Greenwich), 35, 37 硅谷 (Silicon Valley), 41, 68, 76, 102, 167, 171, 180, 181, 186, 187, 188, 190, 192, 196, 198, 200

#### Н

哈利法克斯 (Halifax), 91 汉诺威 (Hanover), 50 荷兰 (Netherlands), 23, 106, 143 华尔街 (Wall Street), 1, 2, 3, 6, 7, 8, 9, 10, 12, 13, 14, 15, 16, 22, 23, 27, 31, 33, 34, 35, 36, 37, 38, 39, 40, 41, 45, 46, 49, 51, 53, 55, 57, 58, 62, 91, 98, 99, 103, 105, 108, 109, 110, 112, 118, 124, 128, 144, 148, 161, 163, 166, 167, 168, 169, 170, 171, 172, 173, 174, 180, 181, 182, 183, 184, 185, 186, 187, 188, 190, 192, 198

#### J

加里宁格勒 (Kaliningrad),57 加利福尼亚 (California),185,196 加拿大 (Canada),89,91,162 加泰罗尼亚 (Catalan),66,67 杰克逊 (Jackson),102 旧金山 (San Francisco),29,30,138,139

#### K

堪萨斯城 (Kansas City), 37, 125 康涅狄格州 (Connecticut), 35 科克 (Cork), 59 科威特 (Kuwait), 174 拉斯维加斯 (Las Vegas), 113, 118, 119 菜比锡城 (Leipzig), 46 菜克福里斯特 (Lake Forest), 169 里士满 (Richmond), 81 立陶宛 (Lithuania), 57 林肯 (Lincoln), 59, 147 維持丹 (Rotterdam), 56 吕宋岛 (Luzon), 149 伦敦 (London), 10, 47, 54, 56, 106, 107, 180 罗德岛 (Rhode Island), 116

#### Μ

马尼拉 (Manila), 149 迈阿密 (Miami),77 曼哈顿 (Manhattan), 13, 15, 34, 175, 180, 188 美国(United States), 2, 8, 13, 17, 20, 25, 26, 27, 29, 31, 35, 36, 37, 38, 39, 47, 49, 61, 66, 88, 90, 99, 102, 103, 108, 111, 116, 120, 121, 124, 125, 128, 131, 132, 133, 134, 136, 137, 138, 139, 140, 142, 143, 147, 148, 149, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 163, 167, 168, 170, 173, 174, 175, 176, 177, 183, 186, 192, 197, 199, 200, 201, 202 秘鲁 (Peru),77 密西西比州 (Mississippi), 102 密歇根湖 (Lake Michigan), 101 密歇根州 (Michigan),73 明尼阿波利斯 (Minneapolis), 175

#### Ν

内布拉斯加州 (Nebraska), 66 那不勒斯 (Naples), 106 南美洲 (South America), 183 牛津 (Oxford), 72, 77 纽约(New York, 8, 9, 10, 15, 20, 23, 24, 26, 27, 29, 30, 32, 33, 37, 70, 72, 99, 101, 103, 104, 108, 109, 110, 112, 115, 119, 121, 126, 128, 131, 140, 142, 144, 167, 173, 183, 184, 185, 192

# ▲ 地名索引 灿

#### Α

阿尔及利亚 (Algeria),44
阿富汗 (Afghanistan),120
阿肯色州 (Arkansas),159
阿雷佐 (Arezzo),77
阿利根尼山脉 (Allegheny Mountains),103
埃及 (Egypt),124
爱尔兰 (Ireland),59,175
安道尔 (Andorra),67
奥地利 (Austrian),56
奥克兰 (Auckland),64,125
奥马哈 (Omaha),66

#### В

巴格达 (Baghdad),43 巴基斯坦 (Pakistan),174 巴黎 (Paris),44,47,106,107 巴婆罗那 (Barcelona),66,67,68 巴西 (Brazil),200 北极陽 (Arctic Circle),186 北卡罗来纳州 (North Carolina),37,186 北美 (North America),115 贝贾亚港 (Bejaïa),44 比萨 (Pisa),44 浜夕法尼亚州 (Pennsylvania), 101 波兰 (Poland), 57, 77 波士顿 (Boston), 125, 171, 192 波斯 (Persia), 42, 106 布达佩斯 (Budapest), 8 布舟窓尔 (Brussels), 107

#### D

德国 (Germany), 15, 48, 49, 76, 107, 173, 198 德州 (Texas), 116, 141 地中海 (Mediterranean), 44 东欧 (Bastern Europe), 175, 200

#### F

俄亥俄州 (Ohio), 77, 103 俄勒冈州的普赖恩维尔县 (Prineville, Oregon), 186 俄罗斯 (Russia), 51, 57, 120 厄巴纳 (Urbana), 81, 102

#### F

法国 (France), 44, 49, 54, 56, 66, 67, 106 法国马赛 (Marseilles, France), 130

![](images/_page_232_Picture_0.jpeg)