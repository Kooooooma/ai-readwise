# 前言

2011年4月初, 加利福尼亚大学伯克利分校的进化生物学家迈克尔· 艾森登录 到亚马逊网站, 想要为自己的实验室购买一本课外书。 他要找的书是彼得· 劳伦 斯所著的肋gM。H饵矿。五b,, 讲的是苍蝇怎样曲一个单细胞卵长成为一只嗡嗡响 的飞虫。 这本@993年出版的书虽已绝版, 但还是很受专业学者和研究生的喜爱。 文森习惯花35~4o美元买旧书来读。但在4月8日这一天, 亚马逊网站上有两个知名 商家提供这本书的新书, 要价却远远高于他思意出的饯, 一家卖@B0045美元, 另一家卖2 198 @77美元。

艾森猜想这个天价肯定是误报或开玩笑。 他认为没有人(包括作者木人)会 对这书估价如此之高。 第二天他再次登录亚马逊查看, 却发现这本书非但没有回 归到正常价格, 反而分别涨到2 194 443美元和2 788 233美元。 第三天, 这本书又 涨到2 783 493美元和3 536 675美元。 此后连续WJ周, 书价一直在涨, 4月I8日到达 最高价23 698 655.93美元, 买家还得艾付3.99美元的运输贺! 4月19 日, 价格下降 到i06美元。

一本研究苍蝇遗传学、 晦涩难惯的书, 亚马逊为什么耍将它的价格设定为近 z400万美元呢7 是它突然受到了亿万富翁级收藏家的追捧吗7 是书里有找到宝贼 的线索吗?还是它成了图书界"1869年的拉菲"©?事情真相是这样的:两家书商都在亚马逊经营上万种书籍,并且都用算法给图书定价,然而不受监管的算法打了一场价格战。第一家书商利用算法将自己的价格设定为另一家的0.998 3倍,而第二家的算法则始终让自己的价格保持为第一家的1.270 589倍。就这样的相互"攀比",反复交手,最终让这本书的价格赶上了曼哈顿顶层家华公寓的价格。若非人为干预,覆盖系统设置,价格战还会继续升级。如果说这是一个意外事件,那倒也是一个关于算法失控但却没有造成什么损害的奇事。但差不多在一年以前,还发生过一件比它奇怪得多的事。

2010年5月初,由于政府出台财政紧缩计划,希腊爆发全国性大罢工。2010年5月6日早上,全球股市受希腊动荡局势的拖累而走低。很多人担心希腊债务违约在所难免,并且会引发全球经济萧条。纽约时间上午10点左右,美国股市大跌2.5%,损失惨重。

但事情很快由糟糕透顶发展成令人费解。

美国东部时间下午2点42分,股市剧烈波动后进入自由落体状态。2点47分,仅仅300秒之后,道琼斯指数下跌达998.5点,为其有史以来最大单日跌幅。全球最受重视的股票指数道琼斯工业平均指数的走势看起来就像是被人恶搞了一样。近1万亿美元的财富就这样蒸发了。

在这五分钟的时间里,美国全国广播公司财经频道(CNBC)主持人一开始还和嘉宾谈笑风生地聊着希腊的暴乱。那个时候道琼斯指数已经下跌了200点,而且这一天大部分时间它都保持在这个点位。当主持人艾琳·伯内特请出股评界的明星人物吉姆·克拉默时,道琼斯指数再次探底下跌达350点。当下跌点数达

① 拉菲葡萄酒是拉菲庄园(Chateau Lafite Rothschild)出产的享誉世界的法国波尔多葡萄酒之一。

500点的时候,这个激情四射的评论员镇定地小声嘀咕道:"这事儿还真有点儿意思。"

不到三分钟,观众就听见伯内特打断了关于希腊暴乱的谈话,说道琼斯指数 已经下跌800点了。她带着难以置信的口气呼叫CNBC驻纽约证券交易所记者斯科 特·韦普纳:"斯科特,人们都在说什么?现在已经下跌800点了。"

"当我问他们这里到底发生了什么……我也不知道。" 韦普纳回应道,费力地想要让自己表达清楚,"人们害怕了,投降式抛售,典型的投降式抛售。"

CNBC从纽约证券交易所切回到克拉默,虽然道琼斯指数在短短三分钟内下 跌近1000点,但他平静得有些古怪。"我刚坐下,"克拉默说,指的是他刚到演播 室时,"已经下跌了500点。"

主持人伯内特这时提到了宝洁公司,宝洁蓝筹股股价大跳水,数分钟之内下 跌25%,从62美元跌至47美元。这时克拉默再也忍不住了。

"这不可能。这不是真实价格。"克拉默恼怒地强调。然后又怒吼着:"好吧,那就买人宝洁吧。"他转过身直视摄像机,恳求观众:"现在就买吧,快去买!"

赞成者听从了他的建议。不只是克拉默,其他人也察觉到股票瞬间便宜了不少。道琼斯指数在下跌了998.5点触底之后开始迅速反弹,反弹过程就跟下跌过程一样快。实际上,反弹还要快一些。一分钟之内,日波幅难超300点的道琼斯指数,暴涨了300点。对此,每个人都困惑不已。

伊利诺伊州埃文斯顿的大型对冲基金公司迈格尼塔掌管着70亿美元的资金, 迈格尼塔的高级主管们听到骚动都冲出办公室来到公司的交易厅, "下面每个人都喊了起来:'买,买,买!'"迈格尼塔的交易员说, "不管你交易什么,买入就是了。"

位于东海岸的第一纽约证券公司的交易厅中的场景跟迈格尼塔如出一辙。超过120个交易员争先恐后地想让自己下的单被执行,每个人都大声喊着一个简单的词: "买入。"

"我的第一反应是:'好吧,这是个错误,但我要怎么利用它呢?'"第一纽约证券的联席交易负责人汤姆·多尼诺说,"我做这行有25年了,从没有遇到过这样的事。"

某些股票的每股购入价狂跌至1美分,让好多资产数十亿美元的公司一名不文,但却在数秒之内又反弹回30美元或40美元的股价。还有些股票猛然飙升。某一刻苹果的每股成交价高达10万美元(从约250美元一股开始上涨)。美股陷入剧烈动荡,无人知晓原因。不管问题出在哪里,总之不能全部归结到某个有严重借误的交易单或是某个流氓交易员。这场动荡来得如此迅疾,有些交易员或市场观察者或许就在上个厕所或喝杯咖啡的时间里完全错过了千点大跌又急速反弹的一幕。

回到CNBC演播室,伯内特和克拉默又看着道琼斯指数在不到三分钟的时间 里上升500点。虽然市场从未发生过如此剧烈的波动,但奇怪的是,克拉默却不以为然。

"很明显是机器坏了,系统瘫痪了。"克拉默说道,声音里流露出厌恶之情。

而身为记者的伯内特却愈发兴奋,她惊讶地说:"但不管怎么说,刚刚那一切 真的发生了,这故事太震撼了。"

"我觉得这是一个非常好的故事,"克拉默说得直截了当,"这是史上最好的故事,倘若没有人跟你提起,你将永远不知道这里发生了什么。"

克拉默说得没错。撰写此文之际,关于闪电崩盘的确切成因仍然众说纷纭。

有人把矛头指向堪萨斯城的一位财富投资经理人,他的算法过快出售掉价值40亿美元的股指期货,导致其他算法跟风。有人指责一伙不明交易商合谋共同利用算法打压股价。有人认为这不过是老式的恐慌造成的,跟1929年的大崩盘不无相似之处。然而可以肯定的是,如果不是因为不受人类管束的算法占据了市场,不到一秒内独立下单并完成交易,股价波动幅度不可能如此之大,波动速度也不可能如此之快。但这样的算法确实统治了市场。

算法通常都是按设定好的方式运行,有的安静地交易,有的(如亚马逊的算法)根据供需关系给书定价。但算法一旦处于失控的状态,就有可能做出怪异的事。随着越来越多的算法被引入来控制我们的世界,我们便会弄不清谁或是什么在帮后操纵。这早已成为了现实,算法在不知不觉中悄悄侵入我们的世界,直到有一天闪电崩盘将我们惊醒。

闪电崩盘使算法上了晚间新闻,但它并未就此消失。它很快又出现在关于约会、购物、娱乐和就医等任何你可以想到的领域的故事中。闪电崩盘只是预示了一个更大的趋势:算法掌控一切。

如果互联网或机器自动运行了某个程序,通常都会有一个简单的解释:算法。 关于算法最经典的定义就是,通过所掌握的信息使算法使用者得到某一针对性问题的答案,或掌握输出信息的一系列指令的策略。

比如说,你也可以写一个算法来决定早上穿什么上衣去上班。输入:温度、下雨的几率、下雪的几率、风速、预计步行距离和步行速度、晴天还是阴天。如果输入分别是25度、小雪、风速20英里/小时、阴天以及两个街区的短途步行,那么输出可能就是,比如说,你那件高泰斯面料风衣。很可能你自己从衣柜里抽出的也是这件,但算法的人侵就是从这种简单的任务开始的。算法跟决策树的运行方式很像,决策树解答复杂问题时需要考虑大量变量因素,而决策树又能被分解

成一连串的二元选择。每一片所需信息数据会把整个流程推向另一选择项或是节点,使其离输出生成更进一步。

多亏了计算机,算法已经演变成巨大的网络,最初对它的定义也已经不太合适了。在本书中,我通常把旨在执行一个任务的多元联系算法称为计算机程序。 这些计算机程序包含成千上万个输入、因数及函数。其中最复杂的程序就像是你 大脑的神经元网络:根据需要上下传递处理信息,它们是动态的,而且能够自我 改善。

数学使算法进入并控制着我们的生活。几个世纪以来,我们依靠数学观察世界。而今,数学已成了我们用来塑造世界、生活甚至文化的强有力工具。

随着算法及其背后的数学成为华尔街的标准,其他受算法影响较小的领域也吸引了数学家、工程师和物理学家的注意,华尔街把这一类人称为宽客,这个名字来源于数量分析专家(quantitative analyst)。这些宽客和计算机程序员正在寻找存在弱点的新产业,他们可以利用算法推翻该产业的旧秩序,从中谋取巨额利润。

算法的界限每天都在被突破。在日益增多的产业中,算法已经取代了人类。这是算法能够胜任的事,算法比人力快,价格也更低廉,而且如果它照预期运行,错误率也远低于人力。但随着算法变得越来越强大,越来越独立,结果却出人意料。在线音乐服务软件Pandora(潘多拉)用算法来识别用户的音乐品味,也许Pandora这个名字很合适。在古希腊神话里,潘多拉是宙斯创造的第一个人类女人,宙斯给了她一个漂亮的盒子,并且嘱咐她千万不要打开。但她还是打开了,盒子里装的灾难、瘟疫和祸害开始遍布人间。只有一件东西留在了里面:希望。

即将到来的算法时代有很多让人忧心的地方,但正如潘多拉的故事表明的,它也有很多令人憧憬的地方。算法会给数不胜数的领域带来进步,比如带来更好

的在线音乐服务,更高质的客服电话,更美好的周五晚餐约会,更高效的中央情报局,还有在癌症致命之前就能发现它的更好方法。

有些算法源自人工智能领域。它们也许比不上电影《2001太空漫游》里的机器Hal 9000(启发式算法电脑)那样聪明,那样具有自我意识,但算法能够发展进化。它们会观察、实验以及学习,能够完全独立于其创造者(人类)从事这些活动。如果使用了某些先进的计算机科学技术,比如机器学习和神经网络,算法甚至能够基于观察结果创造出新的改良的算法。算法已经能够创作出如贝多芬的音乐一样感人的曲调,像律师事务所的资深合伙人那样熟练选择要使用的法律术语,比医生更加准确地诊断病人,像经验丰富的记者那样写出流畅的新闻稿件,比人更加平稳地在公路上开车。

那么人们的职业将会承受何种变化?算法在这一方面也有发言权。我们曾经指责其他国家"偷"走了我们的工作,而现在这些工作正被一堆堆不知名的计算机代码夺走。如今最有社会地位上升机会的就是能够利用代码构建算法的人,他们构建的算法能快速航行在数据的海洋,识别数百万张脸,还能执行几年以前想都不敢想的任务。

### 黑客:新王朝缔造者

在现代词汇中,黑客一词有两种定义。在某些人看来,黑客行为本就属于犯罪——程序员自由出入本属禁区的电子财产领地。20世纪80年代描绘的黑客形象就是飞快敲打着键盘,侵入政府绝密信息库、银行及其他各种不属于他们领地的不法之徒。

然而在现代科技世界,这个词却表现出来其好的一面。这也是我在本书中使

用的定义。用硅谷的话来说,黑客就是能熟练编写计算机代码,并把白板上的理论转化成算法的人。他们构造的算法能做出重大决策、交易股票、开车、为大学申请者分类,还能跟世界上最优秀的人类玩家打扑克。

黑客的代码使算法成了我们的故事主角,并赋予其生命和影响千千万万人的能力。算法背后的代码成千上万条,这些代码把是与否的决策,或实时数据挖掘等数学函数与用户的输入联系起来。编写标准网页或自动化电子邮件程序等难度适中的计算机程序已被世界上千百万人所掌握。为需要创造力的领域编程,构思并写出解决人类难题的优美算法需要特殊的才能。

我历经曲折才完成这个算法革命的故事。2002年是我当工程师的最后一年,当时我用C语言写了一些简单的算法,从那以后我就没怎么写过有用的代码了。2003年我有了写作的欲望,于是进入新闻界。《芝加哥论坛报》是我第一个东家,我作为新闻编辑部的新人,四处搜集从火灾到谋杀案到商业故事等各种素材。我运气不错,后来在《福布斯》杂志的芝加哥办事处谋得一职。科技自然是我关注的焦点,我花了大量时间搜寻这个国家值得报道的新公司和新典范。

长时间和年轻企业家、工程师们待在一起常常令人感到精力充沛。我遇见过很多放弃了稳定的工作和平坦的职业道路的人,他们创办自己的公司,研发自己的产品。某一刻,我深受触动。多年来,我也想过很多创业点子。2010年秋天,我和朋友赖利·斯科特有了一个看起来行得通的点子。我们的想法最终变成了Aisle50,它是为客户提供目用百货商品团购的网站,让客户先登录Aisle50再去商场。在创办Aisle50时,我们成功申请成为硅谷的创业孵化器Y Combinator的一份子。Y Combinator是一家为新创企业提供资金技术支持,帮助他们联系投资者的公司。

我在Y Combinator遇到的很多同道中人在14岁时就学会了编程,到他们进大学时(通常是精英大学)就已经能够写出上千行代码,编写性能稳定的应用程序,

并且几个小时就能设计出一个原创网站。2011年夏天在Y Combinator的三个月让我了解到马克·扎克伯格这类人是如何产生的:他们并非天赋异禀,而是长年累月在电脑屏幕前练就了对代码的敏锐感知力,正如经验丰富的文字编辑对习语、标点及字体的用法烂熟于心,他们对代码也是再熟悉不过了。

这些代码的设计师和算法的撰写人是这一代最杰出的企业家。新王朝的缔造者不再来自商学院,而是来自工程学和计算机科学研究室,他们在这里夜以继日地研究编码作业,终于练就了一身编程本领,可以构建出有革新意义的算法,并创办由算法驱动的公司。有时候,这些算法构造者早早离开大学,甚至根本不去上大学。他们早在15、16和17岁的时候就已经知道怎样把自己想象的东西构建成型。

现在年轻人学习编程有很多途径。无数网络社区和聊天室都是专门为人们学习编写代码、构建算法而设立的。Y Combinator孵化项目的一份子Codecademy公司想出了一个非常受欢迎的点子:一个在线学习编程的趣味网站。网站上线后仅两个星期就吸引到20万用户。六个月后Codecademy与白宫建立了合作关系,旨在给那些接触不到编程教育的孩子提供编程课程。这就是现实:21岁的年轻人会用工具构建复杂算法,也能和美国总统成为合作伙伴。

Y Combinator只是算法深入各行各业这一大趋势的小缩影,而这一趋势通常是年轻人推动的。过去二三十年,这类革新分子引领了算法的潮流。他们构建的算法能帮人解决难题,助人发财致富,也能大范围抢走人们的饭碗。这本书讲的就是我们是如何实现这一切的,以及今后的发展趋势。

如今有志于从事计算机程序开发的人可接触到的学习资源,即便是和五年前 比起来也多得让人惊异。构造创新的算法并不是一件容易的事。但其难度却与日 俱减。所以有能力开发计算机程序的人(最聪明的数学、科学以及计算机人才)

前途无量。关于比尔·盖茨有一段轶闻,说他曾在空闲时间想方设法溜进华盛顿 大学的一个实验室玩计算机。这样的故事不会也无需再发生。现在学习技术很容易。

2009年年底我刚开始写这本书时,我的全部重心和索材都围绕着华尔街的算法。有一次我和在西北大学凯洛格管理学院任教的朋友比尔·贝内特一起吃午饭,我告诉他我在写一本关于算法如何掌控股票市场的书。他觉得这主意不错。但接下来他的目光越过他那盘腰果鸡丁,望向街对面对冲基金公司Magnetar所在的那幢楼,他说了一句对我写这本书很有指导意义的话。"真正的故事,"他说,"是它们会如何掌控一切。"

比尔说得对。华尔街仅仅是这个故事的开始。从这里开始, 算法的足迹无所 不在。
