# 高斯: 实现算法的逻辑

只有在待考量和操作的数据确定可知的情况下,算法才会起作用。如果不是 确知股票期权的价格完全取决于其历史波动率、利率及期权执行价,我们就无法 构建出可以推导其真实价值的算法。如果彼得菲或是布莱克和斯科尔斯不知道这 些是影响期权价格的关键因素,也就很难创造出一种能够有效交易、击败人类的 算法。构建一种能够听人言察其意的算法也是同样的道理,首先需要输入言语模 式和语句结构的逻辑。

① Nicholas Jolley, ed., The Cambridge Companion to Leibniz (Cambridge; Cambridge University Press, 1995), p. 251.

有时,发现算法对象关系中真正重要的变量,就跟构建一种自动运用这些发现的算法同样困难。一个算法模型,比如股票市场的模型,或是统计我们一天说多少个词的模型,有成于上万个可供分类和搜寻其潜在意义的因素。但绝大部分数据仅是噪声而已,是无意义的。预测性的算法要正常运行,需要得到跳过噪声数据,瞄准价值因素的指示。提取关键因素,不管是真正影响期权价格还是决定一首歌是否悦耳的因素,都是通过分析海量数据来实现的。筛选数据,让趣味盎然、无法凭直觉获取的关系重见天日,最常用的方法就是回归分析。回归分析法就是利用历史数据推测现在。物理学家、统计学家或工程师都可以基于历史数据对现在进行准确预测。在发展构建符合历史数据的预测模型的方法上,英国皇室做出了一定贡献。

英国皇室成员并没有聪明到自己找出方法,但乔治四世1817年委派卡尔·弗里德里希·高斯负责汉诺威公国的测量工作实在是明智之举。Φ高斯那时已经是很有成就的数学家了,他发现当时的测量工具测出的结果不准确,于是发明了一种新工具——日光反射仪,它可以利用镜子将光束反射至远距离。高斯知道,即使有了这种新工具,测量那么大面积的土地也难免不准。20年前,18岁的高斯就发现了处理类似问题的一种方法——最小平方法。

最小平方法对基于已观察到的结果构建预测模型提供了方法。为了利用已测定的数据建立最好的模型,高斯建立了求实际值(可以是历史股价的实际值)和预测模型的计算值的偏差最小平方和的方程式。模型不停被修改,不管是二次方程式还是多层次算法,直到找到最小平方和。最小平方法是现代统计学和算法建模的基础。比如要构建一个预测未来股价的算法,测试算法准确度的方法就是用确定的历史日期与价格运行算法。人们基于历史数据提炼出一个函数或一条曲线、

Richard Lindsey and Barry Schachter, How I Became a Quant: Insights from 25 of Wall Street's Elite (Hoboken, NJ: John Wiley & Sons, 2007), p. 126.

希望借此预测未来数据。数据分析专家、工程师或是物理学家讨论数据拟合或是 回归分析的时候,他们使用的方法很可能就是高斯的发明。Φ

高斯研究了测量误差分布,总结出背离(误差)符合正态(也称高斯)分布。这样的分布用曲线表示出来很像一口钟。高斯和同时代的数学家观察到绝大多数可被测量的事物,哪怕是自然界中人的身高与头部大小也符合正态分布。②大部分数据点集中在中间值附近,也就是钟形曲线的中间区域;随着钟形曲线向两边延伸,远离中间值,数据点会越来越少。正态分布在自然界随处可见,学生的考试成绩、人的体型和身高都符合正态分布。

钟形曲线边缘被称为尾部。高斯分布的尾部逐渐趋近于零。现实中的情境往往受人的不理智行为所影响,比如金融市场,所以曲线的尾部也就不那么纤细了。一旦涉及人的心理和行为,异常事件发生的可能性就会变大,便产生了所谓的胖尾分布,那也就不是高斯分布了。人们凭着高斯分布在华尔街赚了多少钱,就因信奉高斯分布却忽略胖尾分布赔了多少钱。

编写符合正态分布规律的算法更为简单。虽然历史不断证明人的行为从来不能以常态来判断,一些黑客还是选择只考虑正态分布。在正态分布的假定下,100 天内100%都能赚钱。但是现在是第101天,1987年的黑色星期一、1998年的俄罗斯债务违约、2010年的股市闪电崩盘,对于指望用高斯分布设计的算法赚钱的人,这些事件能让他们倾家荡产。何况高斯本人也在200多年前提出过警告,任何幅度的偏离在正态分布里都是有可能的。©

正态分布的应用改变了人类, 开辟了现代统计学领域。运用正态分布的知识,

① Stephen M. Stigler, "Gauss and the Invention of Least Squares," Annals of Statistics 9, no.3 (1981): 465-74.

② Jyotiprasad Medhi, Statistical Methods: An Introductory Text (New Delhi: New Age International Publishers, 1992), p. 199.

3 Jagdish K. Patel and Campbell B. Read, Handbook of the Normal Distribution (New York: CRC Press, 1996), p.4.

购置保险更简单,桥梁也可以建得更好,甚至篮球比赛彩票投注也更有胜算,当 然这一点没那么重要啦**。** 

虽然早年就取得了巨大成功,但高斯一直谦逊做人,低调行事,避免争议。对于研究成果,只有他认为毫无破绽、无可辩驳时才会发表。他认为欧拉和牛顿是最伟大的数学家。①但大部分专家认为高斯本人也在其中。很多学者说阿基米德、牛顿、高斯是数学界不朽的"三巨头"。民间流传很多关于高斯小时候就表现出极高数学天赋的故事,有些说他三岁的时候就有了令人惊叹的算术技巧。②有一个故事讲的是他七岁上小学那年,老师布置了一个任务,对自然数从1到100求和。高斯几秒钟之后就得出了答案,显然他在脑海中演绎了一个箅法,毕达哥拉斯学派将该算法用于其秘密社团的密码:③

$$\frac{1}{2} n (n+1) = S$$

变量n代表数列的最大值,这里指100,S代表总和。小高斯很可能发现 1+100=101,99+2和98+3同理,也就是说有50个101,50×101=5050。

1777年,高斯出生在一个穷人家庭,远非引领时代的知识分子镀金之家。他 14岁时因数学才能出类拔萃,得到布伦兹维克公爵的召见。公爵提出做他的资助 人,后来送他到哥廷根大学学习。© 高斯脑袋里经常冒出各种各样的想法,速度 之快以至于他有时都没办法把它们全都记下来。©

高斯21岁的时候获得博士学位,他的博士论文首次为代数基本定理提供了完

Michael Bradley, The Foundations of Mathematics (New York: Chelsea House, 2006), p.5.

② Ioan James, Remarkable Mathematicians: From Euler to von Neumann (Cambridge: Cambridge University Press, 2002), p.58.

3 Jane Muir, Of Men and Numbers: The Story of the Great Mathematicians (New York: Dodd, Mead & Company, 1961), p. 158.

④ 同上, p. 159。

(5) Elena Prestini, Applied Harmonic Analysis: Models of the Real World (New York; Spinger-Verlag, 2004), p. 99.

整的论证, 牛顿和欧拉也曾经尝试做这件事, 却都以失败告终。 域的很多方面都有重要发现,包括数论、二元方程式,以及质数分布定理。

一些人一提到高斯, 总想到"高斯相依"——2000年由李祥林引进华尔街的 一个被妖魔化的公式。在统计学中,相依用来表示两个或多个变量之间的行为关 系。李祥林曾试图弄清如果一个看似不相关的债务违约了,那么目标债务违约的 风险有多大。这被称为关联风险。因为李祥林手上没有次级抵押贷款的历史违约 数据(其实根本就不存在),那他只好把相依函数建立在确实存在的数据上:信用 违约互换的历史价格。一旦参照资产(这里指贷款)发生信用违约事件,信用保 隨买方可得到一笔违约损失金。但是我们现在都知道, 信用违约互换市场曾经存 在严重的人为定价偏离问题。尽管如此,华尔街还是把李祥林发表的数学公式奉 为圭臬。相依函数应该只是分析师和评级机构在审查核准抵押贷款证券时可用的 一个风向标而已,但它却成了唯一的风向标。

银行家滥用本应无害的算法带来了债务抵押债券的迅猛发展和房地产泡沫的 破灭。高斯相依函数是应用于多个领域的有效工具。但有一件事它做不了,即极 端事件的关联性建模,而人恰恰擅长走极端。 5

## 帕斯卡、伯努利和改变世界的博弈游戏

现代金融学的很多方面,从养老金到保险再到算法交易,都是基于概率论发 展起来的。无数其他行业也是如此,比如博彩、建筑和飞机制造。现代医学最有 潜力的发展动向便是基于概率论建立其检测和诊断的方法论。政治党派提名候选 人,建立其政治理念导向的依据并非实用主义或者事实,而是概率论。足球教练

Michael Bradley, The Foundations of Mathematics (New York: Chelsea House, 2006), p. 20.

@ Bernhard Fleischmann, Operations Research Proceedings 2008 (Berlin: Springer-Verlag, 2009), p. 235.

查阅小记录本,根据比赛剩余时间场内发生其他事件的概率做出决定。

所有概率论在现代的应用都可以追溯到1654年两个法国人布莱士·帕斯卡和 皮埃尔·费马之间的一封信。当年,帕斯卡给费马寄了张便条,上面写道:如果 一场赌博游戏还没结束,那该怎样分奖品呢?比如说一个玩家到目前为止赢了五 轮,另一个赢了两轮,那这时要回家的他们应该怎么分共有的奖品呢?帕斯卡在 一篇3000字的文章里论述了精确计算各种事件发生的可能性的方法。上面那道 赌博问题的答案就是推算出其余每一个玩家赢得大奖的概率,然后依据概率分发 奖品。Φ

这两位著名的数学家横跨法国就概率论这个问题互通书信长达五年之久,在这五年中,世界也随之改变。由于能够更好地预测未来可能发生的事,工业得到了迅速发展,人们也能更有把握地经营自己的生活和生意。帕斯卡写给费马的信使得农民的粮食可以免于遭受市场风险。也正是由于这封信,100年后欧洲财政部门才能发布准确的死亡率表。而伦敦之所以跃升为世界上最重要的城市,并持续了至少一个世纪之久,主要原因之一就藏在帕斯卡的信里面。这个航海国家善用保险,在跋励商人开辟新贸易市场的同时,又免于他们遭受投机活动可能带来的巨大风险。

在帕斯卡研究的基础上,雅各布·伯努利以及他之前的克里斯蒂安·惠更斯 将严密的概率论应用到纸牌和骰子等概率游戏中。②通过对概率游戏的研究,伯 努利提出了大数定理。⑤

① Keith Devlin, The Unfinished Game: Pascal, Fermat, and the Seventeenth-Century Letter That Made the World Modern (New York: Basics Books, 2008), p. 5.

② Michael Otte, Analysis and Synthesis in Mathematics: History and Philosophy (Dordrecht, Netherlands: Kluwer Academics Publishers, 1997), p. 79.

(3) Stephen M. Stigler, *The History of Statistics: The Measurement of Uncertainty before 1900* (Cambridge, MA: Harvard University Press, 1986), p. 5.

对于可计算概率的游戏,比如说掷一枚硬币(人头刺上和字面刺上的几率各占50%),伯努利的定理指出游戏重复次数越多,即掷硬币的次数越多,平均结果会越来越接近预计概率。如果投掷硬币10次,70%的概率头朝上,也不是不可能的。可要是投掷1000次,要想70%头朝上,几乎是不可能的。

这个原理影响了21点游戏赌徒和扑克牌玩家,同样也影响了华尔街很多高频交易者。高频交易者会保持很大的交易量,目的是使赢利概率趋近一个平均值水平。概率论也是现代棒球队总经理在挑选种子选手时会参照的一个理论,比如自责分和击球率等统计数据会因为一连串的不走运而偏低。一些更为复杂的统计测量可能会揭示此类坏运气,比如对投手来说,太多的地滚球被成功击中;对击球手来说,一些平飞球却没能击中。而在医疗诊断领域,出现了一类医生,他们依靠基于概率的算法去诊断病情而忽略任何先人之见。

对股票交易者来说,一旦市场行情有波动,以买卖点差为盈利目标的算法可能就行不通了,交易者和他的算法可能陷入单边(错误方向)的行情。如果算法在50美元的价位执行了买入微软,却没能在股市下跌之前在50.02美元的价位卖出,交易员在新的卖出执行价49.99美元卖出,就会遭受损失。

交易算法是用来预测市场走势的。成功的算法只需有51%的正确率就够了。但如果高频交易者一天只交易10次,51%的概率也很可能让他陷入亏损。可能有好些日子他10次交易里有7次都输了。但是高频交易者之所以被称为"高频"是有原因的。他们一天做一万多次交易,几百万股的交易量。正如伯努利指出的,随着交易次数增加,有盈利的交易会趋近于51%的概率。这也就是为什么很多实力雄厚的算法交易大机构可以做到一年甚至更长的时间里没有一天出现亏损。

除了对华尔街的贡献, 喜爱数学的人们应该感谢伯努利定义了计算复利的公式, 这是接触金融领域时首先要学到并记住的理念之一。伯努利研究计算连续复

利的算法时发现了数学常数e。在与莱布尼茨的通信中,他把这个数字称作b,或许取自他自己的姓。后来这个数字以莱昂哈德·欧拉的命名e著称于世。
